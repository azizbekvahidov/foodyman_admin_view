"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[3382],{30153:function(e,t,n){n.d(t,{Z:function(){return p}});var a=n(4942),l=n(47313),i=n(18197),r=n(24511),o=n(68144),c=n(76733),u=n.n(c),s=n(97421),d=n(36104),f=n(46417);function p(e){var t=e.form,n=e.lang,c=e.languages,p=(0,r.$)().t;function m(e){e.plugins.get("FileRepository").createUploadAdapter=function(e){return function(e){return{upload:function(){return new Promise((function(t,n){var a=new FormData;e.file.then((function(e){a.append("image",e),a.append("type","blogs"),d.Z.upload(a).then((function(e){var n=e.data;t({default:"".concat(s.bV+n.title)})})).catch((function(e){n(e)}))}))}))}}}(e)}}return(0,f.jsx)(l.Fragment,{children:c.map((function(e){return(0,f.jsx)(i.Z.Item,{label:p("description"),name:"description[".concat(e.locale,"]"),valuePropName:"data",getValueFromEvent:function(e,t){return t.getData()},rules:[{required:e.locale===n,message:p("required")}],hidden:e.locale!==n,children:(0,f.jsx)(o.CKEditor,{editor:u(),config:{extraPlugins:[m]},onBlur:function(n,l){var i=l.getData();t.setFieldsValue((0,a.Z)({},"description[".concat(e.value,"]"),i))}})},"desc"+e.locale)}))})}},73431:function(e,t,n){var a=n(47313),l=n(39180),i=n(2717),r=n(28830),o=n(60535),c=n(46417);t.Z=function(){var e=(0,i.I0)(),t=(0,i.v9)((function(e){return e.formLang}),i.wU),n=t.languages,u=t.defaultLang;(0,a.useEffect)((function(){o.Z.getAllActive().then((function(t){var n=t.data;e((0,r.dc)(n)),e((0,r.mh)(n.find((function(e){return 1===e.default})).locale))}))}),[]);return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(l.ZP.Group,{value:u,onChange:function(t){var n=t.target.value;e((0,r.mh)(n))},className:"float-right",buttonStyle:"solid",children:null===n||void 0===n?void 0:n.map((function(e){return(0,c.jsx)(l.ZP.Button,{value:e.locale,children:e.title},e.id)}))})})}},75336:function(e,t,n){n.d(t,{Z:function(){return i}});var a=n(93433),l=n(4942);function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"title",i=e.map((function(e){return(0,l.Z)({},e.locale,""===t["".concat(n,"[").concat(e.locale,"]")]?void 0:t["".concat(n,"[").concat(e.locale,"]")])}));return Object.assign.apply(Object,[{}].concat((0,a.Z)(i)))}},83382:function(e,t,n){n.r(t);var a=n(1413),l=n(93433),i=n(4942),r=n(29439),o=n(47313),c=n(58467),u=n(34491),s=n(18197),d=n(77181),f=n(68197),p=n(59624),m=n(66672),v=n(74294),g=n(86345),h=n(59491),Z=n(72652),b=n(2717),x=n(90954),j=n(1706),_=n(40113),y=n(24511),k=n(73431),N=n(5764),I=n(10320),w=n(97421),A=n(30153),F=n(31881),V=n.n(F),q=n(75336),L=n(46417);t.default=function(){var e,t,n,F=(0,y.$)().t,P=(0,b.v9)((function(e){return e.menu}),b.wU).activeMenu,S=(0,b.I0)(),U=s.Z.useForm(),E=(0,r.Z)(U,1)[0],O=(0,c.s0)(),z=(0,c.UO)().id,B=(0,o.useState)(!1),C=(0,r.Z)(B,2),D=C[0],M=C[1],R=(0,o.useState)(!1),$=(0,r.Z)(R,2),G=$[0],K=$[1],T=(0,o.useState)(null),Y=(0,r.Z)(T,2),H=Y[0],J=Y[1],Q=(0,b.v9)((function(e){return e.formLang}),b.wU),W=Q.languages,X=Q.defaultLang,ee=function(e){return{name:e,url:w.bV+e}},te=(0,o.useState)(null!==(e=P.data)&&void 0!==e&&null!==(t=e.galleries)&&void 0!==t&&t[0]?[ee(null===(n=P.data.galleries)||void 0===n?void 0:n[0].path)]:[]),ne=(0,r.Z)(te,2),ae=ne[0],le=ne[1];(0,o.useEffect)((function(){return function(){var e=E.getFieldsValue(!0);S((0,x.nc)({activeMenu:P,data:e}))}}),[]);var ie=function(e){K(!0),_.Z.getById(e).then((function(e){var t=e.data,n=(0,a.Z)((0,a.Z)((0,a.Z)({},t),function(e){if(!e)return{};var t=e.translations,n=W.map((function(e){var n,a,l;return l={},(0,i.Z)(l,"title[".concat(e.locale,"]"),null===(n=t.find((function(t){return t.locale===e.locale})))||void 0===n?void 0:n.title),(0,i.Z)(l,"description[".concat(e.locale,"]"),null===(a=t.find((function(t){return t.locale===e.locale})))||void 0===a?void 0:a.description),l}));return Object.assign.apply(Object,[{}].concat((0,l.Z)(n)))}(t)),t.buttons);E.setFieldsValue(n),le([ee(t.galleries[0].path)]),J(t.type)})).finally((function(){S((0,x.A_)(P)),K(!1)}))};return(0,o.useEffect)((function(){P.refetch&&ie(z)}),[P.refetch]),(0,L.jsx)(d.Z,{title:F("edit.page"),className:"h-100",extra:(0,L.jsx)(k.Z,{}),children:G?(0,L.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,L.jsx)(Z.Z,{size:"large",className:"py-5"})}):(0,L.jsxs)(s.Z,{name:"banner-add",layout:"vertical",onFinish:function(e){M(!0);var t={images:ae.map((function(e){return e.name})),active:Number(e.active),type:e.type,title:(0,q.Z)(W,e,"title"),description:(0,q.Z)(W,e,"description"),buttons:{google_play_button_link:null===e||void 0===e?void 0:e.google_play_button_link,app_store_button_link:null===e||void 0===e?void 0:e.app_store_button_link}};V()({method:"put",url:"".concat(w.YZ,"dashboard/admin/pages/").concat(z),headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))},data:t,params:{}}).then((function(){var e="pages";u.Am.success(F("successfully.updated")),S((0,x.ph)((0,a.Z)((0,a.Z)({},P),{},{nextUrl:e}))),O("/".concat(e)),S((0,j.R)())})).catch((function(e){var t,n;return u.Am.error(null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)})).finally((function(){return M(!1)}))},form:E,initialValues:(0,a.Z)({active:!0},P.data),className:"d-flex flex-column h-100",children:[(0,L.jsxs)(f.Z,{gutter:12,children:[(0,L.jsx)(p.Z,{span:12,children:W.map((function(e){return(0,L.jsx)(s.Z.Item,{label:F("name"),name:"title[".concat(e.locale,"]"),rules:[{required:e.locale===X,message:F("required")}],hidden:e.locale!==X,children:(0,L.jsx)(m.Z,{})},"title"+e.locale)}))}),(0,L.jsx)(p.Z,{span:12}),(0,L.jsx)(p.Z,{span:24,children:(0,L.jsx)(A.Z,{form:E,languages:W,lang:X})}),(0,L.jsx)(p.Z,{span:12,children:(0,L.jsx)(s.Z.Item,{label:F("type"),name:"type",rules:[{required:!0,message:F("required")}],children:(0,L.jsx)(v.Z,{options:I.z,className:"w-100",disabled:!0})})}),(0,L.jsx)(p.Z,{span:12,children:(0,L.jsx)(s.Z.Item,{label:F("active"),name:"active",valuePropName:"checked",children:(0,L.jsx)(g.Z,{})})}),"delivery"!==H&&"about"!==H&&(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(p.Z,{span:12,children:(0,L.jsx)(s.Z.Item,{label:F("google_play_button_link"),name:"google_play_button_link",children:(0,L.jsx)(m.Z,{className:"w-100"})})}),(0,L.jsx)(p.Z,{span:12,children:(0,L.jsx)(s.Z.Item,{label:F("app_store_button_link"),name:"app_store_button_link",children:(0,L.jsx)(m.Z,{className:"w-100"})})})]}),(0,L.jsx)(p.Z,{span:12,children:(0,L.jsx)(s.Z.Item,{label:F("image"),children:(0,L.jsx)(N.Z,{type:"receipts",imageList:ae,setImageList:le,form:E,multiple:!1})})})]}),(0,L.jsx)("div",{className:"flex-grow-1 d-flex flex-column justify-content-end",children:(0,L.jsx)("div",{className:"pb-5",children:(0,L.jsx)(h.Z,{type:"primary",htmlType:"submit",loading:D,disabled:D,children:F("submit")})})})]})})}},10320:function(e,t,n){n.d(t,{z:function(){return a}});var a=[{value:"delivery",label:"Delivery"},{value:"about",label:"About"},{value:"about_fourth",label:"About fourth"},{value:"about_second",label:"About second"},{value:"about_third",label:"About third"}]}}]);