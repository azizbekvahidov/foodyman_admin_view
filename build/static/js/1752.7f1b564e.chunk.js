"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[1752],{89802:function(e,n,t){t.d(n,{q:function(){return d}});var i=t(1413),a=t(29439),r=t(45987),l=t(47313),s=t(74294),c=t(72652),u=t(46417),o=["fetchOptions","refetch"],d=function(e){var n=e.fetchOptions,t=e.refetch,d=void 0!==t&&t,m=(0,r.Z)(e,o),f=(0,l.useState)(!1),h=(0,a.Z)(f,2),Z=h[0],v=h[1],x=(0,l.useState)([]),p=(0,a.Z)(x,2),j=p[0],g=p[1];return(0,u.jsx)(s.Z,(0,i.Z)((0,i.Z)({labelInValue:!0,filterOption:!1,notFoundContent:Z?(0,u.jsx)(c.Z,{size:"small"}):"no results"},m),{},{options:Z?[]:j,onFocus:function(){j.length&&!d||(v(!0),n().then((function(e){g(e),v(!1)})))}}))}},73431:function(e,n,t){var i=t(47313),a=t(39180),r=t(2717),l=t(28830),s=t(60535),c=t(46417);n.Z=function(){var e=(0,r.I0)(),n=(0,r.v9)((function(e){return e.formLang}),r.wU),t=n.languages,u=n.defaultLang;(0,i.useEffect)((function(){s.Z.getAllActive().then((function(n){var t=n.data;e((0,l.dc)(t)),e((0,l.mh)(t.find((function(e){return 1===e.default})).locale))}))}),[]);return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(a.ZP.Group,{value:u,onChange:function(n){var t=n.target.value;e((0,l.mh)(t))},className:"float-right",buttonStyle:"solid",children:null===t||void 0===t?void 0:t.map((function(e){return(0,c.jsx)(a.ZP.Button,{value:e.locale,children:e.title},e.id)}))})})}},33403:function(e,n,t){var i=t(34344),a={getAll:function(e){return i.Z.get("dashboard/seller/units/paginate",{params:e})},getById:function(e,n){return i.Z.get("dashboard/seller/units/".concat(e),{params:n})}};n.Z=a},71752:function(e,n,t){t.r(n);var i=t(29439),a=t(47313),r=t(82494),l=t(83999),s=t(77181),c=t(32723),u=t(1939),o=t(33072),d=t(73431),m=t(2717),f=t(24511),h=t(46417),Z=l.Z.Step;n.default=function(){var e,n=(0,f.$)().t,t=(0,m.v9)((function(e){return e.menu}),m.wU).activeMenu,v=(0,a.useState)((null===(e=t.data)||void 0===e?void 0:e.step)||0),x=(0,i.Z)(v,2),p=x[0],j=x[1],g=function(){j(p+1)},y=function(){j(p-1)};return(0,h.jsxs)(s.Z,{title:n("addon.add"),extra:(0,h.jsx)(d.Z,{}),children:[(0,h.jsx)(l.Z,{current:p,children:r.S.map((function(e){return(0,h.jsx)(Z,{title:n(e.title)},e.title)}))}),(0,h.jsxs)("div",{className:"steps-content",children:["First-content"===r.S[p].content&&(0,h.jsx)(o.Z,{next:g}),"Third-content"===r.S[p].content&&(0,h.jsx)(u.Z,{next:g,prev:y}),"Finish-content"===r.S[p].content&&(0,h.jsx)(c.Z,{prev:y})]})]})}},32723:function(e,n,t){var i=t(1413),a=t(93433),r=t(4942),l=t(29439),s=t(47313),c=t(83371),u=t(45705),o=t(59491),d=t(72652),m=t(2717),f=t(58467),h=t(90954),Z=t(24511),v=t(18333),x=t(81890),p=t(46417);n.Z=function(e){var n,t,j,g=e.prev,y=(0,Z.$)().t,b=(0,m.v9)((function(e){return e.menu}),m.wU).activeMenu,q=(0,m.v9)((function(e){return e.formLang}),m.wU),I=q.defaultLang,w=q.languages,S=(0,f.s0)(),k=(0,m.I0)(),N=(0,s.useState)({}),F=(0,l.Z)(N,2),U=F[0],_=F[1],O=(0,s.useState)(null),C=(0,l.Z)(O,2),L=C[0],M=C[1],A=(0,f.UO)().uuid,E=(0,m.v9)((function(e){return e.addons}),m.wU).params;function T(e){M(!0),v.Z.getById(e).then((function(e){var n=(0,i.Z)((0,i.Z)((0,i.Z)({},e.data),function(e){if(null===e||void 0===e||!e.translations)return{};var n=e.translations,t=w.map((function(e){var t,i,a;return a={},(0,r.Z)(a,"title[".concat(e.locale,"]"),null===(t=n.find((function(n){return n.locale===e.locale})))||void 0===t?void 0:t.title),(0,r.Z)(a,"description[".concat(e.locale,"]"),null===(i=n.find((function(n){return n.locale===e.locale})))||void 0===i?void 0:i.description),a}));return Object.assign.apply(Object,[{}].concat((0,a.Z)(t)))}(e.data)),{},{properties:e.data.properties.map((function(e,n){var t;return t={id:n},(0,r.Z)(t,"key[".concat(e.locale,"]"),e.key),(0,r.Z)(t,"value[".concat(e.locale,"]"),e.value),t})),translation:void 0,translations:void 0});_(n)})).finally((function(){return M(!1)}))}return(0,s.useEffect)((function(){T(A)}),[]),L?(0,p.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,p.jsx)(d.Z,{size:"large",className:"py-5"})}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(c.Z,{title:y("product.info"),bordered:!0,children:[(0,p.jsx)(c.Z.Item,{label:"".concat(y("title")," (").concat(I,")"),span:3,children:U["title[".concat(I,"]")]}),(0,p.jsx)(c.Z.Item,{label:"".concat(y("description")," (").concat(I,")"),span:3,children:U["description[".concat(I,"]")]}),(0,p.jsx)(c.Z.Item,{label:y("shop"),span:1.5,children:null===(n=U.shop)||void 0===n?void 0:n.translation.title}),(0,p.jsx)(c.Z.Item,{label:y("unit"),span:1.5,children:null===(t=U.unit)||void 0===t?void 0:t.translation.title}),(0,p.jsx)(c.Z.Item,{label:y("tax"),children:U.tax}),(0,p.jsx)(c.Z.Item,{label:y("min.quantity"),children:U.min_qty}),(0,p.jsx)(c.Z.Item,{label:y("max.quantity"),children:U.max_qty})]}),null===(j=U.stocks)||void 0===j?void 0:j.map((function(e,n){return e?(0,p.jsxs)(c.Z,{bordered:!0,className:"mt-4",children:[(0,p.jsx)(c.Z.Item,{label:y("price"),span:2,children:e.price}),(0,p.jsx)(c.Z.Item,{label:y("quantity"),span:2,children:e.quantity}),e.extras.map((function(e,n){var t,i;return(0,p.jsx)(c.Z.Item,{label:null===e||void 0===e||null===(t=e.group)||void 0===t||null===(i=t.translation)||void 0===i?void 0:i.title,children:null===e||void 0===e?void 0:e.value},"extra"+n)}))]},"desc"+n):""})),(0,p.jsx)("div",{className:"d-flex justify-content-end mt-4",children:(0,p.jsxs)(u.Z,{children:[(0,p.jsx)(o.Z,{onClick:g,children:y("prev")}),(0,p.jsx)(o.Z,{type:"primary",onClick:function(){var e=(0,i.Z)({status:"published"},E),n="seller/addons";k((0,h.ph)((0,i.Z)((0,i.Z)({},b),{},{nextUrl:n}))),k((0,x.I4)(e)),S("/".concat(n))},children:y("finish")})]})})]})}},33072:function(e,n,t){var i=t(1413),a=t(29439),r=t(47313),l=t(18197),s=t(68197),c=t(59624),u=t(77181),o=t(66672),d=t(6289),m=t(86345),f=t(59491),h=t(2717),Z=t(18333),v=t(90954),x=t(58467),p=t(24511),j=t(33403),g=t(49080),y=t(89802),b=t(46417);n.Z=function(e){var n=e.next,t=e.action_type,q=void 0===t?"":t,I=(0,p.$)().t,w=l.Z.useForm(),S=(0,a.Z)(w,1)[0],k=(0,h.I0)(),N=(0,x.UO)().uuid,F=(0,x.s0)(),U=(0,r.useState)(null),_=(0,a.Z)(U,2),O=_[0],C=_[1],L=(0,h.v9)((function(e){return e.myShop}),h.wU).myShop,M=(0,h.v9)((function(e){return e.menu}),h.wU).activeMenu,A=(0,h.v9)((function(e){return e.formLang}),h.wU),E=A.defaultLang,T=A.languages,V=(0,r.useState)(!1),$=(0,a.Z)(V,2),B=$[0],P=$[1];(0,r.useEffect)((function(){return function(){var e=S.getFieldsValue(!0);k((0,v.nc)({activeMenu:M,data:(0,i.Z)((0,i.Z)({},M.data),e)}))}}),[]);return(0,b.jsxs)(l.Z,{layout:"vertical",form:S,initialValues:(0,i.Z)({active:!0},M.data),onFinish:function(e){var t;P(!0);var a=(0,i.Z)((0,i.Z)({},e),{},{active:Number(e.active),shop_id:L.id,unit_id:null===(t=e.unit)||void 0===t?void 0:t.value,shop:void 0,addon:Number(1)});"edit"===q?function(e,t){Z.Z.update(N,t).then((function(){k((0,v.nc)({activeMenu:M,data:e})),n()})).catch((function(e){return C(e.response.data.params)})).finally((function(){return P(!1)}))}(e,a):function(e,n){Z.Z.create(n).then((function(n){var t=n.data;k((0,v.SS)({id:"addons-".concat(t.uuid),url:"seller/addon/".concat(t.uuid),name:I("add.addons"),data:e,refetch:!1})),F("/seller/addon/".concat(t.uuid,"?step=1"))})).catch((function(e){return C(e.response.data.params)})).finally((function(){return P(!1)}))}(e,a)},className:"addon-menu",children:[(0,b.jsxs)(s.Z,{gutter:12,children:[(0,b.jsxs)(c.Z,{xs:24,sm:24,md:16,children:[(0,b.jsxs)(u.Z,{title:I("basic.info"),children:[T.map((function(e){return(0,b.jsx)(l.Z.Item,{label:I("name"),name:"title[".concat(e.locale,"]"),rules:[{required:e.locale===E,message:I("required")}],hidden:e.locale!==E,children:(0,b.jsx)(o.Z,{})},"name"+e.id)})),T.map((function(e){return(0,b.jsx)(l.Z.Item,{label:I("description"),name:"description[".concat(e.locale,"]"),rules:[{required:e.locale===E,message:I("required")}],hidden:e.locale!==E,children:(0,b.jsx)(g.Z,{rows:4,span:4})},"description"+e.id)}))]}),(0,b.jsx)(u.Z,{title:I("price"),children:(0,b.jsxs)(s.Z,{gutter:12,children:[(0,b.jsx)(c.Z,{span:12,children:(0,b.jsx)(l.Z.Item,{label:I("min.qty"),name:"min_qty",rules:[{required:!0,message:I("required")}],children:(0,b.jsx)(d.Z,{min:0,className:"w-100"})})}),(0,b.jsx)(c.Z,{span:12,children:(0,b.jsx)(l.Z.Item,{label:I("max.qty"),name:"max_qty",rules:[{required:!0,message:I("required")}],children:(0,b.jsx)(d.Z,{min:0,className:"w-100"})})}),(0,b.jsx)(c.Z,{span:12,children:(0,b.jsx)(l.Z.Item,{label:I("tax"),name:"tax",rules:[{required:!0,message:I("required")}],children:(0,b.jsx)(d.Z,{min:0,className:"w-100",addonAfter:"%"})})}),(0,b.jsx)(c.Z,{span:12,children:(0,b.jsx)(l.Z.Item,{label:I("active"),name:"active",valuePropName:"checked",children:(0,b.jsx)(m.Z,{})})})]})})]}),(0,b.jsx)(c.Z,{xs:24,sm:24,md:8,children:(0,b.jsxs)(u.Z,{title:I("addition"),children:[(0,b.jsx)(l.Z.Item,{label:I("unit"),name:"unit",rules:[{required:!0,message:I("required")}],children:(0,b.jsx)(y.q,{style:{width:"100%"},fetchOptions:function(e){var n={search:e};return j.Z.getAll(n).then((function(e){return function(e){return e.map((function(e){var n;return{label:null===(n=e.translation)||void 0===n?void 0:n.title,value:e.id}}))}(e.data)}))}})}),(0,b.jsx)(l.Z.Item,{label:I("qr.code"),name:"bar_code",rules:[{required:!0,message:I("required")}],help:null!==O&&void 0!==O&&O.bar_code?O.bar_code[0]:null,validateStatus:null!==O&&void 0!==O&&O.bar_code?"error":"success",children:(0,b.jsx)(o.Z,{className:"w-100"})})]})})]}),(0,b.jsx)(f.Z,{type:"primary",htmlType:"submit",loading:B,children:I("next")})]})}},1939:function(e,n,t){var i=t(29439),a=t(47313),r=t(18197),l=t(68197),s=t(59624),c=t(6289),u=t(45705),o=t(59491),d=t(2717),m=t(18333),f=t(24511),h=t(58467),Z=t(90954),v=t(46417);n.Z=function(e){var n=e.prev,t=e.next,x=(e.current,(0,f.$)().t),p=r.Z.useForm(),j=(0,i.Z)(p,1)[0],g=(0,h.UO)().uuid,y=(0,d.v9)((function(e){return e.menu}),d.wU).activeMenu,b=(0,a.useState)(null),q=(0,i.Z)(b,2),I=q[0],w=q[1],S=(0,d.I0)();return(0,a.useEffect)((function(){var e,n,t,i;S((0,Z.xo)(y)),j.setFieldsValue({price:null!==(e=y.data)&&void 0!==e&&null!==(n=e.stocks)&&void 0!==n&&n.length?y.data.stocks[0].price:[""],quantity:null!==(t=y.data)&&void 0!==t&&null!==(i=t.stocks)&&void 0!==i&&i.length?y.data.stocks[0].quantity:[""]})}),[]),(0,v.jsxs)(r.Z,{layout:"vertical",form:j,onFinish:function(e){var n;w(!0),n=[{price:e.price,quantity:e.quantity}],m.Z.stocks(g,{extras:n}).then((function(){return t()})).finally((function(){return w(!1)}))},children:[(0,v.jsxs)(l.Z,{gutter:12,align:"middle",style:{flexWrap:"nowrap",overflowX:"auto"},children:[(0,v.jsx)(s.Z,{children:(0,v.jsx)(r.Z.Item,{label:x("price"),name:"price",rules:[{required:!0,message:x("required")}],children:(0,v.jsx)(c.Z,{min:0,className:"w-100",style:{minWidth:200}})})}),(0,v.jsx)(s.Z,{children:(0,v.jsx)(r.Z.Item,{label:x("quantity"),name:"quantity",rules:[{required:!0,message:x("required")}],children:(0,v.jsx)(c.Z,{min:0,className:"w-100",style:{minWidth:200}})})})]}),(0,v.jsxs)(u.Z,{className:"mt-4",children:[(0,v.jsx)(o.Z,{onClick:n,children:x("prev")}),(0,v.jsx)(o.Z,{type:"primary",htmlType:"submit",loading:!!I,children:x("next")})]})]})}},82494:function(e,n,t){t.d(n,{S:function(){return i}});var i=[{title:"addons",content:"First-content"},{title:"stocks",content:"Third-content"},{title:"finish",content:"Finish-content"}]}}]);