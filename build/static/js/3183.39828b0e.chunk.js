"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[3183],{55940:function(e,n,t){t.d(n,{Z:function(){return v}});var a=t(1413),o=t(45987),i=(t(47313),t(59491)),r=t(47515),l=t(34491),s=t(24511),c=t(79492),d=t(46417),u=["size","onClick","type"];function v(e){var n=e.size,t=void 0===n?"":n,v=e.onClick,f=e.type,p=void 0===f?"default":f,h=(0,o.Z)(e,u),m=(0,s.$)().t,x=(0,c.Z)().isDemo;return(0,d.jsx)(i.Z,(0,a.Z)({size:t,icon:(0,d.jsx)(r.Z,{}),onClick:function(e){x?l.Am.warning(m("cannot.work.demo")):v(e)},type:p},h))}},38628:function(e,n,t){var a=t(77181),o=t(14133),i=(t(47313),t(46417));n.Z=function(e){var n=e.loading;return(0,i.jsx)(a.Z,{className:"order-card",children:(0,i.jsx)(o.Z,{loading:n,avatar:!0,active:!0})})}},26546:function(e,n,t){t.d(n,{Z:function(){return N}});var a=t(47313),o=t(1413),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-40 824H232V687h97.9c11.6 32.8 32 62.3 59.1 84.7 34.5 28.5 78.2 44.3 123 44.3s88.5-15.7 123-44.3c27.1-22.4 47.5-51.9 59.1-84.7H792v-63H643.6l-5.2 24.7C626.4 708.5 573.2 752 512 752s-114.4-43.5-126.5-103.3l-5.2-24.7H232V136h560v752zM320 341h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zm0 160h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}}]},name:"container",theme:"outlined"},r=t(17469),l=function(e,n){return a.createElement(r.Z,(0,o.Z)((0,o.Z)({},e),{},{ref:n,icon:i}))};l.displayName="ContainerOutlined";var s=a.forwardRef(l),c=t(60931),d=t(45427),u=t(86949),v=t(35529),f=t(91805),p=t(31741),h=t(47515),m=t(6986),x=t(39548),Z=t(77181),g=t(14133),y=t(45334),j=t(42346),b=t(45705),C=t(97421),w=t(84017),k=t(70816),S=t.n(k),I=t(5958),M=t(79492),O=t(46417),P=Z.Z.Meta,N=function(e){var n,t,a,o,i,r,l,k,N,E=e.data,_=e.goToShow,D=e.loading,T=e.setLocationsMap,z=e.setId,F=e.setIsModalVisible,V=e.setText,H=e.setDowloadModal,A=e.setType,L=(0,M.Z)(),B=L.isDemo,U=L.demoFunc,K=[{title:"Number of products",icon:(0,O.jsx)(s,{}),data:null===E||void 0===E?void 0:E.order_details_count},{title:"Deliveryman",icon:(0,O.jsx)(c.Z,{}),data:"".concat((null===(n=E.deliveryman)||void 0===n?void 0:n.firstname)||"-"," ").concat((null===(t=E.deliveryman)||void 0===t?void 0:t.lastname)||"-")},{title:"Amount",icon:(0,O.jsx)(d.Z,{}),data:(0,w.Z)(E.total_price,null===(a=E.currency)||void 0===a?void 0:a.symbol)},{title:"Payment type",icon:(0,O.jsx)(u.Z,{}),data:(null===(o=E.transaction)||void 0===o||null===(i=o.payment_system)||void 0===i?void 0:i.tag)||"-"},{title:"Payment status",icon:(0,O.jsx)(v.Z,{}),data:(null===(r=E.transaction)||void 0===r?void 0:r.status)||"-"},{title:"Delivery date",icon:(0,O.jsx)(f.Z,{}),data:S()(null===E||void 0===E?void 0:E.delivery_date).format("YYYY-MM-DD")||"-"},{title:"Created at",icon:(0,O.jsx)(f.Z,{}),data:S()(null===E||void 0===E?void 0:E.created_at).format("YYYY-MM-DD")||"-"}];return(0,O.jsx)(Z.Z,{actions:[(0,O.jsx)(I.Y4r,{size:20,onClick:function(e){e.stopPropagation(),T(E.id)}}),(0,O.jsx)(p.Z,{onClick:function(){return _(E)}},"setting"),(0,O.jsx)(h.Z,{onClick:function(e){B?U():(e.stopPropagation(),z([E.id]),F(!0),V(!0),A(E.status))}}),(0,O.jsx)(m.Z,{onClick:function(){return H(E.id)}},"ellipsis")],className:"order-card",children:(0,O.jsxs)(g.Z,{loading:D,avatar:!0,active:!0,children:[(0,O.jsx)(P,{avatar:(0,O.jsx)(y.C,{src:C.bV+(null===(l=E.user)||void 0===l?void 0:l.img),icon:(0,O.jsx)(x.Z,{})}),description:"#".concat(E.id),title:"".concat((null===(k=E.user)||void 0===k?void 0:k.firstname)||"-"," ").concat((null===(N=E.user)||void 0===N?void 0:N.lastname)||"-")}),(0,O.jsx)(j.ZP,{itemLayout:"horizontal",dataSource:K,renderItem:function(e,n){return(0,O.jsx)(j.ZP.Item,{children:(0,O.jsxs)(b.Z,{children:[e.icon,"".concat(e.title,":  ").concat(e.data)]})},n)}})]})})}},41481:function(e,n,t){t.d(n,{Z:function(){return v}});var a=t(1413),o=t(29439),i=t(45987),r=t(47313),l=t(66672),s=t(16031),c=t(40765),d=t(46417),u=["handleChange","defaultValue","resetSearch"];function v(e){var n=e.handleChange,t=e.defaultValue,v=e.resetSearch,f=(0,i.Z)(e,u),p=(0,r.useState)(t),h=(0,o.Z)(p,2),m=h[0],x=h[1],Z=(0,r.useMemo)((function(){return(0,s.debounce)((function(e){n(e)}),800)}),[]);return(0,r.useEffect)((function(){x(t)}),[v]),(0,d.jsx)(l.Z,(0,a.Z)({value:m,onChange:function(e){x(e.target.value),Z(e.target.value)},prefix:(0,d.jsx)(c.Z,{})},f))}},89281:function(e,n,t){t.d(n,{h:function(){return f}});var a=t(1413),o=t(29439),i=t(45987),r=t(47313),l=t(12279),s=t.n(l),c=t(74294),d=t(72652),u=t(46417),v=["fetchOptions","debounceTimeout"],f=function(e){var n=e.fetchOptions,t=e.debounceTimeout,l=void 0===t?400:t,f=(0,i.Z)(e,v),p=(0,r.useState)(!1),h=(0,o.Z)(p,2),m=h[0],x=h[1],Z=(0,r.useState)([]),g=(0,o.Z)(Z,2),y=g[0],j=g[1],b=(0,r.useMemo)((function(){return s()((function(e){j([]),x(!0),n(e).then((function(e){j(e),x(!1)}))}),l)}),[n,l]);return(0,u.jsx)(c.Z,(0,a.Z)((0,a.Z)({showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:b,notFoundContent:m?(0,u.jsx)(d.Z,{size:"small"}):"no results"},f),{},{options:y,onFocus:function(){y.length||b("")}}))}},98501:function(e,n,t){t.d(n,{Q:function(){return a}});var a={new:[1,2,3,4,5],accepted:[1,2,3,4,5],ready:[1,2,3,4,5],on_a_way:[1,2,3,4,5],delivered:[1,2,3,4,5],canceled:[1,2,3,4,5]}},17649:function(e,n,t){t.d(n,{Z:function(){return a}});t(97421);function a(e){if(null===e||void 0===e||!e.location)return{lat:47.4143302506288,lng:8.532059477976883};var n=e.location.split(", ");return{lat:Number(null===n||void 0===n?void 0:n[0]),lng:Number(null===n||void 0===n?void 0:n[1])}}},84017:function(e,n,t){function a(e){return e?(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$")+" "+Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"):"0"}t.d(n,{Z:function(){return a}})},80314:function(e,n,t){var a=t(47313);n.Z=function(e,n){var t=(0,a.useRef)(!1);(0,a.useEffect)((function(){if(t.current)return e&&e();t.current=!0}),n)}},36311:function(e,n,t){var a=t(34344),o={orderExport:function(e,n){return a.Z.get("dashboard/user/export/order/".concat(e,"/pdf"),{params:n,responseType:"blob"})}};n.Z=o},55508:function(e,n,t){var a=t(39180),o=(t(47313),t(58821)),i=t(54972),r=t(58467),l=t(46417),s=[{value:"seller/orders-board",title:"Board",icon:(0,l.jsx)(i.Ez2,{size:20})},{value:"seller/orders",title:"List",icon:(0,l.jsx)(o.Ps6,{size:20})}];n.Z=function(e){var n=e.listType,t=(0,r.UO)().type,o=(0,r.s0)();return(0,l.jsx)(a.ZP.Group,{value:n,onChange:function(e){o("/".concat(e.target.value).concat(t?"/".concat(t):""))},className:"float-right",buttonStyle:"solid",children:null===s||void 0===s?void 0:s.map((function(e){return(0,l.jsx)(a.ZP.Button,{value:e.value,children:(0,l.jsxs)("div",{className:"d-flex align-items-center",style:{gap:"10px"},children:[e.icon,e.title]})},e.value)}))})}},88852:function(e,n,t){t.d(n,{Z:function(){return x}});var a=t(1413),o=t(29439),i=t(47313),r=t(18197),l=t(84695),s=t(59491),c=t(68197),d=t(59624),u=t(74294),v=t(2717),f=t(62412),p=t(90954),h=t(24511),m=t(46417);function x(e){var n,t=e.orderDetails,x=e.handleCancel,Z=(0,h.$)().t,g=(0,v.v9)((function(e){return e.menu}),v.wU).activeMenu,y=(0,v.v9)((function(e){return e.deliveryman}),v.wU).deliverymans,j=r.Z.useForm(),b=(0,o.Z)(j,1)[0],C=(0,v.I0)(),w=(0,i.useState)(!1),k=(0,o.Z)(w,2),S=k[0],I=k[1];return(0,m.jsx)(l.Z,{visible:!!t,title:t.title,onCancel:x,footer:[(0,m.jsx)(s.Z,{type:"primary",onClick:function(){return b.submit()},loading:S,children:Z("save")}),(0,m.jsx)(s.Z,{type:"default",onClick:x,children:Z("cancel")})],children:(0,m.jsx)(r.Z,{form:b,layout:"vertical",onFinish:function(e){var n=(0,a.Z)({},e);I(!0),f.Z.updateDelivery(t.id,n).then((function(){x(),C((0,p.xo)(g))})).finally((function(){return I(!1)}))},initialValues:{deliveryman:null===(n=t.deliveryman)||void 0===n?void 0:n.id},children:(0,m.jsx)(c.Z,{gutter:12,children:(0,m.jsx)(d.Z,{span:24,children:(0,m.jsx)(r.Z.Item,{label:Z("deliveryman"),name:"deliveryman",rules:[{required:!0,message:Z("required")}],children:(0,m.jsx)(u.Z,{children:y.map((function(e,n){return(0,m.jsxs)(u.Z.Option,{value:e.id,className:"d-block",children:[e.firstname," ",e.lastname||""]},e.id)}))})})})})})})}},43183:function(e,n,t){t.r(n),t.d(n,{default:function(){return ie}});var a=t(74165),o=t(15861),i=t(4942),r=t(93433),l=t(1413),s=t(29439),c=t(47313),d=t(45705),u=t(59491),v=t(77181),f=t(58467),p=t(55768),h=t(15386),m=t(2717),x=t(90954),Z=t(24511),g=t(80314),y=t(41589),j=t(41481),b=t(89281),C=t(58328),w=t(40197),k=t(55940),S=t(74580),I=t(34491),M=t(62412),O=t(43773),P=t(93709),N=t(66204),E=t(43880),_=t(46417),D=function(e){var n=e.children,t=e.title,a=e.name,o=e.isDropDisabled,i=e.total,r=void 0===i?0:i,l=e.loading,s=void 0!==l&&l,c=e.reloadOrder,u=(0,Z.$)().t;return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(P.Z,{message:(0,_.jsxs)(d.Z,{children:[(0,_.jsx)(O.Z,{size:20,style:{cursor:"pointer"},spin:s,onClick:c}),u(t),(0,_.jsx)(N.Z,{children:s?(0,_.jsx)(O.Z,{spin:!0}):r})]}),className:"mb-4 ".concat(a),style:{textAlign:"center",fontSize:16,textTransform:"capitalize"}}),(0,_.jsx)(E.bK,{droppableId:a,isDropDisabled:o,children:function(e){return(0,_.jsx)("div",{ref:e.innerRef,className:"h-screen",style:{opacity:o?.6:1},children:(0,_.jsxs)(_.Fragment,{children:[n,e.placeholder]})})}})]})},T=t(72652),z=t(7142),F=t(82508),V=t(98501),H=t(38628),A=t(26546),L=["new","accepted","ready","on_a_way","delivered","canceled"],B=function(e){var n=e.goToEdit,t=e.goToShow,a=e.fetchOrderAllItem,o=e.fetchOrders,i=e.setLocationsMap,r=e.setId,d=e.setIsModalVisible,u=e.setText,v=e.setDowloadModal,f=(e.type,e.setType),p=(0,m.I0)(),h=(0,m.v9)((function(e){return e.sellerOrders}),m.wU).items,x=(0,m.v9)((function(e){return e.sellerOrders}),m.wU),Z=(0,c.useState)(""),g=(0,s.Z)(Z,2),j=g[0],b=g[1],C=(0,c.useState)({}),w=(0,s.Z)(C,2),k=w[0],S=w[1],O=(0,c.useState)({}),P=(0,s.Z)(O,2),N=P[0],B=P[1],U=function(e){if(e.destination){var n,t;e.destination&&k.source.droppableId!==e.destination.droppableId&&(n=e.draggableId,t={status:e.destination.droppableId},M.Z.updateStatus(n,t).then((function(e){I.Am.success("#".concat(n," order status changed"))})));var a=(0,l.Z)({},h),o=function(e,n){var t=Array.from(e),a=t.splice(n,1);return[(0,s.Z)(a,1)[0],t]}(a[e.source.droppableId],e.source.index),i=(0,s.Z)(o,2),r=i[0],c=i[1];a[e.source.droppableId]=c;var d=a[e.destination.droppableId];a[e.destination.droppableId]=function(e,n,t){var a=Array.from(e);return a.splice(n,0,t),a}(d,e.destination.index,r),p((0,y.U7)(a)),B(null)}},K=function(e){return(0!==e||N!==L.length-1)&&!!Boolean(N>e)};(0,c.useEffect)((function(){p((0,y.H5)()),a()}),[]);return(0,_.jsx)(E.Z5,{onDragEnd:U,onDragStart:function(e){var n=L.findIndex((function(n){return n===e.source.droppableId}));S(e),B(n)},children:(0,_.jsx)("div",{className:"order-board",children:null===L||void 0===L?void 0:L.map((function(e,a){var s,c,m,Z;return(0,_.jsx)("div",{className:"dnd-column",children:(0,_.jsx)(D,{title:e,onDragEnd:U,name:e,isDropDisabled:K(a),total:null===(s=h[e])||void 0===s?void 0:s.length,loading:x[e].loading,reloadOrder:function(){return function(e){p((0,y.x9)(e)),o({status:e})}(e)},children:(0,_.jsxs)(z.ZP,{onScroll:function(n){return function(e,n){var t=e.target.lastChild,a=e.target.clientHeight+e.target.scrollTop;t&&a>t.offsetTop+t.clientHeight+19.9&&x[n].meta.last_page>x[n].meta.current_page&&!x[n].loading&&(b(n),o({page:x[n].meta.current_page+1,perPage:5,status:n}))}(n,e)},autoHeight:!0,autoHeightMin:"75vh",autoHeightMax:"75vh",autoHide:!0,id:e,children:[Boolean(x[e].loading&&!(null!==(c=h[e])&&void 0!==c&&c.length))?null===(Z=V.Q[e])||void 0===Z?void 0:Z.map((function(){return(0,_.jsx)(H.Z,{loading:!0})})):null===(m=h[e])||void 0===m?void 0:m.map((function(e,a){return(0,_.jsx)(_.Fragment,{children:(0,_.jsx)(E._l,{draggableId:e.id.toString(),index:a,children:function(a,o){return(0,_.jsx)("div",(0,l.Z)((0,l.Z)((0,l.Z)({ref:a.innerRef},a.draggableProps),a.dragHandleProps),{},{children:(0,_.jsx)(A.Z,{data:e,goToEdit:n,goToShow:t,setLocationsMap:i,setId:r,setIsModalVisible:d,setText:u,setDowloadModal:v,setType:f})}))}},e.id)})})),x[e].loading&&e===j&&(0,_.jsx)(T.Z,{indicator:(0,_.jsx)(F.Z,{style:{fontSize:24},spin:!0})})]})})},e)}))})})},U=t(88852),K=t(55508),R=t(73270),Y=t(72944),$=t(36311),q=t(83334),G=t.n(q),Q=t(51282),W=t(84695),J=t(68197),X=t(59624),ee=t(58821),ne=t(57864),te=v.Z.Meta,ae=function(e){var n=e.id,t=e.handleCancel,a=(0,c.useState)(null),o=(0,s.Z)(a,2),i=o[0],r=o[1],l=(0,Z.$)().t,d=(0,f.s0)();return(0,_.jsx)(_.Fragment,{children:i?(0,_.jsx)(Q.Z,{}):(0,_.jsx)(W.Z,{visible:!!n,title:l("selected.download"),closable:!1,handleCancel:t,footer:[(0,_.jsx)(u.Z,{type:"default",onClick:t,children:l("cancel")},"cancelBtn")],children:(0,_.jsxs)(J.Z,{children:[(0,_.jsx)(X.Z,{span:12,children:(0,_.jsx)(v.Z,{title:l("download.pdf"),onClick:function(){return function(e){r(!0),$.Z.orderExport(e).then((function(n){G()(n,"invoice_".concat(e,".pdf"),"application/pdf"),t()})).finally((function(){return r(!1)}))}(n)},className:"text-center cursor-pointer",children:(0,_.jsx)(te,{className:"d-flex align-items-center justify-content-center",title:(0,_.jsx)(ee._JY,{size:80})})})}),(0,_.jsx)(X.Z,{span:12,children:(0,_.jsx)(v.Z,{title:l("download.check"),onClick:function(){return function(e){d("/seller/generate-invoice/".concat(e))}(n)},className:"text-center cursor-pointer",children:(0,_.jsx)(te,{className:"d-flex align-items-center justify-content-center",title:(0,_.jsx)(ne.ih9,{size:85})})})})]})})})},oe=t(69658);function ie(){var e,n=(0,m.I0)(),t=(0,f.s0)(),O=(0,Z.$)().t,P=(0,c.useState)(null),N=(0,s.Z)(P,2),E=N[0],D=N[1],T=(0,c.useContext)(S._).setIsModalVisible,z=(0,c.useState)(null),F=(0,s.Z)(z,2),V=F[0],H=F[1],A=(0,c.useState)(!1),L=(0,s.Z)(A,2),$=L[0],q=L[1],G=(0,c.useState)(null),Q=(0,s.Z)(G,2),W=Q[0],J=Q[1],X=(0,c.useState)(null),ee=(0,s.Z)(X,2),ne=ee[0],te=ee[1],ie=(0,c.useState)(null),re=(0,s.Z)(ie,2),le=re[0],se=re[1],ce=(0,c.useState)(null),de=(0,s.Z)(ce,2),ue=de[0],ve=de[1],fe=(0,m.v9)((function(e){return e.menu}),m.wU).activeMenu,pe=null===fe||void 0===fe?void 0:fe.data;(0,g.Z)((function(){var e={search:null===pe||void 0===pe?void 0:pe.search,sort:null===pe||void 0===pe?void 0:pe.sort,column:null===pe||void 0===pe?void 0:pe.column,perPage:null===pe||void 0===pe?void 0:pe.perPage,page:null===pe||void 0===pe?void 0:pe.page,user_id:null===pe||void 0===pe?void 0:pe.userId,status:null===pe||void 0===pe?void 0:pe.status};n((0,y.o1)(e))}),[pe]),(0,c.useEffect)((function(){if(null!==fe&&void 0!==fe&&fe.refetch){var e={status:null===pe||void 0===pe?void 0:pe.status,perPage:10};n((0,y.AU)(e)),n((0,w.ZL)()),n((0,x.A_)(fe))}}),[null===fe||void 0===fe?void 0:fe.refetch]);var he=function(e,t){n((0,x.nc)({activeMenu:fe,data:(0,l.Z)((0,l.Z)({},pe),{},(0,i.Z)({},t,e))}))};function me(){return me=(0,o.Z)((0,a.Z)().mark((function e(n){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={search:n,perPage:10},e.abrupt("return",C.Z.getAll(t).then((function(e){return e.data.map((function(e){return{label:"".concat(e.firstname," ").concat(e.lastname||""),value:e.id}}))})));case 2:case"end":return e.stop()}}),e)}))),me.apply(this,arguments)}var xe=function(e){switch(e.status){case"new":n((0,y.O7)(e));break;case"accepted":n((0,y.We)(e));break;case"ready":n((0,y.wC)(e));break;case"on_a_way":n((0,y.Ri)(e));break;case"delivered":n((0,y.Rd)(e));break;case"canceled":n((0,y.eV)(e));break;default:console.log("Sorry, we are out of")}},Ze=function(){xe({status:"new"}),xe({status:"accepted"}),xe({status:"ready"}),xe({status:"on_a_way"}),xe({status:"delivered"}),xe({status:"canceled"})},ge=function(){se(null),J(null),te(null)};return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)(d.Z,{className:"justify-content-end w-100 mb-3",children:[(0,_.jsx)(K.Z,{listType:"seller/orders-board"}),(0,_.jsx)(u.Z,{type:"primary",icon:(0,_.jsx)(p.Z,{}),onClick:function(){n((0,R.bn)()),n((0,x.bL)({id:"pos.system",url:"seller/pos-system",name:O("add.order")})),t("/seller/pos-system")},style:{width:"100%"},children:O("add.order")})]}),(0,_.jsx)(v.Z,{children:(0,_.jsxs)(d.Z,{wrap:!0,children:[(0,_.jsx)(j.Z,{placeholder:O("search"),handleChange:function(e){return he(e,"search")},defaultValue:null===(e=fe.data)||void 0===e?void 0:e.search}),(0,_.jsx)(b.h,{placeholder:O("select.client"),fetchOptions:function(e){return me.apply(this,arguments)},onSelect:function(e){return he(e.value,"search")},onDeselect:function(){return he(null,"search")},style:{minWidth:200}}),(0,_.jsx)(u.Z,{icon:(0,_.jsx)(h.Z,{}),onClick:function(){(0,m.dC)((function(){n((0,y.H5)()),n((0,x.nc)({activeMenu:fe,data:null}))})),Ze()},children:O("clear")}),(0,_.jsx)(k.Z,{size:"",onClick:function(){null===E||0===E.length?I.Am.warning(O("select.the.product")):(T(!0),H(!1))},children:O("delete.selected")})]})}),(0,_.jsx)(B,{goToShow:function(e){n((0,x.bL)({url:"seller/order/details/".concat(e.id),id:"order_details",name:O("order.details")})),t("/seller/order/details/".concat(e.id))},fetchOrderAllItem:Ze,fetchOrders:xe,setLocationsMap:J,setId:D,setIsModalVisible:T,setText:H,setDowloadModal:te,type:ue,setType:ve}),(0,_.jsx)(oe.Z,{click:function(){q(!0);var e=(0,l.Z)({},Object.assign.apply(Object,[{}].concat((0,r.Z)(E.map((function(e,n){return(0,i.Z)({},"ids[".concat(n,"]"),e)}))))));M.Z.delete(e).then((function(){I.Am.success(O("successfully.deleted")),T(!1),Ze({status:ue}),H(null)})).finally((function(){return q(!1)}))},text:O(V?"delete":"all.delete"),loading:$,setText:D,setActive:D}),le&&(0,_.jsx)(U.Z,{orderDetails:le,handleCancel:ge}),W&&(0,_.jsx)(Y.Z,{id:W,handleCancel:ge}),ne&&(0,_.jsx)(ae,{id:ne,handleCancel:ge})]})}},72944:function(e,n,t){var a=t(29439),o=t(84697),i=t(83999),r=t(84695),l=t(59491),s=t(77181),c=t(68197),d=t(59624),u=t(66204),v=t(47313),f=t(24511),p=t(62412),h=t(51282),m=t(58821),x=t(2717),Z=t(97421),g=t(18478),y=t(84618),j=t(17649),b=t(66461),C=t(22539),w=t(3394),k=t(57864),S=t(46417),I=i.Z.Step,M=function(){return(0,S.jsx)("img",{src:g,width:"50",alt:"Pin"})},O=function(){return(0,S.jsx)("img",{src:y,width:"50",alt:"Pin"})},P=["blue","red","gold","volcano","cyan","lime"];n.Z=function(e){var n,t,g,y,N,E,_=e.id,D=e.handleCancel,T=(0,f.$)().t,z=(0,v.useState)(null),F=(0,a.Z)(z,2),V=F[0],H=F[1],A=(0,v.useState)(null),L=(0,a.Z)(A,2),B=L[0],U=L[1],K=(0,v.useState)(null),R=(0,a.Z)(K,2),Y=R[0],$=R[1],q=(0,x.v9)((function(e){return e.globalSettings}),x.wU).settings,G=(0,j.Z)(q),Q=(0,v.useState)(0),W=(0,a.Z)(Q,2),J=W[0],X=W[1],ee=(0,v.useState)((0,j.Z)(q)),ne=(0,a.Z)(ee,2),te=ne[0],ae=ne[1],oe=(0,v.useState)((0,j.Z)(q)),ie=(0,a.Z)(oe,2),re=ie[0],le=ie[1],se=(0,v.useState)([{id:0,name:"new",icon:(0,S.jsx)(b.Z,{})},{id:1,name:"accepted",icon:(0,S.jsx)(m.IQF,{})},{id:2,name:"ready",icon:(0,S.jsx)(C.TkG,{})},{id:3,name:"on_a_way",icon:(0,S.jsx)(w.Akc,{})},{id:4,name:"delivered",icon:(0,S.jsx)(w.kme,{})}]),ce=(0,a.Z)(se,2),de=ce[0],ue=ce[1];var ve=(0,x.v9)((function(e){return e.globalSettings.settings}),x.wU).google_map_key;(0,v.useEffect)((function(){H(!0),p.Z.getById(_).then((function(e){var n,t=e.data;ue("canceled"===t.status?[{id:1,name:"new",icon:(0,S.jsx)(b.Z,{})},{id:5,name:"canceled",icon:(0,S.jsx)(k.SV5,{})}]:de),X("canceled"===t.status?1:null===(n=de.find((function(e){return e.name===t.status})))||void 0===n?void 0:n.id),$("canceled"===t.status?"error":"success"),U(t),le({lat:t.location.latitude,lng:t.location.longitude}),ae({lat:t.shop.location.latitude,lng:t.shop.location.longitude})})).finally((function(){H(!1)}))}),[]);return(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(r.Z,{visible:!!_,title:T("show.locations"),closable:!0,onCancel:D,style:{minWidth:"80vw"},footer:[(0,S.jsx)(l.Z,{type:"default",onClick:D,children:T("cancel")},"cancelBtn")],children:V?(0,S.jsx)(h.Z,{}):(0,S.jsxs)(s.Z,{children:[(0,S.jsx)(i.Z,{current:J,status:Y,className:"mb-5",children:null===de||void 0===de?void 0:de.map((function(e,n){return(0,S.jsx)(I,{title:T(e.name),icon:null===e||void 0===e?void 0:e.icon},e.id+n)}))}),(0,S.jsxs)(c.Z,{gutter:12,children:[(0,S.jsxs)(d.Z,{span:12,children:[(0,S.jsxs)("h3",{children:[T("order.id")," #",null===B||void 0===B?void 0:B.id]}),(0,S.jsxs)("p",{children:[(0,S.jsx)(m.D73,{})," ",null===B||void 0===B?void 0:B.created_at]}),(0,S.jsxs)("p",{children:[T("schedulet.at")," ",null===B||void 0===B?void 0:B.delivery_date]}),(0,S.jsxs)("span",{children:[(0,S.jsx)("strong",{children:null===B||void 0===B||null===(n=B.shop)||void 0===n||null===(t=n.translation)||void 0===t?void 0:t.title})," ",null===B||void 0===B||null===(g=B.details)||void 0===g?void 0:g.map((function(e,n){var t;return(0,S.jsx)(u.Z,{className:"mb-2",color:P[n],children:null===e||void 0===e||null===(t=e.stock)||void 0===t?void 0:t.product.translation.title})}))]})]}),(0,S.jsxs)(d.Z,{span:12,children:[(0,S.jsxs)("p",{children:[T("status")," ","new"===(null===B||void 0===B?void 0:B.status)?(0,S.jsx)(u.Z,{color:"blue",children:T(null===B||void 0===B?void 0:B.status)}):"canceled"===(null===B||void 0===B?void 0:B.status)?(0,S.jsx)(u.Z,{color:"error",children:T(null===B||void 0===B?void 0:B.status)}):(0,S.jsx)(u.Z,{color:"cyan",children:T(null===B||void 0===B?void 0:B.status)})]}),(0,S.jsxs)("p",{children:[T("payment.method")," ",(0,S.jsx)("strong",{children:null===B||void 0===B||null===(y=B.transaction)||void 0===y||null===(N=y.payment_system)||void 0===N?void 0:N.tag})]}),(0,S.jsxs)("p",{children:[T("order.type")," ",(0,S.jsx)("strong",{children:null===B||void 0===B?void 0:B.delivery_type})]}),(0,S.jsxs)("p",{children:[T("payment.type")," ",(0,S.jsx)("strong",{children:null===B||void 0===B||null===(E=B.transaction)||void 0===E?void 0:E.status})]})]}),(0,S.jsxs)(d.Z,{span:24,className:"mt-5",children:[(0,S.jsx)("h4",{children:T("map")}),(0,S.jsx)("div",{className:"map-container",style:{height:400,width:"100%"},children:(0,S.jsxs)(o.ZP,{bootstrapURLKeys:{key:Z.kr||ve},defaultZoom:15,center:G,yesIWantToUseGoogleMapApiInternals:!0,options:{fullscreenControl:!1},onGoogleApiLoaded:function(e){for(var n=e.map,t=e.maps,a=[te,re].map((function(e){return{lat:Number(e.lat||"0"),lng:Number(e.lng||"0")}})),o=new t.LatLngBounds,i=0;i<a.length;i++)o.extend(a[i]);n.fitBounds(o)},children:[(0,S.jsx)(O,{lat:null===te||void 0===te?void 0:te.lat,lng:null===te||void 0===te?void 0:te.lng}),(0,S.jsx)(M,{lat:null===re||void 0===re?void 0:re.lat,lng:null===re||void 0===re?void 0:re.lng})]})})]})]})]})})})}},55768:function(e,n,t){t.d(n,{Z:function(){return s}});var a=t(1413),o=t(47313),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},r=t(17469),l=function(e,n){return o.createElement(r.Z,(0,a.Z)((0,a.Z)({},e),{},{ref:n,icon:i}))};l.displayName="PlusCircleOutlined";var s=o.forwardRef(l)},39180:function(e,n,t){t.d(n,{ZP:function(){return N}});var a=t(4942),o=t(87462),i=t(47313),r=t(56482),l=t(46123),s=t.n(l),c=t(16945),d=t(4431),u=t(91964),v=i.createContext(null),f=v.Provider,p=v,h=i.createContext(null),m=h.Provider,x=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)n.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(t[a[o]]=e[a[o]])}return t},Z=function(e,n){var t,l=i.useContext(p),v=i.useContext(h),f=i.useContext(u.E_),m=f.getPrefixCls,Z=f.direction,g=i.useRef(),y=(0,c.sQ)(n,g),j=(0,i.useContext)(d.aM).isFormItemInput,b=e.prefixCls,C=e.className,w=e.children,k=e.style,S=x(e,["prefixCls","className","children","style"]),I=m("radio",b),M="button"===((null===l||void 0===l?void 0:l.optionType)||v)?"".concat(I,"-button"):I,O=(0,o.Z)({},S);l&&(O.name=l.name,O.onChange=function(n){var t,a;null===(t=e.onChange)||void 0===t||t.call(e,n),null===(a=null===l||void 0===l?void 0:l.onChange)||void 0===a||a.call(l,n)},O.checked=e.value===l.value,O.disabled=e.disabled||l.disabled);var P=s()("".concat(M,"-wrapper"),(t={},(0,a.Z)(t,"".concat(M,"-wrapper-checked"),O.checked),(0,a.Z)(t,"".concat(M,"-wrapper-disabled"),O.disabled),(0,a.Z)(t,"".concat(M,"-wrapper-rtl"),"rtl"===Z),(0,a.Z)(t,"".concat(M,"-wrapper-in-form-item"),j),t),C);return i.createElement("label",{className:P,style:k,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},i.createElement(r.Z,(0,o.Z)({},O,{type:"radio",prefixCls:M,ref:y})),void 0!==w?i.createElement("span",null,w):null)},g=i.forwardRef(Z);g.displayName="Radio";var y=g,j=t(29439),b=t(10288),C=t(21631),w=t(81176),k=i.forwardRef((function(e,n){var t=i.useContext(u.E_),r=t.getPrefixCls,l=t.direction,c=i.useContext(C.Z),d=(0,b.Z)(e.defaultValue,{value:e.value}),v=(0,j.Z)(d,2),p=v[0],h=v[1];return i.createElement(f,{value:{onChange:function(n){var t=p,a=n.target.value;"value"in e||h(a);var o=e.onChange;o&&a!==t&&o(n)},value:p,disabled:e.disabled,name:e.name,optionType:e.optionType}},function(){var t,d=e.prefixCls,u=e.className,v=void 0===u?"":u,f=e.options,h=e.buttonStyle,m=void 0===h?"outline":h,x=e.disabled,Z=e.children,g=e.size,j=e.style,b=e.id,C=e.onMouseEnter,k=e.onMouseLeave,S=r("radio",d),I="".concat(S,"-group"),M=Z;f&&f.length>0&&(M=f.map((function(e){return"string"===typeof e||"number"===typeof e?i.createElement(y,{key:e.toString(),prefixCls:S,disabled:x,value:e,checked:p===e},e):i.createElement(y,{key:"radio-group-value-options-".concat(e.value),prefixCls:S,disabled:e.disabled||x,value:e.value,checked:p===e.value,style:e.style},e.label)})));var O=g||c,P=s()(I,"".concat(I,"-").concat(m),(t={},(0,a.Z)(t,"".concat(I,"-").concat(O),O),(0,a.Z)(t,"".concat(I,"-rtl"),"rtl"===l),t),v);return i.createElement("div",(0,o.Z)({},(0,w.Z)(e),{className:P,style:j,onMouseEnter:C,onMouseLeave:k,id:b,ref:n}),M)}())})),S=i.memo(k),I=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)n.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(t[a[o]]=e[a[o]])}return t},M=function(e,n){var t=i.useContext(u.E_).getPrefixCls,a=e.prefixCls,r=I(e,["prefixCls"]),l=t("radio",a);return i.createElement(m,{value:"button"},i.createElement(y,(0,o.Z)({prefixCls:l},r,{type:"radio",ref:n})))},O=i.forwardRef(M),P=y;P.Button=O,P.Group=S;var N=P},56482:function(e,n,t){var a=t(87462),o=t(4942),i=t(45987),r=t(1413),l=t(15671),s=t(43144),c=t(60136),d=t(29388),u=t(47313),v=t(46123),f=t.n(v),p=function(e){(0,c.Z)(t,e);var n=(0,d.Z)(t);function t(e){var a;(0,l.Z)(this,t),(a=n.call(this,e)).handleChange=function(e){var n=a.props,t=n.disabled,o=n.onChange;t||("checked"in a.props||a.setState({checked:e.target.checked}),o&&o({target:(0,r.Z)((0,r.Z)({},a.props),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},a.saveInput=function(e){a.input=e};var o="checked"in e?e.checked:e.defaultChecked;return a.state={checked:o},a}return(0,s.Z)(t,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var e,n=this.props,t=n.prefixCls,r=n.className,l=n.style,s=n.name,c=n.id,d=n.type,v=n.disabled,p=n.readOnly,h=n.tabIndex,m=n.onClick,x=n.onFocus,Z=n.onBlur,g=n.onKeyDown,y=n.onKeyPress,j=n.onKeyUp,b=n.autoFocus,C=n.value,w=n.required,k=(0,i.Z)(n,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),S=Object.keys(k).reduce((function(e,n){return"aria-"!==n.substr(0,5)&&"data-"!==n.substr(0,5)&&"role"!==n||(e[n]=k[n]),e}),{}),I=this.state.checked,M=f()(t,r,(e={},(0,o.Z)(e,"".concat(t,"-checked"),I),(0,o.Z)(e,"".concat(t,"-disabled"),v),e));return u.createElement("span",{className:M,style:l},u.createElement("input",(0,a.Z)({name:s,id:c,type:d,required:w,readOnly:p,disabled:v,tabIndex:h,className:"".concat(t,"-input"),checked:!!I,onClick:m,onFocus:x,onBlur:Z,onKeyUp:j,onKeyDown:g,onKeyPress:y,onChange:this.handleChange,autoFocus:b,ref:this.saveInput,value:C},S)),u.createElement("span",{className:"".concat(t,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(e,n){return"checked"in e?(0,r.Z)((0,r.Z)({},n),{},{checked:e.checked}):null}}]),t}(u.Component);p.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}},n.Z=p},84618:function(e,n,t){e.exports=t.p+"static/media/shop.46d7a94ca800c711764a.png"},18478:function(e,n,t){e.exports=t.p+"static/media/user.fbe7078c52acde79652d.jpg"}}]);