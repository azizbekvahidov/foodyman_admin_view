"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[3183],{55940:function(e,n,t){t.d(n,{Z:function(){return v}});var i=t(1413),a=t(45987),l=(t(47313),t(59491)),o=t(47515),r=t(34491),s=t(24511),c=t(79492),d=t(46417),u=["size","onClick","type"];function v(e){var n=e.size,t=void 0===n?"":n,v=e.onClick,f=e.type,h=void 0===f?"default":f,p=(0,a.Z)(e,u),x=(0,s.$)().t,Z=(0,c.Z)().isDemo;return(0,d.jsx)(l.Z,(0,i.Z)({size:t,icon:(0,d.jsx)(o.Z,{}),onClick:function(e){Z?r.Am.warning(x("cannot.work.demo")):v(e)},type:h},p))}},38628:function(e,n,t){var i=t(77181),a=t(14133),l=(t(47313),t(46417));n.Z=function(e){var n=e.loading;return(0,l.jsx)(i.Z,{className:"order-card",children:(0,l.jsx)(a.Z,{loading:n,avatar:!0,active:!0})})}},26546:function(e,n,t){t.d(n,{Z:function(){return N}});var i=t(47313),a=t(1413),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-40 824H232V687h97.9c11.6 32.8 32 62.3 59.1 84.7 34.5 28.5 78.2 44.3 123 44.3s88.5-15.7 123-44.3c27.1-22.4 47.5-51.9 59.1-84.7H792v-63H643.6l-5.2 24.7C626.4 708.5 573.2 752 512 752s-114.4-43.5-126.5-103.3l-5.2-24.7H232V136h560v752zM320 341h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zm0 160h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}}]},name:"container",theme:"outlined"},o=t(17469),r=function(e,n){return i.createElement(o.Z,(0,a.Z)((0,a.Z)({},e),{},{ref:n,icon:l}))};r.displayName="ContainerOutlined";var s=i.forwardRef(r),c=t(60931),d=t(45427),u=t(86949),v=t(35529),f=t(91805),h=t(31741),p=t(47515),x=t(6986),Z=t(39548),m=t(77181),j=t(14133),g=t(45334),y=t(42346),b=t(45705),w=t(97421),C=t(84017),S=t(70816),k=t.n(S),I=t(5958),_=t(79492),M=t(46417),D=m.Z.Meta,N=function(e){var n,t,i,a,l,o,r,S,N,T=e.data,z=e.goToShow,P=e.loading,O=e.setLocationsMap,H=e.setId,V=e.setIsModalVisible,A=e.setText,E=e.setDowloadModal,F=e.setType,L=(0,_.Z)(),U=L.isDemo,B=L.demoFunc,Y=[{title:"Number of products",icon:(0,M.jsx)(s,{}),data:null===T||void 0===T?void 0:T.order_details_count},{title:"Deliveryman",icon:(0,M.jsx)(c.Z,{}),data:"".concat((null===(n=T.deliveryman)||void 0===n?void 0:n.firstname)||"-"," ").concat((null===(t=T.deliveryman)||void 0===t?void 0:t.lastname)||"-")},{title:"Amount",icon:(0,M.jsx)(d.Z,{}),data:(0,C.Z)(T.total_price,null===(i=T.currency)||void 0===i?void 0:i.symbol)},{title:"Payment type",icon:(0,M.jsx)(u.Z,{}),data:(null===(a=T.transaction)||void 0===a||null===(l=a.payment_system)||void 0===l?void 0:l.tag)||"-"},{title:"Payment status",icon:(0,M.jsx)(v.Z,{}),data:(null===(o=T.transaction)||void 0===o?void 0:o.status)||"-"},{title:"Delivery date",icon:(0,M.jsx)(f.Z,{}),data:k()(null===T||void 0===T?void 0:T.delivery_date).format("YYYY-MM-DD")||"-"},{title:"Created at",icon:(0,M.jsx)(f.Z,{}),data:k()(null===T||void 0===T?void 0:T.created_at).format("YYYY-MM-DD")||"-"}];return(0,M.jsx)(m.Z,{actions:[(0,M.jsx)(I.Y4r,{size:20,onClick:function(e){e.stopPropagation(),O(T.id)}}),(0,M.jsx)(h.Z,{onClick:function(){return z(T)}},"setting"),(0,M.jsx)(p.Z,{onClick:function(e){U?B():(e.stopPropagation(),H([T.id]),V(!0),A(!0),F(T.status))}}),(0,M.jsx)(x.Z,{onClick:function(){return E(T.id)}},"ellipsis")],className:"order-card",children:(0,M.jsxs)(j.Z,{loading:P,avatar:!0,active:!0,children:[(0,M.jsx)(D,{avatar:(0,M.jsx)(g.C,{src:w.bV+(null===(r=T.user)||void 0===r?void 0:r.img),icon:(0,M.jsx)(Z.Z,{})}),description:"#".concat(T.id),title:"".concat((null===(S=T.user)||void 0===S?void 0:S.firstname)||"-"," ").concat((null===(N=T.user)||void 0===N?void 0:N.lastname)||"-")}),(0,M.jsx)(y.ZP,{itemLayout:"horizontal",dataSource:Y,renderItem:function(e,n){return(0,M.jsx)(y.ZP.Item,{children:(0,M.jsxs)(b.Z,{children:[e.icon,"".concat(e.title,":  ").concat(e.data)]})},n)}})]})})}},41481:function(e,n,t){t.d(n,{Z:function(){return v}});var i=t(1413),a=t(29439),l=t(45987),o=t(47313),r=t(66672),s=t(16031),c=t(40765),d=t(46417),u=["handleChange","defaultValue","resetSearch"];function v(e){var n=e.handleChange,t=e.defaultValue,v=e.resetSearch,f=(0,l.Z)(e,u),h=(0,o.useState)(t),p=(0,a.Z)(h,2),x=p[0],Z=p[1],m=(0,o.useMemo)((function(){return(0,s.debounce)((function(e){n(e)}),800)}),[]);return(0,o.useEffect)((function(){Z(t)}),[v]),(0,d.jsx)(r.Z,(0,i.Z)({value:x,onChange:function(e){Z(e.target.value),m(e.target.value)},prefix:(0,d.jsx)(c.Z,{})},f))}},89281:function(e,n,t){t.d(n,{h:function(){return f}});var i=t(1413),a=t(29439),l=t(45987),o=t(47313),r=t(12279),s=t.n(r),c=t(74294),d=t(72652),u=t(46417),v=["fetchOptions","debounceTimeout"],f=function(e){var n=e.fetchOptions,t=e.debounceTimeout,r=void 0===t?400:t,f=(0,l.Z)(e,v),h=(0,o.useState)(!1),p=(0,a.Z)(h,2),x=p[0],Z=p[1],m=(0,o.useState)([]),j=(0,a.Z)(m,2),g=j[0],y=j[1],b=(0,o.useMemo)((function(){return s()((function(e){y([]),Z(!0),n(e).then((function(e){y(e),Z(!1)}))}),r)}),[n,r]);return(0,u.jsx)(c.Z,(0,i.Z)((0,i.Z)({showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:b,notFoundContent:x?(0,u.jsx)(d.Z,{size:"small"}):"no results"},f),{},{options:g,onFocus:function(){g.length||b("")}}))}},98501:function(e,n,t){t.d(n,{Q:function(){return i}});var i={new:[1,2,3,4,5],accepted:[1,2,3,4,5],ready:[1,2,3,4,5],on_a_way:[1,2,3,4,5],delivered:[1,2,3,4,5],canceled:[1,2,3,4,5]}},17649:function(e,n,t){t.d(n,{Z:function(){return i}});t(97421);function i(e){if(null===e||void 0===e||!e.location)return{lat:47.4143302506288,lng:8.532059477976883};var n=e.location.split(", ");return{lat:Number(null===n||void 0===n?void 0:n[0]),lng:Number(null===n||void 0===n?void 0:n[1])}}},84017:function(e,n,t){function i(e){return e?(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$")+" "+Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"):"0"}t.d(n,{Z:function(){return i}})},80314:function(e,n,t){var i=t(47313);n.Z=function(e,n){var t=(0,i.useRef)(!1);(0,i.useEffect)((function(){if(t.current)return e&&e();t.current=!0}),n)}},36311:function(e,n,t){var i=t(34344),a={orderExport:function(e,n){return i.Z.get("dashboard/user/export/order/".concat(e,"/pdf"),{params:n,responseType:"blob"})}};n.Z=a},55508:function(e,n,t){var i=t(39180),a=(t(47313),t(58821)),l=t(54972),o=t(58467),r=t(46417),s=[{value:"seller/orders-board",title:"Board",icon:(0,r.jsx)(l.Ez2,{size:20})},{value:"seller/orders",title:"List",icon:(0,r.jsx)(a.Ps6,{size:20})}];n.Z=function(e){var n=e.listType,t=(0,o.UO)().type,a=(0,o.s0)();return(0,r.jsx)(i.ZP.Group,{value:n,onChange:function(e){a("/".concat(e.target.value).concat(t?"/".concat(t):""))},className:"float-right",buttonStyle:"solid",children:null===s||void 0===s?void 0:s.map((function(e){return(0,r.jsx)(i.ZP.Button,{value:e.value,children:(0,r.jsxs)("div",{className:"d-flex align-items-center",style:{gap:"10px"},children:[e.icon,e.title]})},e.value)}))})}},88852:function(e,n,t){t.d(n,{Z:function(){return Z}});var i=t(1413),a=t(29439),l=t(47313),o=t(18197),r=t(84695),s=t(59491),c=t(68197),d=t(59624),u=t(74294),v=t(2717),f=t(62412),h=t(90954),p=t(24511),x=t(46417);function Z(e){var n,t=e.orderDetails,Z=e.handleCancel,m=(0,p.$)().t,j=(0,v.v9)((function(e){return e.menu}),v.wU).activeMenu,g=(0,v.v9)((function(e){return e.deliveryman}),v.wU).deliverymans,y=o.Z.useForm(),b=(0,a.Z)(y,1)[0],w=(0,v.I0)(),C=(0,l.useState)(!1),S=(0,a.Z)(C,2),k=S[0],I=S[1];return(0,x.jsx)(r.Z,{visible:!!t,title:t.title,onCancel:Z,footer:[(0,x.jsx)(s.Z,{type:"primary",onClick:function(){return b.submit()},loading:k,children:m("save")}),(0,x.jsx)(s.Z,{type:"default",onClick:Z,children:m("cancel")})],children:(0,x.jsx)(o.Z,{form:b,layout:"vertical",onFinish:function(e){var n=(0,i.Z)({},e);I(!0),f.Z.updateDelivery(t.id,n).then((function(){Z(),w((0,h.xo)(j))})).finally((function(){return I(!1)}))},initialValues:{deliveryman:null===(n=t.deliveryman)||void 0===n?void 0:n.id},children:(0,x.jsx)(c.Z,{gutter:12,children:(0,x.jsx)(d.Z,{span:24,children:(0,x.jsx)(o.Z.Item,{label:m("deliveryman"),name:"deliveryman",rules:[{required:!0,message:m("required")}],children:(0,x.jsx)(u.Z,{children:g.map((function(e,n){return(0,x.jsxs)(u.Z.Option,{value:e.id,className:"d-block",children:[e.firstname," ",e.lastname||""]},e.id)}))})})})})})})}},43183:function(e,n,t){t.r(n),t.d(n,{default:function(){return le}});var i=t(74165),a=t(15861),l=t(4942),o=t(93433),r=t(1413),s=t(29439),c=t(47313),d=t(45705),u=t(59491),v=t(77181),f=t(58467),h=t(55768),p=t(15386),x=t(2717),Z=t(90954),m=t(24511),j=t(80314),g=t(41589),y=t(41481),b=t(89281),w=t(58328),C=t(40197),S=t(55940),k=t(74580),I=t(34491),_=t(62412),M=t(43773),D=t(93709),N=t(66204),T=t(43880),z=t(46417),P=function(e){var n=e.children,t=e.title,i=e.name,a=e.isDropDisabled,l=e.total,o=void 0===l?0:l,r=e.loading,s=void 0!==r&&r,c=e.reloadOrder,u=(0,m.$)().t;return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(D.Z,{message:(0,z.jsxs)(d.Z,{children:[(0,z.jsx)(M.Z,{size:20,style:{cursor:"pointer"},spin:s,onClick:c}),u(t),(0,z.jsx)(N.Z,{children:s?(0,z.jsx)(M.Z,{spin:!0}):o})]}),className:"mb-4 ".concat(i),style:{textAlign:"center",fontSize:16,textTransform:"capitalize"}}),(0,z.jsx)(T.bK,{droppableId:i,isDropDisabled:a,children:function(e){return(0,z.jsx)("div",{ref:e.innerRef,className:"h-screen",style:{opacity:a?.6:1},children:(0,z.jsxs)(z.Fragment,{children:[n,e.placeholder]})})}})]})},O=t(72652),H=t(7142),V=t(82508),A=t(98501),E=t(38628),F=t(26546),L=["new","accepted","ready","on_a_way","delivered","canceled"],U=function(e){var n=e.goToEdit,t=e.goToShow,i=e.fetchOrderAllItem,a=e.fetchOrders,l=e.setLocationsMap,o=e.setId,d=e.setIsModalVisible,u=e.setText,v=e.setDowloadModal,f=(e.type,e.setType),h=(0,x.I0)(),p=(0,x.v9)((function(e){return e.sellerOrders}),x.wU).items,Z=(0,x.v9)((function(e){return e.sellerOrders}),x.wU),m=(0,c.useState)(""),j=(0,s.Z)(m,2),y=j[0],b=j[1],w=(0,c.useState)({}),C=(0,s.Z)(w,2),S=C[0],k=C[1],M=(0,c.useState)({}),D=(0,s.Z)(M,2),N=D[0],U=D[1],B=function(e){if(e.destination){var n,t;e.destination&&S.source.droppableId!==e.destination.droppableId&&(n=e.draggableId,t={status:e.destination.droppableId},_.Z.updateStatus(n,t).then((function(e){I.Am.success("#".concat(n," order status changed"))})));var i=(0,r.Z)({},p),a=function(e,n){var t=Array.from(e),i=t.splice(n,1);return[(0,s.Z)(i,1)[0],t]}(i[e.source.droppableId],e.source.index),l=(0,s.Z)(a,2),o=l[0],c=l[1];i[e.source.droppableId]=c;var d=i[e.destination.droppableId];i[e.destination.droppableId]=function(e,n,t){var i=Array.from(e);return i.splice(n,0,t),i}(d,e.destination.index,o),h((0,g.U7)(i)),U(null)}},Y=function(e){return(0!==e||N!==L.length-1)&&!!Boolean(N>e)};(0,c.useEffect)((function(){h((0,g.H5)()),i()}),[]);return(0,z.jsx)(T.Z5,{onDragEnd:B,onDragStart:function(e){var n=L.findIndex((function(n){return n===e.source.droppableId}));k(e),U(n)},children:(0,z.jsx)("div",{className:"order-board",children:null===L||void 0===L?void 0:L.map((function(e,i){var s,c,x,m;return(0,z.jsx)("div",{className:"dnd-column",children:(0,z.jsx)(P,{title:e,onDragEnd:B,name:e,isDropDisabled:Y(i),total:null===(s=p[e])||void 0===s?void 0:s.length,loading:Z[e].loading,reloadOrder:function(){return function(e){h((0,g.x9)(e)),a({status:e})}(e)},children:(0,z.jsxs)(H.ZP,{onScroll:function(n){return function(e,n){var t=e.target.lastChild,i=e.target.clientHeight+e.target.scrollTop;t&&i>t.offsetTop+t.clientHeight+19.9&&Z[n].meta.last_page>Z[n].meta.current_page&&!Z[n].loading&&(b(n),a({page:Z[n].meta.current_page+1,perPage:5,status:n}))}(n,e)},autoHeight:!0,autoHeightMin:"75vh",autoHeightMax:"75vh",autoHide:!0,id:e,children:[Boolean(Z[e].loading&&!(null!==(c=p[e])&&void 0!==c&&c.length))?null===(m=A.Q[e])||void 0===m?void 0:m.map((function(){return(0,z.jsx)(E.Z,{loading:!0})})):null===(x=p[e])||void 0===x?void 0:x.map((function(e,i){return(0,z.jsx)(z.Fragment,{children:(0,z.jsx)(T._l,{draggableId:e.id.toString(),index:i,children:function(i,a){return(0,z.jsx)("div",(0,r.Z)((0,r.Z)((0,r.Z)({ref:i.innerRef},i.draggableProps),i.dragHandleProps),{},{children:(0,z.jsx)(F.Z,{data:e,goToEdit:n,goToShow:t,setLocationsMap:l,setId:o,setIsModalVisible:d,setText:u,setDowloadModal:v,setType:f})}))}},e.id)})})),Z[e].loading&&e===y&&(0,z.jsx)(O.Z,{indicator:(0,z.jsx)(V.Z,{style:{fontSize:24},spin:!0})})]})})},e)}))})})},B=t(88852),Y=t(55508),R=t(73270),$=t(72944),G=t(36311),W=t(83334),Q=t.n(W),q=t(51282),K=t(84695),J=t(68197),X=t(59624),ee=t(58821),ne=t(57864),te=v.Z.Meta,ie=function(e){var n=e.id,t=e.handleCancel,i=(0,c.useState)(null),a=(0,s.Z)(i,2),l=a[0],o=a[1],r=(0,m.$)().t,d=(0,f.s0)();return(0,z.jsx)(z.Fragment,{children:l?(0,z.jsx)(q.Z,{}):(0,z.jsx)(K.Z,{visible:!!n,title:r("selected.download"),closable:!1,handleCancel:t,footer:[(0,z.jsx)(u.Z,{type:"default",onClick:t,children:r("cancel")},"cancelBtn")],children:(0,z.jsxs)(J.Z,{children:[(0,z.jsx)(X.Z,{span:12,children:(0,z.jsx)(v.Z,{title:r("download.pdf"),onClick:function(){return function(e){o(!0),G.Z.orderExport(e).then((function(n){Q()(n,"invoice_".concat(e,".pdf"),"application/pdf"),t()})).finally((function(){return o(!1)}))}(n)},className:"text-center cursor-pointer",children:(0,z.jsx)(te,{className:"d-flex align-items-center justify-content-center",title:(0,z.jsx)(ee._JY,{size:80})})})}),(0,z.jsx)(X.Z,{span:12,children:(0,z.jsx)(v.Z,{title:r("download.check"),onClick:function(){return function(e){d("/seller/generate-invoice/".concat(e))}(n)},className:"text-center cursor-pointer",children:(0,z.jsx)(te,{className:"d-flex align-items-center justify-content-center",title:(0,z.jsx)(ne.ih9,{size:85})})})})]})})})},ae=t(69658);function le(){var e,n=(0,x.I0)(),t=(0,f.s0)(),M=(0,m.$)().t,D=(0,c.useState)(null),N=(0,s.Z)(D,2),T=N[0],P=N[1],O=(0,c.useContext)(k._).setIsModalVisible,H=(0,c.useState)(null),V=(0,s.Z)(H,2),A=V[0],E=V[1],F=(0,c.useState)(!1),L=(0,s.Z)(F,2),G=L[0],W=L[1],Q=(0,c.useState)(null),q=(0,s.Z)(Q,2),K=q[0],J=q[1],X=(0,c.useState)(null),ee=(0,s.Z)(X,2),ne=ee[0],te=ee[1],le=(0,c.useState)(null),oe=(0,s.Z)(le,2),re=oe[0],se=oe[1],ce=(0,c.useState)(null),de=(0,s.Z)(ce,2),ue=de[0],ve=de[1],fe=(0,x.v9)((function(e){return e.menu}),x.wU).activeMenu,he=null===fe||void 0===fe?void 0:fe.data;(0,j.Z)((function(){var e={search:null===he||void 0===he?void 0:he.search,sort:null===he||void 0===he?void 0:he.sort,column:null===he||void 0===he?void 0:he.column,perPage:null===he||void 0===he?void 0:he.perPage,page:null===he||void 0===he?void 0:he.page,user_id:null===he||void 0===he?void 0:he.userId,status:null===he||void 0===he?void 0:he.status};n((0,g.o1)(e))}),[he]),(0,c.useEffect)((function(){if(null!==fe&&void 0!==fe&&fe.refetch){var e={status:null===he||void 0===he?void 0:he.status,perPage:10};n((0,g.AU)(e)),n((0,C.ZL)()),n((0,Z.A_)(fe))}}),[null===fe||void 0===fe?void 0:fe.refetch]);var pe=function(e,t){n((0,Z.nc)({activeMenu:fe,data:(0,r.Z)((0,r.Z)({},he),{},(0,l.Z)({},t,e))}))};function xe(){return xe=(0,a.Z)((0,i.Z)().mark((function e(n){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={search:n,perPage:10},e.abrupt("return",w.Z.getAll(t).then((function(e){return e.data.map((function(e){return{label:"".concat(e.firstname," ").concat(e.lastname||""),value:e.id}}))})));case 2:case"end":return e.stop()}}),e)}))),xe.apply(this,arguments)}var Ze=function(e){switch(e.status){case"new":n((0,g.O7)(e));break;case"accepted":n((0,g.We)(e));break;case"ready":n((0,g.wC)(e));break;case"on_a_way":n((0,g.Ri)(e));break;case"delivered":n((0,g.Rd)(e));break;case"canceled":n((0,g.eV)(e));break;default:console.log("Sorry, we are out of")}},me=function(){Ze({status:"new"}),Ze({status:"accepted"}),Ze({status:"ready"}),Ze({status:"on_a_way"}),Ze({status:"delivered"}),Ze({status:"canceled"})},je=function(){se(null),J(null),te(null)};return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)(d.Z,{className:"justify-content-end w-100 mb-3",children:[(0,z.jsx)(Y.Z,{listType:"seller/orders-board"}),(0,z.jsx)(u.Z,{type:"primary",icon:(0,z.jsx)(h.Z,{}),onClick:function(){n((0,R.bn)()),n((0,Z.bL)({id:"pos.system",url:"seller/pos-system",name:M("add.order")})),t("/seller/pos-system")},style:{width:"100%"},children:M("add.order")})]}),(0,z.jsx)(v.Z,{children:(0,z.jsxs)(d.Z,{wrap:!0,children:[(0,z.jsx)(y.Z,{placeholder:M("search"),handleChange:function(e){return pe(e,"search")},defaultValue:null===(e=fe.data)||void 0===e?void 0:e.search}),(0,z.jsx)(b.h,{placeholder:M("select.client"),fetchOptions:function(e){return xe.apply(this,arguments)},onSelect:function(e){return pe(e.value,"search")},onDeselect:function(){return pe(null,"search")},style:{minWidth:200}}),(0,z.jsx)(u.Z,{icon:(0,z.jsx)(p.Z,{}),onClick:function(){(0,x.dC)((function(){n((0,g.H5)()),n((0,Z.nc)({activeMenu:fe,data:null}))})),me()},children:M("clear")}),(0,z.jsx)(S.Z,{size:"",onClick:function(){null===T||0===T.length?I.Am.warning(M("select.the.product")):(O(!0),E(!1))},children:M("delete.selected")})]})}),(0,z.jsx)(U,{goToShow:function(e){n((0,Z.bL)({url:"seller/order/details/".concat(e.id),id:"order_details",name:M("order.details")})),t("/seller/order/details/".concat(e.id))},fetchOrderAllItem:me,fetchOrders:Ze,setLocationsMap:J,setId:P,setIsModalVisible:O,setText:E,setDowloadModal:te,type:ue,setType:ve}),(0,z.jsx)(ae.Z,{click:function(){W(!0);var e=(0,r.Z)({},Object.assign.apply(Object,[{}].concat((0,o.Z)(T.map((function(e,n){return(0,l.Z)({},"ids[".concat(n,"]"),e)}))))));_.Z.delete(e).then((function(){I.Am.success(M("successfully.deleted")),O(!1),me({status:ue}),E(null)})).finally((function(){return W(!1)}))},text:M(A?"delete":"all.delete"),loading:G,setText:P,setActive:P}),re&&(0,z.jsx)(B.Z,{orderDetails:re,handleCancel:je}),K&&(0,z.jsx)($.Z,{id:K,handleCancel:je}),ne&&(0,z.jsx)(ie,{id:ne,handleCancel:je})]})}},72944:function(e,n,t){var i=t(29439),a=t(84697),l=t(83999),o=t(84695),r=t(59491),s=t(77181),c=t(68197),d=t(59624),u=t(66204),v=t(47313),f=t(24511),h=t(62412),p=t(51282),x=t(58821),Z=t(2717),m=t(97421),j=t(18478),g=t(84618),y=t(17649),b=t(66461),w=t(22539),C=t(3394),S=t(57864),k=t(46417),I=l.Z.Step,_=function(){return(0,k.jsx)("img",{src:j,width:"50",alt:"Pin"})},M=function(){return(0,k.jsx)("img",{src:g,width:"50",alt:"Pin"})},D=["blue","red","gold","volcano","cyan","lime"];n.Z=function(e){var n,t,j,g,N,T,z=e.id,P=e.handleCancel,O=(0,f.$)().t,H=(0,v.useState)(null),V=(0,i.Z)(H,2),A=V[0],E=V[1],F=(0,v.useState)(null),L=(0,i.Z)(F,2),U=L[0],B=L[1],Y=(0,v.useState)(null),R=(0,i.Z)(Y,2),$=R[0],G=R[1],W=(0,Z.v9)((function(e){return e.globalSettings}),Z.wU).settings,Q=(0,y.Z)(W),q=(0,v.useState)(0),K=(0,i.Z)(q,2),J=K[0],X=K[1],ee=(0,v.useState)((0,y.Z)(W)),ne=(0,i.Z)(ee,2),te=ne[0],ie=ne[1],ae=(0,v.useState)((0,y.Z)(W)),le=(0,i.Z)(ae,2),oe=le[0],re=le[1],se=(0,v.useState)([{id:0,name:"new",icon:(0,k.jsx)(b.Z,{})},{id:1,name:"accepted",icon:(0,k.jsx)(x.IQF,{})},{id:2,name:"ready",icon:(0,k.jsx)(w.TkG,{})},{id:3,name:"on_a_way",icon:(0,k.jsx)(C.Akc,{})},{id:4,name:"delivered",icon:(0,k.jsx)(C.kme,{})}]),ce=(0,i.Z)(se,2),de=ce[0],ue=ce[1];var ve=(0,Z.v9)((function(e){return e.globalSettings.settings}),Z.wU).google_map_key;(0,v.useEffect)((function(){E(!0),h.Z.getById(z).then((function(e){var n,t=e.data;ue("canceled"===t.status?[{id:1,name:"new",icon:(0,k.jsx)(b.Z,{})},{id:5,name:"canceled",icon:(0,k.jsx)(S.SV5,{})}]:de),X("canceled"===t.status?1:null===(n=de.find((function(e){return e.name===t.status})))||void 0===n?void 0:n.id),G("canceled"===t.status?"error":"success"),B(t),re({lat:t.location.latitude,lng:t.location.longitude}),ie({lat:t.shop.location.latitude,lng:t.shop.location.longitude})})).finally((function(){E(!1)}))}),[]);return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(o.Z,{visible:!!z,title:O("show.locations"),closable:!0,onCancel:P,style:{minWidth:"80vw"},footer:[(0,k.jsx)(r.Z,{type:"default",onClick:P,children:O("cancel")},"cancelBtn")],children:A?(0,k.jsx)(p.Z,{}):(0,k.jsxs)(s.Z,{children:[(0,k.jsx)(l.Z,{current:J,status:$,className:"mb-5",children:null===de||void 0===de?void 0:de.map((function(e,n){return(0,k.jsx)(I,{title:O(e.name),icon:null===e||void 0===e?void 0:e.icon},e.id+n)}))}),(0,k.jsxs)(c.Z,{gutter:12,children:[(0,k.jsxs)(d.Z,{span:12,children:[(0,k.jsxs)("h3",{children:[O("order.id")," #",null===U||void 0===U?void 0:U.id]}),(0,k.jsxs)("p",{children:[(0,k.jsx)(x.D73,{})," ",null===U||void 0===U?void 0:U.created_at]}),(0,k.jsxs)("p",{children:[O("schedulet.at")," ",null===U||void 0===U?void 0:U.delivery_date]}),(0,k.jsxs)("span",{children:[(0,k.jsx)("strong",{children:null===U||void 0===U||null===(n=U.shop)||void 0===n||null===(t=n.translation)||void 0===t?void 0:t.title})," ",null===U||void 0===U||null===(j=U.details)||void 0===j?void 0:j.map((function(e,n){var t;return(0,k.jsx)(u.Z,{className:"mb-2",color:D[n],children:null===e||void 0===e||null===(t=e.stock)||void 0===t?void 0:t.product.translation.title})}))]})]}),(0,k.jsxs)(d.Z,{span:12,children:[(0,k.jsxs)("p",{children:[O("status")," ","new"===(null===U||void 0===U?void 0:U.status)?(0,k.jsx)(u.Z,{color:"blue",children:O(null===U||void 0===U?void 0:U.status)}):"canceled"===(null===U||void 0===U?void 0:U.status)?(0,k.jsx)(u.Z,{color:"error",children:O(null===U||void 0===U?void 0:U.status)}):(0,k.jsx)(u.Z,{color:"cyan",children:O(null===U||void 0===U?void 0:U.status)})]}),(0,k.jsxs)("p",{children:[O("payment.method")," ",(0,k.jsx)("strong",{children:null===U||void 0===U||null===(g=U.transaction)||void 0===g||null===(N=g.payment_system)||void 0===N?void 0:N.tag})]}),(0,k.jsxs)("p",{children:[O("order.type")," ",(0,k.jsx)("strong",{children:null===U||void 0===U?void 0:U.delivery_type})]}),(0,k.jsxs)("p",{children:[O("payment.type")," ",(0,k.jsx)("strong",{children:null===U||void 0===U||null===(T=U.transaction)||void 0===T?void 0:T.status})]})]}),(0,k.jsxs)(d.Z,{span:24,className:"mt-5",children:[(0,k.jsx)("h4",{children:O("map")}),(0,k.jsx)("div",{className:"map-container",style:{height:400,width:"100%"},children:(0,k.jsxs)(a.ZP,{bootstrapURLKeys:{key:m.kr||ve},defaultZoom:15,center:Q,yesIWantToUseGoogleMapApiInternals:!0,options:{fullscreenControl:!1},onGoogleApiLoaded:function(e){for(var n=e.map,t=e.maps,i=[te,oe].map((function(e){return{lat:Number(e.lat||"0"),lng:Number(e.lng||"0")}})),a=new t.LatLngBounds,l=0;l<i.length;l++)a.extend(i[l]);n.fitBounds(a)},children:[(0,k.jsx)(M,{lat:null===te||void 0===te?void 0:te.lat,lng:null===te||void 0===te?void 0:te.lng}),(0,k.jsx)(_,{lat:null===oe||void 0===oe?void 0:oe.lat,lng:null===oe||void 0===oe?void 0:oe.lng})]})})]})]})]})})})}},55768:function(e,n,t){t.d(n,{Z:function(){return s}});var i=t(1413),a=t(47313),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},o=t(17469),r=function(e,n){return a.createElement(o.Z,(0,i.Z)((0,i.Z)({},e),{},{ref:n,icon:l}))};r.displayName="PlusCircleOutlined";var s=a.forwardRef(r)},84618:function(e,n,t){e.exports=t.p+"static/media/shop.46d7a94ca800c711764a.png"},18478:function(e,n,t){e.exports=t.p+"static/media/user.fbe7078c52acde79652d.jpg"}}]);