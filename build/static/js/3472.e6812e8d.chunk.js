(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[3472],{97388:function(n,t,e){"use strict";e.d(t,{Z:function(){return x}});var i=e(74165),o=e(15861),r=e(29439),l=e(47313),s=e(16609),d=e(97421),u=e.p+"static/media/pin.0e41858db80c699cd8a2.png",a=e(31881),c=e.n(a);function v(n){return f.apply(this,arguments)}function f(){return f=(0,o.Z)((0,i.Z)().mark((function n(t){var e,o,r=arguments;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=r.length>1&&void 0!==r[1]?r[1]:d.kr,o={latlng:"".concat(null===t||void 0===t?void 0:t.lat,",").concat(null===t||void 0===t?void 0:t.lng),key:e},n.abrupt("return",c().get("https://maps.googleapis.com/maps/api/geocode/json",{params:o}).then((function(n){var t;return null===(t=n.data.results[0])||void 0===t?void 0:t.formatted_address})).catch((function(n){return"not found"})));case 3:case"end":return n.stop()}}),n)}))),f.apply(this,arguments)}var p=e(5958),h=e(46417);var x=(0,s.GoogleApiWrapper)({apiKey:d.kr})((function(n){var t=(0,l.useState)(),e=(0,r.Z)(t,2),a=e[0],c=e[1],f=function(){var t=(0,o.Z)((0,i.Z)().mark((function t(e,o,r){var l,s,u;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l=r.latLng,s={lat:l.lat(),lng:l.lng()},n.setLocation(s),t.next=5,v(s,d.kr);case 5:u=t.sent,n.setAddress(u);case 7:case"end":return t.stop()}}),t)})));return function(n,e,i){return t.apply(this,arguments)}}(),x=function(){var t=(0,o.Z)((0,i.Z)().mark((function t(e){var o,r;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={lat:null===e||void 0===e?void 0:e.lat,lng:null===e||void 0===e?void 0:e.lng},n.setLocation(o),t.next=4,v(o,d.kr);case 4:r=t.sent,n.setAddress(r);case 6:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),m=function(){var n=(0,o.Z)((0,i.Z)().mark((function n(){return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,navigator.geolocation.getCurrentPosition((function(n){var t={lat:n.coords.latitude,lng:n.coords.longitude};c(t)}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();(0,l.useEffect)((function(){m()}),[]);for(var g=[{lat:Number(n.location.lat)||0,lng:Number(n.location.lng)||0}],j=new n.google.maps.LatLngBounds,Z=0;Z<g.length;Z++)j.extend(g[Z]);return(0,h.jsxs)("div",{className:"map-container",style:{height:400,width:"100%"},children:[(0,h.jsx)("button",{className:"map-button",type:"button",onClick:function(){m(),x(a)},children:(0,h.jsx)(p.nDs,{})}),(0,h.jsx)(s.Map,{cursor:"pointer",onClick:f,google:n.google,defaultZoom:12,zoom:10,className:"clickable",initialCenter:n.location,center:n.location,children:(0,h.jsx)(s.Marker,{position:n.location,icon:{url:u,scaledSize:new n.google.maps.Size(32,32)},className:"marker"})})]})}))},51988:function(n,t,e){"use strict";e.d(t,{Z:function(){return u}});e(47313);var i=e(24511),o=e(66188),r=e.p+"static/media/noproductsfound.1cec73868b5fd048b865.riv",l=e.p+"static/media/noresult.ac4af107751f94856a9c.riv",s=e.p+"static/media/nosell.32cb2c2cc548a15c820d.riv",d=e(46417);var u=function(n){var t=n.id,e=void 0===t?"noresult":t,u=n.text,a=void 0===u?"":u,c=(0,i.$)().t,v={src:{noproductsfound:r,noresult:l,nosell:s}[e],artboard:"New Artboard",autoplay:!0},f=(0,o.useRive)(v).RiveComponent;return(0,d.jsxs)("div",{className:"animation-canvas",children:[(0,d.jsx)("div",{style:{width:"100%",height:200},children:(0,d.jsx)(f,{})}),(0,d.jsx)("div",{className:"text",children:c(a)})]})}},41481:function(n,t,e){"use strict";e.d(t,{Z:function(){return v}});var i=e(1413),o=e(29439),r=e(45987),l=e(47313),s=e(66672),d=e(16031),u=e(40765),a=e(46417),c=["handleChange","defaultValue","resetSearch"];function v(n){var t=n.handleChange,e=n.defaultValue,v=n.resetSearch,f=(0,r.Z)(n,c),p=(0,l.useState)(e),h=(0,o.Z)(p,2),x=h[0],m=h[1],g=(0,l.useMemo)((function(){return(0,d.debounce)((function(n){t(n)}),800)}),[]);return(0,l.useEffect)((function(){m(e)}),[v]),(0,a.jsx)(s.Z,(0,i.Z)({value:x,onChange:function(n){m(n.target.value),g(n.target.value)},prefix:(0,a.jsx)(u.Z,{})},f))}},89281:function(n,t,e){"use strict";e.d(t,{h:function(){return f}});var i=e(1413),o=e(29439),r=e(45987),l=e(47313),s=e(12279),d=e.n(s),u=e(74294),a=e(72652),c=e(46417),v=["fetchOptions","debounceTimeout"],f=function(n){var t=n.fetchOptions,e=n.debounceTimeout,s=void 0===e?400:e,f=(0,r.Z)(n,v),p=(0,l.useState)(!1),h=(0,o.Z)(p,2),x=h[0],m=h[1],g=(0,l.useState)([]),j=(0,o.Z)(g,2),Z=j[0],b=j[1],y=(0,l.useMemo)((function(){return d()((function(n){b([]),m(!0),t(n).then((function(n){b(n),m(!1)}))}),s)}),[t,s]);return(0,c.jsx)(u.Z,(0,i.Z)((0,i.Z)({showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:y,notFoundContent:x?(0,c.jsx)(a.Z,{size:"small"}):"no results"},f),{},{options:Z,onFocus:function(){Z.length||y("")}}))}},17649:function(n,t,e){"use strict";e.d(t,{Z:function(){return i}});e(97421);function i(n){if(null===n||void 0===n||!n.location)return{lat:47.4143302506288,lng:8.532059477976883};var t=n.location.split(", ");return{lat:Number(null===t||void 0===t?void 0:t[0]),lng:Number(null===t||void 0===t?void 0:t[1])}}},77370:function(n,t,e){"use strict";function i(n,t){for(var e=[],i=[],o="",r=0;r<(null===(l=n.stocks)||void 0===l?void 0:l.length);r++){var l,s;o="";for(var d=0;d<(null===(u=n.stocks[r].extras)||void 0===u?void 0:u.length);d++){var u,a=Object.assign({},n.stocks[r].extras[d]),c=e.findIndex((function(n){return n.id==a.id}));-1==c?(a.level=d,a.up=[o],e.push(a),o+=a.id.toString()):(e[c].up.push(o),o+=a.id.toString())}for(var v={id:n.stocks[r].id,extras:o,price:n.stocks[r].price,quantity:n.stocks[r].quantity,countable_id:n.stocks[r].countable_id,discount:n.stocks[r].discount,tax:n.stocks[r].tax,total_price:n.stocks[r].total_price,bonus:n.stocks[r].bonus,addons:(null===(s=n.stock)||void 0===s?void 0:s.addons)||n.stocks[r].addons},f=0;f<(null===(p=v.addons)||void 0===p?void 0:p.length);f++)for(var p,h=0;h<(null===t||void 0===t?void 0:t.length);h++){var x,m,g;v.addons[f].addon_id===((null===(x=t[h].stock)||void 0===x||null===(m=x.product)||void 0===m?void 0:m.id)||(null===(g=t[h].product)||void 0===g?void 0:g.id))&&(v.addons[f].product.quantity=t[h].quantity)}i.push(v)}return{stock:i,extras:e}}function o(n,t,e){for(var i=""==n?[]:n.split(","),o=[],r=[],l=0;l<=i.length;l++){l-1>=0&&(r[r.length]=i[l-1].toString()),(s=t.filter((function(n){if(new Set(n.up).has(r.join("")))return n}))).length>0&&o.push(s)}l=0;if(r.length<o.length)for(;l<t.length;){var s;if(r[r.length]=o[o.length-1][0].id.toString(),0==(s=t.filter((function(n){if(new Set(n.up).has(r.join("")))return n}))).length)break;o.push(s),l++}var d=e.findIndex((function(n){return n.extras==r.join("")}));return{stock:e[d],extras:o}}e.d(t,{o:function(){return i},y:function(){return o}})},28939:function(n,t,e){"use strict";function i(n){var t,e=null===n||void 0===n||null===(t=n.extras)||void 0===t?void 0:t.find((function(n){return"image"===n.group.type}));return e?e.value:""}e.d(t,{Z:function(){return i}})},84017:function(n,t,e){"use strict";function i(n){return n?(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$")+" "+Number(n).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"):"0"}e.d(t,{Z:function(){return i}})},91220:function(n,t,e){"use strict";function i(n,t){var e,i=(null===t||void 0===t||null===(e=t.translation)||void 0===e?void 0:e.title)||"pcs";if(!n)return 0;switch(null===t||void 0===t?void 0:t.position){case"after":return n+" "+i;case"before":return i+" "+n}}e.d(t,{Z:function(){return i}})},80314:function(n,t,e){"use strict";var i=e(47313);t.Z=function(n,t){var e=(0,i.useRef)(!1);(0,i.useEffect)((function(){if(e.current)return n&&n();e.current=!0}),t)}},21448:function(n,t,e){"use strict";var i=e(34344),o={checkCoupon:function(n){return i.Z.post("rest/coupons/check",n)},checkCashback:function(n){return i.Z.post("rest/cashback/check",n)}};t.Z=o},44653:function(n,t,e){"use strict";var i=e(1413),o=e(29439),r=e(47313),l=e(84695),s=e(59491),d=e(72652),u=e(77181),a=e(78508),c=e(45705),v=e(66204),f=e(7370),p=e(2337),h=e(31774),x=e(70816),m=e.n(x),g=e(84017),j=e(24511),Z=e(46417);t.Z=function(n){var t,e,x,b,y,k,w,N,_,S,C,I,q=n.orderId,z=n.handleClose,L=(0,j.$)().t,M=(0,r.useState)(!1),O=(0,o.Z)(M,2),A=O[0],E=O[1],Y=(0,r.useState)(null),$=(0,o.Z)(Y,2),D=$[0],F=$[1],R=(0,r.useState)([]),V=(0,o.Z)(R,2),B=V[0],K=V[1];return(0,r.useEffect)((function(){q&&(E(!0),f.Z.getById(q).then((function(n){F(n.data);var t=n.data.details.map((function(n){return(0,i.Z)((0,i.Z)({},n),{},{product:n.stock.product})})).flat();K(t)})).finally((function(){return E(!1)})))}),[q]),console.log("data?.total_price",null===D||void 0===D?void 0:D.total_price),console.log("data?.total_discount",null===D||void 0===D?void 0:D.total_discount),(0,Z.jsx)(l.Z,{visible:!!q,title:L("order.created.successfully"),onOk:z,onCancel:z,footer:[(0,Z.jsx)(s.Z,{onClick:z,children:L("back")}),(0,Z.jsxs)(s.Z,{type:"primary",onClick:function(){return window.print()},children:[(0,Z.jsx)(h.Z,{type:"printer"}),(0,Z.jsx)("span",{className:"ml-1",children:L("print")})]})],style:{minWidth:"80vw"},children:(0,Z.jsx)("div",{className:"py-4 order-preview",children:A?(0,Z.jsx)("div",{className:"w-100 text-center",children:(0,Z.jsx)(d.Z,{})}):(0,Z.jsxs)(u.Z,{children:[(0,Z.jsxs)("div",{className:"d-flex justify-content-between mt-3",children:[(0,Z.jsxs)("div",{children:[(0,Z.jsxs)("h2",{className:"mb-1 font-weight-semibold",children:[L("invoice")," #",null===D||void 0===D?void 0:D.id]}),(0,Z.jsx)("p",{children:m()(null===D||void 0===D?void 0:D.created_at).format("DD/M/YYYY")}),(0,Z.jsx)("address",{children:(0,Z.jsxs)("p",{children:[(0,Z.jsxs)("span",{children:[L("delivery.type"),": ",null===D||void 0===D?void 0:D.delivery_type]}),(0,Z.jsx)("br",{}),(0,Z.jsxs)("span",{children:[L("delivery.address"),": ",null===D||void 0===D||null===(t=D.address)||void 0===t?void 0:t.address]}),(0,Z.jsx)("br",{}),(0,Z.jsxs)("span",{children:[L("delivery.date"),": ",null===D||void 0===D?void 0:D.delivery_date," ",null===D||void 0===D?void 0:D.delivery_time]}),(0,Z.jsx)("br",{}),(0,Z.jsxs)("span",{children:[L("note"),": ",null===D||void 0===D?void 0:D.note]})]})})]}),(0,Z.jsx)("address",{children:(0,Z.jsxs)("p",{children:[(0,Z.jsxs)("span",{className:"font-weight-semibold text-dark font-size-md",children:[null===D||void 0===D||null===(e=D.user)||void 0===e?void 0:e.firstname," ",null===D||void 0===D||null===(x=D.user)||void 0===x?void 0:x.lastname]}),(0,Z.jsx)("br",{}),(0,Z.jsxs)("span",{children:[L("phone"),": ",null===D||void 0===D||null===(b=D.user)||void 0===b?void 0:b.phone]}),(0,Z.jsx)("br",{}),(0,Z.jsxs)("span",{children:[L("email"),": ",null===D||void 0===D||null===(y=D.user)||void 0===y?void 0:y.email]})]})})]}),(0,Z.jsxs)("div",{className:"mt-4",children:[(0,Z.jsxs)(a.Z,{scroll:{x:!0},dataSource:B,rowKey:function(n){return n.id},pagination:!1,className:"mb-5",children:[(0,Z.jsx)(p.Z,{title:"No.",dataIndex:"id"},"id"),(0,Z.jsx)(p.Z,{title:L("product"),dataIndex:"product",render:function(n,t){var e,i;return(0,Z.jsxs)(c.Z,{wrap:!0,children:[(0,Z.jsx)("span",{children:null===n||void 0===n||null===(e=n.translation)||void 0===e?void 0:e.title}),null===(i=t.addons)||void 0===i?void 0:i.map((function(n){var t,e,i;return(0,Z.jsxs)(v.Z,{children:[null===(t=n.stock)||void 0===t||null===(e=t.product)||void 0===e||null===(i=e.translation)||void 0===i?void 0:i.title," x"," ",n.quantity]},n.id)}))]})}},"product"),(0,Z.jsx)(p.Z,{title:L("quantity"),dataIndex:"quantity"},"quantity"),(0,Z.jsx)(p.Z,{title:L("discount"),dataIndex:"discount",render:function(n){var t;return(0,g.Z)(n,null===D||void 0===D||null===(t=D.currency)||void 0===t?void 0:t.symbol)}},"discount"),(0,Z.jsx)(p.Z,{title:L("origin_price"),dataIndex:"origin_price",render:function(n){var t;return(0,g.Z)(n,null===D||void 0===D||null===(t=D.currency)||void 0===t?void 0:t.symbol)}},"origin_price"),(0,Z.jsx)(p.Z,{title:L("tax"),dataIndex:"tax",render:function(n){var t;return(0,g.Z)(n,null===D||void 0===D||null===(t=D.currency)||void 0===t?void 0:t.symbol)}},"tax"),(0,Z.jsx)(p.Z,{title:L("price"),dataIndex:"total_price",render:function(n){var t;return(0,g.Z)(n,null===D||void 0===D||null===(t=D.currency)||void 0===t?void 0:t.symbol)}},"total_price")]}),(0,Z.jsx)("div",{className:"d-flex justify-content-end",children:(0,Z.jsxs)("div",{className:"text-right ",children:[(0,Z.jsxs)("div",{className:"border-bottom",children:[(0,Z.jsxs)("p",{className:"mb-2",children:[(0,Z.jsxs)("span",{children:[L("sub-total.amount"),": "]}),(0,g.Z)(null===D||void 0===D?void 0:D.details.reduce((function(n,t){return n+t.origin_price}),0),null===D||void 0===D||null===(k=D.currency)||void 0===k?void 0:k.symbol)]}),(0,Z.jsxs)("p",{children:[L("delivery.price")," :"," ",(0,g.Z)(null===D||void 0===D?void 0:D.delivery_fee,null===D||void 0===D||null===(w=D.currency)||void 0===w?void 0:w.symbol)]}),(0,Z.jsxs)("p",{children:[L("shop.tax")," :"," ",(0,g.Z)(null===D||void 0===D?void 0:D.tax,null===D||void 0===D||null===(N=D.currency)||void 0===N?void 0:N.symbol)]}),(0,Z.jsxs)("p",{children:[L("product.tax")," :"," ",(0,g.Z)(null===D||void 0===D||null===(_=D.details)||void 0===_?void 0:_.reduce((function(n,t){return n+t.tax}),0),null===D||void 0===D||null===(S=D.currency)||void 0===S?void 0:S.symbol)]})]}),(0,Z.jsxs)("h2",{className:"font-weight-semibold mt-3",children:[(0,Z.jsxs)("span",{className:"mr-1",children:[L("grand.total"),": "]}),(0,Z.jsx)("div",{className:null!==D&&void 0!==D&&D.total_discount?"strike":"",children:(0,g.Z)(null===D||void 0===D?void 0:D.total_discount,null===D||void 0===D||null===(C=D.currency)||void 0===C?void 0:C.symbol)}),null!==D&&void 0!==D&&D.total_discount?(0,Z.jsx)("div",{className:"ml-2 font-weight-bold",children:(0,g.Z)(null===D||void 0===D?void 0:D.total_price,null===D||void 0===D||null===(I=D.currency)||void 0===I?void 0:I.symbol)}):""]})]})})]})]})})})}},24654:function(){}}]);