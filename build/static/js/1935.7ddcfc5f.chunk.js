"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[1935],{75049:function(e,n,t){t.d(n,{Z:function(){return s}});var a=t(4942),r=t(18197),o=(t(47313),t(47168)),l=t(24511),i=t(2717),c=t(97421),u=t(46417);function s(e){var n=e.setLocation,t=e.form,s=e.item,d=e.idx,f=e.defaultLang,v=(0,l.$)().t,p=(0,i.v9)((function(e){return e.globalSettings.settings}),i.wU).google_map_key,g=(0,o.usePlacesWidget)({apiKey:p||c.kr,onPlaceSelected:function(e){var r={lat:null===e||void 0===e?void 0:e.geometry.location.lat(),lng:null===e||void 0===e?void 0:e.geometry.location.lng()};n(r),t.setFieldsValue((0,a.Z)({},"address[".concat(f,"]"),null===e||void 0===e?void 0:e.formatted_address))}}).ref;return(0,u.jsx)(r.Z.Item,{label:v("address"),name:"address[".concat(null===s||void 0===s?void 0:s.locale,"]"),rules:[{required:(null===s||void 0===s?void 0:s.locale)===f,message:v("required")}],hidden:(null===s||void 0===s?void 0:s.locale)!==f,children:(0,u.jsx)("input",{className:"address-input",ref:g,placeholder:""})},"address"+d)}},30153:function(e,n,t){t.d(n,{Z:function(){return v}});var a=t(4942),r=t(47313),o=t(18197),l=t(24511),i=t(68144),c=t(76733),u=t.n(c),s=t(97421),d=t(36104),f=t(46417);function v(e){var n=e.form,t=e.lang,c=e.languages,v=(0,l.$)().t;function p(e){e.plugins.get("FileRepository").createUploadAdapter=function(e){return function(e){return{upload:function(){return new Promise((function(n,t){var a=new FormData;e.file.then((function(e){a.append("image",e),a.append("type","blogs"),d.Z.upload(a).then((function(e){var t=e.data;n({default:"".concat(s.bV+t.title)})})).catch((function(e){t(e)}))}))}))}}}(e)}}return(0,f.jsx)(r.Fragment,{children:c.map((function(e){return(0,f.jsx)(o.Z.Item,{label:v("description"),name:"description[".concat(e.locale,"]"),valuePropName:"data",getValueFromEvent:function(e,n){return n.getData()},rules:[{required:e.locale===t,message:v("required")}],hidden:e.locale!==t,children:(0,f.jsx)(i.CKEditor,{editor:u(),config:{extraPlugins:[p]},onBlur:function(t,r){var o=r.getData();n.setFieldsValue((0,a.Z)({},"description[".concat(e.value,"]"),o))}})},"desc"+e.locale)}))})}},73431:function(e,n,t){var a=t(47313),r=t(39180),o=t(2717),l=t(28830),i=t(60535),c=t(46417);n.Z=function(){var e=(0,o.I0)(),n=(0,o.v9)((function(e){return e.formLang}),o.wU),t=n.languages,u=n.defaultLang;(0,a.useEffect)((function(){i.Z.getAllActive().then((function(n){var t=n.data;e((0,l.dc)(t)),e((0,l.mh)(t.find((function(e){return 1===e.default})).locale))}))}),[]);return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(r.ZP.Group,{value:u,onChange:function(n){var t=n.target.value;e((0,l.mh)(t))},className:"float-right",buttonStyle:"solid",children:null===t||void 0===t?void 0:t.map((function(e){return(0,c.jsx)(r.ZP.Button,{value:e.locale,children:e.title},e.id)}))})})}},97388:function(e,n,t){t.d(n,{Z:function(){return m}});var a=t(74165),r=t(15861),o=t(29439),l=t(47313),i=t(16609),c=t(97421),u=t.p+"static/media/pin.0e41858db80c699cd8a2.png",s=t(31881),d=t.n(s);function f(e){return v.apply(this,arguments)}function v(){return v=(0,r.Z)((0,a.Z)().mark((function e(n){var t,r,o=arguments;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>1&&void 0!==o[1]?o[1]:c.kr,r={latlng:"".concat(null===n||void 0===n?void 0:n.lat,",").concat(null===n||void 0===n?void 0:n.lng),key:t},e.abrupt("return",d().get("https://maps.googleapis.com/maps/api/geocode/json",{params:r}).then((function(e){var n;return null===(n=e.data.results[0])||void 0===n?void 0:n.formatted_address})).catch((function(e){return"not found"})));case 3:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}var p=t(5958),g=t(46417);var m=(0,i.GoogleApiWrapper)({apiKey:c.kr})((function(e){var n=(0,l.useState)(),t=(0,o.Z)(n,2),s=t[0],d=t[1],v=function(){var n=(0,r.Z)((0,a.Z)().mark((function n(t,r,o){var l,i,u;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return l=o.latLng,i={lat:l.lat(),lng:l.lng()},e.setLocation(i),n.next=5,f(i,c.kr);case 5:u=n.sent,e.setAddress(u);case 7:case"end":return n.stop()}}),n)})));return function(e,t,a){return n.apply(this,arguments)}}(),m=function(){var n=(0,r.Z)((0,a.Z)().mark((function n(t){var r,o;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={lat:null===t||void 0===t?void 0:t.lat,lng:null===t||void 0===t?void 0:t.lng},e.setLocation(r),n.next=4,f(r,c.kr);case 4:o=n.sent,e.setAddress(o);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),h=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.geolocation.getCurrentPosition((function(e){var n={lat:e.coords.latitude,lng:e.coords.longitude};d(n)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,l.useEffect)((function(){h()}),[]);for(var Z=[{lat:Number(e.location.lat)||0,lng:Number(e.location.lng)||0}],x=new e.google.maps.LatLngBounds,b=0;b<Z.length;b++)x.extend(Z[b]);return(0,g.jsxs)("div",{className:"map-container",style:{height:400,width:"100%"},children:[(0,g.jsx)("button",{className:"map-button",type:"button",onClick:function(){h(),m(s)},children:(0,g.jsx)(p.nDs,{})}),(0,g.jsx)(i.Map,{cursor:"pointer",onClick:v,google:e.google,defaultZoom:12,zoom:10,className:"clickable",initialCenter:e.location,center:e.location,children:(0,g.jsx)(i.Marker,{position:e.location,icon:{url:u,scaledSize:new e.google.maps.Size(32,32)},className:"marker"})})]})}))},89281:function(e,n,t){t.d(n,{h:function(){return v}});var a=t(1413),r=t(29439),o=t(45987),l=t(47313),i=t(12279),c=t.n(i),u=t(74294),s=t(72652),d=t(46417),f=["fetchOptions","debounceTimeout"],v=function(e){var n=e.fetchOptions,t=e.debounceTimeout,i=void 0===t?400:t,v=(0,o.Z)(e,f),p=(0,l.useState)(!1),g=(0,r.Z)(p,2),m=g[0],h=g[1],Z=(0,l.useState)([]),x=(0,r.Z)(Z,2),b=x[0],y=x[1],j=(0,l.useMemo)((function(){return c()((function(e){y([]),h(!0),n(e).then((function(e){y(e),h(!1)}))}),i)}),[n,i]);return(0,d.jsx)(u.Z,(0,a.Z)((0,a.Z)({showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:j,notFoundContent:m?(0,d.jsx)(s.Z,{size:"small"}):"no results"},v),{},{options:b,onFocus:function(){b.length||j("")}}))}},17649:function(e,n,t){t.d(n,{Z:function(){return a}});t(97421);function a(e){if(null===e||void 0===e||!e.location)return{lat:47.4143302506288,lng:8.532059477976883};var n=e.location.split(", ");return{lat:Number(null===n||void 0===n?void 0:n[0]),lng:Number(null===n||void 0===n?void 0:n[1])}}},47538:function(e,n,t){t.r(n);var a=t(74165),r=t(15861),o=t(1413),l=t(93433),i=t(4942),c=t(29439),u=t(47313),s=t(18197),d=t(77181),f=t(68197),v=t(59624),p=t(66672),g=t(86345),m=t(59491),h=t(72652),Z=t(34491),x=t(58467),b=t(73431),y=t(2717),j=t(90954),w=t(57481),k=t(24511),C=t(85191),N=t(17649),S=t(89281),O=(t(97388),t(75049),t(30763)),E=t(30153),F=t(46417);n.default=function(){var e,n,t,I,_,P=(0,k.$)().t,L=(0,x.s0)(),q=(0,y.I0)(),A=(0,y.v9)((function(e){return e.menu}),y.wU).activeMenu,U=(0,u.useState)(!1),V=(0,c.Z)(U,2),z=V[0],D=V[1],T=s.Z.useForm(),K=(0,c.Z)(T,1)[0],M=(0,u.useState)(!1),B=(0,c.Z)(M,2),R=B[0],G=B[1],W=(0,x.UO)().id,$=(0,y.v9)((function(e){return e.career}),y.wU).params,H=(0,y.v9)((function(e){return e.formLang}),y.wU),J=H.defaultLang,Q=H.languages,X=(0,y.v9)((function(e){return e.globalSettings}),y.wU).settings,Y=(0,u.useState)(null!==A&&void 0!==A&&null!==(e=A.data)&&void 0!==e&&e.location?{lat:parseFloat(null===A||void 0===A||null===(n=A.data)||void 0===n||null===(t=n.location)||void 0===t?void 0:t.latitude),lng:parseFloat(null===A||void 0===A||null===(I=A.data)||void 0===I||null===(_=I.location)||void 0===_?void 0:_.longitude)}:(0,N.Z)(X)),ee=(0,c.Z)(Y,2),ne=ee[0],te=ee[1];(0,u.useEffect)((function(){return function(){var e=K.getFieldsValue(!0);q((0,j.nc)({activeMenu:A,data:e}))}}),[]);var ae=function(e){D(!0),w.Z.getById(e).then((function(e){var n=e.data;console.log("career",n);var t=(0,o.Z)((0,o.Z)((0,o.Z)({},n),function(e){if(!e)return{};var n=e.translations,t=Q.map((function(e){var t,a,r,o;return o={},(0,i.Z)(o,"title[".concat(e.locale,"]"),null===(t=n.find((function(n){return n.locale===e.locale})))||void 0===t?void 0:t.title),(0,i.Z)(o,"description[".concat(e.locale,"]"),null===(a=n.find((function(n){return n.locale===e.locale})))||void 0===a?void 0:a.description),(0,i.Z)(o,"address[".concat(e.locale,"]"),null===(r=n.find((function(n){return n.locale===e.locale})))||void 0===r?void 0:r.address),o}));return Object.assign.apply(Object,[{}].concat((0,l.Z)(t)))}(n)),{},{category_id:{label:n.category.translation.title,value:n.category.id}});te({lat:n.location.latitude,lng:n.location.longitude}),K.setFieldsValue(t)})).finally((function(){D(!1),q((0,j.A_)(A))}))};function re(){return re=(0,r.Z)((0,a.Z)().mark((function e(n){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={search:n.lenght>0?n:void 0,type:"career"},e.abrupt("return",O.Z.getAll(t).then((function(e){return e.data.map((function(e){return{label:e.translation?e.translation.title:"no name",value:e.id}}))})));case 2:case"end":return e.stop()}}),e)}))),re.apply(this,arguments)}return(0,u.useEffect)((function(){A.refetch&&ae(W)}),[A.refetch]),(0,F.jsx)(d.Z,{title:P("clone.career"),extra:(0,F.jsx)(b.Z,{}),children:z?(0,F.jsx)("div",{className:"d-flex justify-content-center align-items-center py-5",children:(0,F.jsx)(h.Z,{size:"large",className:"mt-5 pt-5"})}):(0,F.jsxs)(s.Z,{name:"basic",layout:"vertical",onFinish:function(e){G(!0);var n=(0,o.Z)((0,o.Z)({},e),{},{active:e.active?1:0,"location[latitude]":ne.lat,"location[longitude]":ne.lng,category_id:e.category_id.value}),t="catalog/career";w.Z.create(n).then((function(){Z.Am.success(P("successfully.updated")),q((0,j.ph)((0,o.Z)((0,o.Z)({},A),{},{nextUrl:t}))),q((0,C.a)($)),L("/".concat(t))})).catch((function(e){return console.error(e.response.data.params)})).finally((function(){return G(!1)}))},initialValues:(0,o.Z)({parent_id:{title:"---",value:0,key:0},active:!0},A.data),form:K,children:[(0,F.jsxs)(f.Z,{gutter:12,children:[(0,F.jsx)(v.Z,{span:12,children:Q.map((function(e,n){return(0,F.jsx)(s.Z.Item,{label:P("name"),name:"title[".concat(e.locale,"]"),rules:[{required:e.locale===J,message:P("required")}],hidden:e.locale!==J,children:(0,F.jsx)(p.Z,{placeholder:P("name")})},e.title+n)}))}),(0,F.jsx)(v.Z,{span:12,children:(0,F.jsx)(E.Z,{form:K,lang:J,languages:Q})}),(0,F.jsx)(v.Z,{span:12,children:(0,F.jsx)(s.Z.Item,{label:P("category"),name:"category_id",rules:[{required:!0,message:P("required")}],children:(0,F.jsx)(S.h,{fetchOptions:function(e){return re.apply(this,arguments)}})})}),(0,F.jsx)(v.Z,{span:12,children:Q.map((function(e,n){return(0,F.jsx)(s.Z.Item,{label:P("location"),name:"address[".concat(e.locale,"]"),rules:[{required:e.locale===J,message:P("required")}],hidden:e.locale!==J,children:(0,F.jsx)(p.Z,{})},e.locale+n)}))}),(0,F.jsx)(v.Z,{span:12,children:(0,F.jsx)(s.Z.Item,{label:P("active"),name:"active",valuePropName:"checked",children:(0,F.jsx)(g.Z,{})})}),(0,F.jsx)(v.Z,{span:12}),(0,F.jsx)(v.Z,{span:24,className:"mb-5"})]}),(0,F.jsx)(m.Z,{type:"primary",htmlType:"submit",loading:R,children:P("submit")})]})})}},86345:function(e,n,t){t.d(n,{Z:function(){return b}});var a=t(87462),r=t(4942),o=t(47313),l=t(29439),i=t(45987),c=t(46123),u=t.n(c),s=t(10288),d=t(49242),f=o.forwardRef((function(e,n){var t,a=e.prefixCls,c=void 0===a?"rc-switch":a,f=e.className,v=e.checked,p=e.defaultChecked,g=e.disabled,m=e.loadingIcon,h=e.checkedChildren,Z=e.unCheckedChildren,x=e.onClick,b=e.onChange,y=e.onKeyDown,j=(0,i.Z)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),w=(0,s.Z)(!1,{value:v,defaultValue:p}),k=(0,l.Z)(w,2),C=k[0],N=k[1];function S(e,n){var t=C;return g||(N(t=e),null===b||void 0===b||b(t,n)),t}var O=u()(c,f,(t={},(0,r.Z)(t,"".concat(c,"-checked"),C),(0,r.Z)(t,"".concat(c,"-disabled"),g),t));return o.createElement("button",Object.assign({},j,{type:"button",role:"switch","aria-checked":C,disabled:g,className:O,ref:n,onKeyDown:function(e){e.which===d.Z.LEFT?S(!1,e):e.which===d.Z.RIGHT&&S(!0,e),null===y||void 0===y||y(e)},onClick:function(e){var n=S(!C,e);null===x||void 0===x||x(n,e)}}),m,o.createElement("span",{className:"".concat(c,"-inner")},C?h:Z))}));f.displayName="Switch";var v=f,p=t(82508),g=t(46479),m=t(91964),h=t(21631),Z=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)n.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(t[a[r]]=e[a[r]])}return t},x=o.forwardRef((function(e,n){var t,l=e.prefixCls,i=e.size,c=e.loading,s=e.className,d=void 0===s?"":s,f=e.disabled,x=Z(e,["prefixCls","size","loading","className","disabled"]),b=o.useContext(m.E_),y=b.getPrefixCls,j=b.direction,w=o.useContext(h.Z),k=y("switch",l),C=o.createElement("div",{className:"".concat(k,"-handle")},c&&o.createElement(p.Z,{className:"".concat(k,"-loading-icon")})),N=u()((t={},(0,r.Z)(t,"".concat(k,"-small"),"small"===(i||w)),(0,r.Z)(t,"".concat(k,"-loading"),c),(0,r.Z)(t,"".concat(k,"-rtl"),"rtl"===j),t),d);return o.createElement(g.Z,{insertExtraNode:!0},o.createElement(v,(0,a.Z)({},x,{prefixCls:k,className:N,disabled:f||c,ref:n,loadingIcon:C})))}));x.__ANT_SWITCH=!0,x.displayName="Switch";var b=x}}]);