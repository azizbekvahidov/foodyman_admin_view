"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[7418],{13945:function(t,e,n){function a(t){switch(t){case"ascend":return"asc";case"descend":return"desc"}}n.d(e,{Z:function(){return a}})},80314:function(t,e,n){var a=n(47313);e.Z=function(t,e){var n=(0,a.useRef)(!1);(0,a.useEffect)((function(){if(n.current)return t&&t();n.current=!0}),e)}},47418:function(t,e,n){n.r(e),n.d(e,{default:function(){return w}});var a=n(29439),r=n(47313),c=n(37388),o=n(59491),i=n(77181),u=n(87569),d=n(78508),l=n(97421),s=n(2717),f=n(24511),p=n(63243),h=n(13945),g=n(90954),v=n(80314),m=n(30991),k=n(34491),b=n(31881),y=n.n(b),x=n(79492),Z=n(46417);function w(){var t=(0,r.useState)(!1),e=(0,a.Z)(t,2),n=e[0],b=e[1],w=(0,s.I0)(),C=(0,f.$)().t,j=localStorage.getItem("token"),I=[{title:C("id"),dataIndex:"id",key:"id",sorter:!0},{title:C("client"),dataIndex:"user",key:"user",render:function(t){return(0,Z.jsxs)("div",{children:[t.firstname," ",t.lastname]})}},{title:C("title"),dataIndex:"title",key:"title"},{title:C("created.at"),dataIndex:"created_at",key:"created_at"},{title:C("options"),dataIndex:"title",key:"title",render:function(t){return(0,Z.jsx)(c.Z,{title:C("download.backup"),children:(0,Z.jsx)(o.Z,{type:"primary",icon:(0,Z.jsx)(p.Z,{}),onClick:function(){return B("/storage/laravel-backup/"+t)}})})}}],S=(0,s.v9)((function(t){return t.menu}),s.wU).activeMenu,_=(0,s.v9)((function(t){return t.backup}),s.wU),z=_.history,P=_.meta,A=_.loading,E=_.params,M=S.data,H=(0,x.Z)().isDemo;(0,v.Z)((function(){if(!H){var t={sort:null===M||void 0===M?void 0:M.sort,column:null===M||void 0===M?void 0:M.column,perPage:null===M||void 0===M?void 0:M.perPage,page:null===M||void 0===M?void 0:M.page};w((0,m.x)(t))}}),[S.data]),(0,r.useEffect)((function(){if(S.refetch){if(H)return;w((0,m.x)()),w((0,g.A_)(S))}}),[S.refetch]);function B(t){var e=document.createElement("a");e.href=l._n+t,document.body.appendChild(e),e.click(),document.body.removeChild(e)}return(0,Z.jsxs)(i.Z,{title:C("backup"),children:[(0,Z.jsx)(u.ZP,{status:"warning",title:C("do.you.care.about.your.data"),subTitle:C("here.you.can.take.backup.from.database"),extra:(0,Z.jsx)(o.Z,{type:"primary",loading:n,onClick:function(){k.Am.warning(H?null:C("backup.loading")),H?k.Am.warning(C("cannot.work.demo")):(b(!0),y().post("".concat(l.YZ,"dashboard/admin/backup/history"),{},{headers:{Authorization:"Bearer ".concat(j),"content-type":"text/json"}}).then((function(t){return B(t.data.data.path)})).finally((function(){return b(!1)})))},children:C("download.backup")})}),(0,Z.jsx)(d.Z,{scroll:{x:!0},columns:I,dataSource:z,loading:A,pagination:{pageSize:E.perPage,page:E.page,total:P.total,defaultCurrent:E.page},rowKey:function(t){return t.id},onChange:function(t,e,n){var a=t.pageSize,r=t.current,c=n.field,o=n.order,i=(0,h.Z)(o);w((0,g.nc)({activeMenu:S,data:{perPage:a,page:r,column:c,sort:i}}))}})]})}},63243:function(t,e,n){n.d(e,{Z:function(){return u}});var a=n(1413),r=n(47313),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M624 706.3h-74.1V464c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v242.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.7a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9z"}},{tag:"path",attrs:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]},name:"cloud-download",theme:"outlined"},o=n(17469),i=function(t,e){return r.createElement(o.Z,(0,a.Z)((0,a.Z)({},t),{},{ref:e,icon:c}))};i.displayName="CloudDownloadOutlined";var u=r.forwardRef(i)}}]);