"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[2022],{12022:function(e,n,t){t.r(n),t.d(n,{default:function(){return q}});var l=t(1413),i=t(29439),r=t(47313),a=t(18197),s=t(77181),u=t(68197),o=t(59624),c=t(74294),d=t(66672),f=t(86345),m=t(59491),b=t(58467),v=t(34491),h=t(30554),p=t(2717),Z=t(90954),x=t(14506),j=t(24511),y=t(35305),g=t(51282),C=t(46417);function q(){var e=(0,j.$)().t,n=(0,r.useState)(!1),t=(0,i.Z)(n,2),q=t[0],I=t[1],F=(0,r.useState)(!1),U=(0,i.Z)(F,2),V=U[0],_=U[1],k=a.Z.useForm(),w=(0,i.Z)(k,1)[0],S=(0,b.s0)(),A=(0,b.UO)().id,E=(0,p.I0)(),M=(0,p.v9)((function(e){return e.menu})).activeMenu;(0,r.useEffect)((function(){return function(){var e=w.getFieldsValue(!0);E((0,Z.nc)({activeMenu:M,data:e}))}}),[]);(0,r.useEffect)((function(){M.refetch&&function(e){I(!0),h.Z.getById(e).then((function(e){var n=e.data;return w.setFieldsValue(n)})).finally((function(){I(!1),E((0,Z.A_)(M))}))}(A)}),[M.refetch]);var N=y.map((function(e){return{label:(null===e||void 0===e?void 0:e.name.toUpperCase())+" "+"( ".concat(e.symbol_native," )"),value:e.code,symbol:e.symbol_native}}));return(0,C.jsx)(s.Z,{title:e("edit.currency"),children:q?(0,C.jsx)(g.Z,{}):(0,C.jsxs)(a.Z,{name:"currency-add",onFinish:function(n){_(!0);var t={title:n.title,symbol:n.symbol,rate:n.rate,active:Number(n.active),position:n.position},i="currencies";h.Z.update(A,t).then((function(){v.Am.success(e("successfully.updated")),E((0,Z.ph)((0,l.Z)((0,l.Z)({},M),{},{nextUrl:i}))),S("/".concat(i)),E((0,x.U$)({}))})).finally((function(){return _(!1)}))},form:w,layout:"vertical",initialValues:(0,l.Z)((0,l.Z)({},M.data),{},{active:!0}),children:[(0,C.jsxs)(u.Z,{gutter:12,children:[(0,C.jsx)(o.Z,{span:12,children:(0,C.jsx)(a.Z.Item,{label:e("title"),name:"title",rules:[{required:!0,message:e("required")}],children:(0,C.jsx)(c.Z,{onChange:function(e,n){return w.setFieldsValue({symbol:n.symbol})},filterOption:function(e,n){var t;return(null!==(t=null===n||void 0===n?void 0:n.label)&&void 0!==t?t:"").includes(e)},filterSort:function(e,n){var t,l;return(null!==(t=null===e||void 0===e?void 0:e.label)&&void 0!==t?t:"").toUpperCase().localeCompare((null!==(l=null===n||void 0===n?void 0:n.label)&&void 0!==l?l:"").toUpperCase())},showSearch:!0,allowClear:!0,options:N})})}),(0,C.jsx)(o.Z,{span:12,children:(0,C.jsx)(a.Z.Item,{label:e("symbol"),name:"symbol",rules:[{required:!0,message:e("required")}],children:(0,C.jsx)(d.Z,{disabled:!0})})}),(0,C.jsx)(o.Z,{span:12,children:(0,C.jsx)(a.Z.Item,{label:e("rate"),name:"rate",rules:[{required:!0,message:e("required")}],children:(0,C.jsx)(d.Z,{})})}),(0,C.jsx)(o.Z,{span:12,children:(0,C.jsx)(a.Z.Item,{label:e("symbol_position"),name:"position",rules:[{required:!0,message:e("required")}],children:(0,C.jsx)(c.Z,{onChange:function(e){return w.setFieldsValue({position:e})},options:[{label:e("after"),value:"after"},{label:e("before"),value:"before"}],defaultValue:"before"})})}),(0,C.jsx)(o.Z,{span:12,children:(0,C.jsx)(a.Z.Item,{label:e("active"),name:"active",valuePropName:"checked",children:(0,C.jsx)(f.Z,{})})})]}),(0,C.jsx)(m.Z,{type:"primary",htmlType:"submit",loading:V,children:e("submit")})]})})}}}]);