"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[2773],{30153:function(e,n,t){t.d(n,{Z:function(){return p}});var a=t(4942),l=t(47313),r=t(18197),i=t(24511),o=t(68144),u=t(76733),c=t.n(u),s=t(97421),d=t(36104),f=t(46417);function p(e){var n=e.form,t=e.lang,u=e.languages,p=(0,i.$)().t;function m(e){e.plugins.get("FileRepository").createUploadAdapter=function(e){return function(e){return{upload:function(){return new Promise((function(n,t){var a=new FormData;e.file.then((function(e){a.append("image",e),a.append("type","blogs"),d.Z.upload(a).then((function(e){var t=e.data;n({default:"".concat(s.bV+t.title)})})).catch((function(e){t(e)}))}))}))}}}(e)}}return(0,f.jsx)(l.Fragment,{children:u.map((function(e){return(0,f.jsx)(r.Z.Item,{label:p("description"),name:"description[".concat(e.locale,"]"),valuePropName:"data",getValueFromEvent:function(e,n){return n.getData()},rules:[{required:e.locale===t,message:p("required")}],hidden:e.locale!==t,children:(0,f.jsx)(o.CKEditor,{editor:c(),config:{extraPlugins:[m]},onBlur:function(t,l){var r=l.getData();n.setFieldsValue((0,a.Z)({},"description[".concat(e.value,"]"),r))}})},"desc"+e.locale)}))})}},73431:function(e,n,t){var a=t(47313),l=t(39180),r=t(2717),i=t(28830),o=t(60535),u=t(46417);n.Z=function(){var e=(0,r.I0)(),n=(0,r.v9)((function(e){return e.formLang}),r.wU),t=n.languages,c=n.defaultLang;(0,a.useEffect)((function(){o.Z.getAllActive().then((function(n){var t=n.data;e((0,i.dc)(t)),e((0,i.mh)(t.find((function(e){return 1===e.default})).locale))}))}),[]);return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(l.ZP.Group,{value:c,onChange:function(n){var t=n.target.value;e((0,i.mh)(t))},className:"float-right",buttonStyle:"solid",children:null===t||void 0===t?void 0:t.map((function(e){return(0,u.jsx)(l.ZP.Button,{value:e.locale,children:e.title},e.id)}))})})}},75336:function(e,n,t){t.d(n,{Z:function(){return r}});var a=t(93433),l=t(4942);function r(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"title",r=e.map((function(e){return(0,l.Z)({},e.locale,""===n["".concat(t,"[").concat(e.locale,"]")]?void 0:n["".concat(t,"[").concat(e.locale,"]")])}));return Object.assign.apply(Object,[{}].concat((0,a.Z)(r)))}},72773:function(e,n,t){t.r(n);var a=t(1413),l=t(29439),r=t(47313),i=t(58467),o=t(34491),u=t(18197),c=t(77181),s=t(68197),d=t(59624),f=t(66672),p=t(74294),m=t(86345),g=t(59491),v=t(2717),h=t(90954),Z=t(1706),b=t(24511),x=t(73431),j=t(5764),_=t(97421),y=t(10320),k=t(30153),w=t(31881),I=t.n(w),N=t(75336),A=t(46417);n.default=function(){var e,n,t,w,F=(0,b.$)().t,q=(0,v.v9)((function(e){return e.menu}),v.wU).activeMenu,L=(0,v.I0)(),P=u.Z.useForm(),U=(0,l.Z)(P,1)[0],V=(0,i.s0)(),C=(0,r.useState)(!1),S=(0,l.Z)(C,2),D=S[0],E=S[1],z=(0,r.useState)(null),B=(0,l.Z)(z,2),M=B[0],O=B[1],R=(0,v.v9)((function(e){return e.formLang}),v.wU),$=R.languages,G=R.defaultLang,K=(0,v.v9)((function(e){return e.pages}),v.wU).pages,T=(0,r.useState)(null!==(e=q.data)&&void 0!==e&&null!==(n=e.galleries)&&void 0!==n&&n[0]?[(w=null===(t=q.data.galleries)||void 0===t?void 0:t[0].path,{name:w,url:_.bV+w})]:[]),Y=(0,l.Z)(T,2),H=Y[0],J=Y[1];(0,r.useEffect)((function(){return function(){var e=U.getFieldsValue(!0);L((0,h.nc)({activeMenu:q,data:e}))}}),[]);return(0,A.jsx)(c.Z,{title:F("add.pages"),className:"h-100",extra:(0,A.jsx)(x.Z,{}),children:(0,A.jsxs)(u.Z,{name:"page-add",layout:"vertical",onFinish:function(e){E(!0);var n={images:H.map((function(e){return e.name})),active:Number(e.active),type:e.type,title:(0,N.Z)($,e,"title"),description:(0,N.Z)($,e,"description"),buttons:{google_play_button_link:null===e||void 0===e?void 0:e.google_play_button_link,app_store_button_link:null===e||void 0===e?void 0:e.app_store_button_link}};I()({method:"post",url:"".concat(_.YZ,"dashboard/admin/pages"),headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))},data:n,params:{}}).then((function(){var e="pages";o.Am.success(F("successfully.created")),L((0,h.ph)((0,a.Z)((0,a.Z)({},q),{},{nextUrl:e}))),V("/".concat(e)),L((0,Z.R)())})).catch((function(e){var n,t;return o.Am.error(null===(n=e.response)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.message)})).finally((function(){return E(!1)}))},form:U,initialValues:(0,a.Z)({active:!0},q.data),className:"d-flex flex-column h-100",children:[(0,A.jsxs)(s.Z,{gutter:12,children:[(0,A.jsx)(d.Z,{span:12,children:$.map((function(e){return(0,A.jsx)(u.Z.Item,{label:F("name"),name:"title[".concat(e.locale,"]"),rules:[{required:e.locale===G,message:F("required")}],hidden:e.locale!==G,children:(0,A.jsx)(f.Z,{})},"title"+e.locale)}))}),(0,A.jsx)(d.Z,{span:12}),(0,A.jsx)(d.Z,{span:24,children:(0,A.jsx)(k.Z,{form:U,languages:$,lang:G})}),(0,A.jsx)(d.Z,{span:12,children:(0,A.jsx)(u.Z.Item,{label:F("type"),name:"type",rules:[{required:!0,message:F("required")}],children:(0,A.jsx)(p.Z,{onChange:function(e){return O(e)},options:y.z.filter((function(e){return!K.some((function(n){return n.type===e.value}))})),className:"w-100"})})}),(0,A.jsx)(d.Z,{span:12,children:(0,A.jsx)(u.Z.Item,{label:F("active"),name:"active",valuePropName:"checked",children:(0,A.jsx)(m.Z,{})})}),"delivery"!==M&&"about"!==M&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(d.Z,{span:12,children:(0,A.jsx)(u.Z.Item,{label:F("google_play_button_link"),name:"google_play_button_link",children:(0,A.jsx)(f.Z,{className:"w-100"})})}),(0,A.jsx)(d.Z,{span:12,children:(0,A.jsx)(u.Z.Item,{label:F("app_store_button_link"),name:"app_store_button_link",children:(0,A.jsx)(f.Z,{className:"w-100"})})})]}),(0,A.jsx)(d.Z,{span:12,children:(0,A.jsx)(u.Z.Item,{label:F("image"),children:(0,A.jsx)(j.Z,{type:"receipts",imageList:H,setImageList:J,form:U,multiple:!1})})})]}),(0,A.jsx)("div",{className:"flex-grow-1 d-flex flex-column justify-content-end",children:(0,A.jsx)("div",{className:"pb-5",children:(0,A.jsx)(g.Z,{type:"primary",htmlType:"submit",loading:D,children:F("submit")})})})]})})}},10320:function(e,n,t){t.d(n,{z:function(){return a}});var a=[{value:"delivery",label:"Delivery"},{value:"about",label:"About"},{value:"about_fourth",label:"About fourth"},{value:"about_second",label:"About second"},{value:"about_three",label:"About third"}]}}]);