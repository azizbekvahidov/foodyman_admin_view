"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[6089],{73431:function(e,n,t){var a=t(47313),r=t(39180),i=t(2717),l=t(28830),o=t(60535),c=t(46417);n.Z=function(){var e=(0,i.I0)(),n=(0,i.v9)((function(e){return e.formLang}),i.wU),t=n.languages,s=n.defaultLang;(0,a.useEffect)((function(){o.Z.getAllActive().then((function(n){var t=n.data;e((0,l.dc)(t)),e((0,l.mh)(t.find((function(e){return 1===e.default})).locale))}))}),[]);return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(r.ZP.Group,{value:s,onChange:function(n){var t=n.target.value;e((0,l.mh)(t))},className:"float-right",buttonStyle:"solid",children:null===t||void 0===t?void 0:t.map((function(e){return(0,c.jsx)(r.ZP.Button,{value:e.locale,children:e.title},e.id)}))})})}},36089:function(e,n,t){t.r(n),t.d(n,{default:function(){return N}});var a=t(1413),r=t(93433),i=t(4942),l=t(29439),o=t(18197),c=t(77181),s=t(45705),u=t(59491),d=t(68197),f=t(59624),p=t(66672),v=t(6289),m=t(99096),h=t(49080),b=t(70816),x=t.n(b),g=t(47313),Z=t(24511),y=t(2717),C=t(34491),j=t(90954),k=t(34344),w={get:function(e){return k.Z.get("dashboard/admin/referrals",{params:e})},update:function(e){return k.Z.post("dashboard/admin/referrals",{},{params:e})}},E=t(99638),O=t(73431),_=t(5764),P=t(46417),N=function(){var e,n,t=(0,Z.$)().t,b=o.Z.useForm(),k=(0,l.Z)(b,1)[0],N=(0,y.v9)((function(e){return e.menu}),y.wU).activeMenu,q=(0,y.I0)(),I=(0,y.v9)((function(e){return e.globalSettings})).settings,S=Number(I.referral_active),F=(0,g.useState)(!1),M=(0,l.Z)(F,2),K=M[0],D=M[1],L=(0,g.useState)(!1),U=(0,l.Z)(L,2),B=U[0],R=U[1],A=(0,y.v9)((function(e){return e.formLang}),y.wU),V=A.defaultLang,Y=A.languages,T=(0,g.useState)(null!==(e=N.data)&&void 0!==e&&e.logo_img?[null===(n=N.data)||void 0===n?void 0:n.logo_img]:[]),G=(0,l.Z)(T,2),H=G[0],J=G[1];function z(){D(!0),w.get().then((function(e){var n=e.data[0],t=(0,a.Z)((0,a.Z)({},function(e){if(null===e||void 0===e||!e.translations)return{};var n=e.translations,t=Y.map((function(e){var t,a,r,l;return l={},(0,i.Z)(l,"title[".concat(e.locale,"]"),null===(t=n.find((function(n){return n.locale===e.locale})))||void 0===t?void 0:t.title),(0,i.Z)(l,"description[".concat(e.locale,"]"),null===(a=n.find((function(n){return n.locale===e.locale})))||void 0===a?void 0:a.description),(0,i.Z)(l,"faq[".concat(e.locale,"]"),null===(r=n.find((function(n){return n.locale===e.locale})))||void 0===r?void 0:r.faq),l}));return Object.assign.apply(Object,[{}].concat((0,r.Z)(t)))}(n)),{},{price_from:n.price_from,price_to:n.price_to,expired_at:n.expired_at?x()(n.expired_at):void 0,active:n.active,image:[Q(n.img)]});k.setFieldsValue(t),J([Q(n.img)])})).finally((function(){D(!1),q((0,j.A_)(N))}))}(0,g.useEffect)((function(){return function(){var e=k.getFieldsValue(!0);e.expired_at=JSON.stringify(null===e||void 0===e?void 0:e.expired_at),q((0,j.nc)({activeMenu:N,data:e}))}}),[]);var Q=function(e){return{items:e,uid:e,url:e,name:e}};return(0,g.useEffect)((function(){N.refetch&&z()}),[N.refetch]),(0,P.jsx)(c.Z,{title:t("referral.settings"),loading:K,extra:(0,P.jsxs)(s.Z,{children:[(0,P.jsx)(O.Z,{}),(0,P.jsx)(u.Z,{type:"primary",onClick:function(){return k.submit()},loading:B,disabled:1!==S,children:t("save")})]}),children:(0,P.jsx)(o.Z,{layout:"vertical",initialValues:(0,a.Z)((0,a.Z)({},N.data),{},{active:!0},function(){var e,n;if(null===(e=N.data)||void 0===e||!e.expired_at)return{};var t=JSON.parse(null===(n=N.data)||void 0===n?void 0:n.expired_at);return{expired_at:x()(t,"HH:mm:ss")}}()),form:k,onFinish:function(e){var n=(0,a.Z)((0,a.Z)({},e),{},{expired_at:x()(e.expired_at).format("YYYY-MM-DD"),img:H[0].name});R(!0),w.update(n).then((function(){C.Am.success(t("successfully.updated")),q((0,E.wv)())})).finally((function(){return R(!1)}))},name:"referral-settings",children:(0,P.jsxs)(d.Z,{gutter:24,children:[(0,P.jsx)(f.Z,{span:24,children:1!==S?(0,P.jsx)("h3",{className:"text-center mt-2 mb-4",children:t("no.active.referral")}):null}),(0,P.jsx)(f.Z,{span:12,children:Y.map((function(e,n){return(0,P.jsx)(o.Z.Item,{label:t("title"),name:"title[".concat(e.locale,"]"),rules:[{required:e.locale===V,message:t("required")},{min:2,message:t("title.requared")}],hidden:e.locale!==V,children:(0,P.jsx)(p.Z,{disabled:1!==S})},"title"+n)}))}),(0,P.jsx)(f.Z,{span:12,children:Y.map((function(e,n){return(0,P.jsx)(o.Z.Item,{label:t("description"),name:"description[".concat(e.locale,"]"),rules:[{required:e.locale===V,message:t("required")}],hidden:e.locale!==V,children:(0,P.jsx)(h.Z,{rows:3,disabled:1!==S})},"description"+n)}))}),(0,P.jsx)(f.Z,{span:12,children:(0,P.jsx)(o.Z.Item,{name:"price_from",label:t("sender.price"),rules:[{required:!0,message:t("required")}],children:(0,P.jsx)(v.Z,{className:"w-100",disabled:1!==S})})}),(0,P.jsx)(f.Z,{span:12,children:Y.map((function(e,n){return(0,P.jsx)(o.Z.Item,{label:t("terms"),name:"faq[".concat(e.locale,"]"),rules:[{required:e.locale===V,message:t("required")}],hidden:e.locale!==V,children:(0,P.jsx)(h.Z,{rows:3,disabled:1!==S})},"terms"+n)}))}),(0,P.jsx)(f.Z,{span:12,children:(0,P.jsx)(o.Z.Item,{name:"price_to",label:t("distribution.price"),rules:[{required:!0,message:t("required")}],children:(0,P.jsx)(v.Z,{className:"w-100",disabled:1!==S})})}),(0,P.jsx)(f.Z,{span:12,children:(0,P.jsx)(o.Z.Item,{name:"expired_at",label:t("expired.at"),rules:[{required:!0,message:t("required")}],children:(0,P.jsx)(m.Z,{className:"w-100",disabledDate:function(e){return x()().add(-1,"days")>=e},disabled:1!==S})})}),(0,P.jsx)(f.Z,{span:12,disabled:1!==S,children:(0,P.jsx)(o.Z.Item,{label:t("image"),disabled:1!==S,children:(0,P.jsx)(_.Z,{type:"referral",imageList:H,setImageList:J,form:k,multiple:!1,name:"referral",disabled:1!==S})})})]})})})}},39180:function(e,n,t){t.d(n,{ZP:function(){return q}});var a=t(4942),r=t(87462),i=t(47313),l=t(56482),o=t(46123),c=t.n(o),s=t(16945),u=t(4431),d=t(91964),f=i.createContext(null),p=f.Provider,v=f,m=i.createContext(null),h=m.Provider,b=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)n.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(t[a[r]]=e[a[r]])}return t},x=function(e,n){var t,o=i.useContext(v),f=i.useContext(m),p=i.useContext(d.E_),h=p.getPrefixCls,x=p.direction,g=i.useRef(),Z=(0,s.sQ)(n,g),y=(0,i.useContext)(u.aM).isFormItemInput,C=e.prefixCls,j=e.className,k=e.children,w=e.style,E=b(e,["prefixCls","className","children","style"]),O=h("radio",C),_="button"===((null===o||void 0===o?void 0:o.optionType)||f)?"".concat(O,"-button"):O,P=(0,r.Z)({},E);o&&(P.name=o.name,P.onChange=function(n){var t,a;null===(t=e.onChange)||void 0===t||t.call(e,n),null===(a=null===o||void 0===o?void 0:o.onChange)||void 0===a||a.call(o,n)},P.checked=e.value===o.value,P.disabled=e.disabled||o.disabled);var N=c()("".concat(_,"-wrapper"),(t={},(0,a.Z)(t,"".concat(_,"-wrapper-checked"),P.checked),(0,a.Z)(t,"".concat(_,"-wrapper-disabled"),P.disabled),(0,a.Z)(t,"".concat(_,"-wrapper-rtl"),"rtl"===x),(0,a.Z)(t,"".concat(_,"-wrapper-in-form-item"),y),t),j);return i.createElement("label",{className:N,style:w,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},i.createElement(l.Z,(0,r.Z)({},P,{type:"radio",prefixCls:_,ref:Z})),void 0!==k?i.createElement("span",null,k):null)},g=i.forwardRef(x);g.displayName="Radio";var Z=g,y=t(29439),C=t(10288),j=t(21631),k=t(81176),w=i.forwardRef((function(e,n){var t=i.useContext(d.E_),l=t.getPrefixCls,o=t.direction,s=i.useContext(j.Z),u=(0,C.Z)(e.defaultValue,{value:e.value}),f=(0,y.Z)(u,2),v=f[0],m=f[1];return i.createElement(p,{value:{onChange:function(n){var t=v,a=n.target.value;"value"in e||m(a);var r=e.onChange;r&&a!==t&&r(n)},value:v,disabled:e.disabled,name:e.name,optionType:e.optionType}},function(){var t,u=e.prefixCls,d=e.className,f=void 0===d?"":d,p=e.options,m=e.buttonStyle,h=void 0===m?"outline":m,b=e.disabled,x=e.children,g=e.size,y=e.style,C=e.id,j=e.onMouseEnter,w=e.onMouseLeave,E=l("radio",u),O="".concat(E,"-group"),_=x;p&&p.length>0&&(_=p.map((function(e){return"string"===typeof e||"number"===typeof e?i.createElement(Z,{key:e.toString(),prefixCls:E,disabled:b,value:e,checked:v===e},e):i.createElement(Z,{key:"radio-group-value-options-".concat(e.value),prefixCls:E,disabled:e.disabled||b,value:e.value,checked:v===e.value,style:e.style},e.label)})));var P=g||s,N=c()(O,"".concat(O,"-").concat(h),(t={},(0,a.Z)(t,"".concat(O,"-").concat(P),P),(0,a.Z)(t,"".concat(O,"-rtl"),"rtl"===o),t),f);return i.createElement("div",(0,r.Z)({},(0,k.Z)(e),{className:N,style:y,onMouseEnter:j,onMouseLeave:w,id:C,ref:n}),_)}())})),E=i.memo(w),O=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)n.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(t[a[r]]=e[a[r]])}return t},_=function(e,n){var t=i.useContext(d.E_).getPrefixCls,a=e.prefixCls,l=O(e,["prefixCls"]),o=t("radio",a);return i.createElement(h,{value:"button"},i.createElement(Z,(0,r.Z)({prefixCls:o},l,{type:"radio",ref:n})))},P=i.forwardRef(_),N=Z;N.Button=P,N.Group=E;var q=N},56482:function(e,n,t){var a=t(87462),r=t(4942),i=t(45987),l=t(1413),o=t(15671),c=t(43144),s=t(60136),u=t(29388),d=t(47313),f=t(46123),p=t.n(f),v=function(e){(0,s.Z)(t,e);var n=(0,u.Z)(t);function t(e){var a;(0,o.Z)(this,t),(a=n.call(this,e)).handleChange=function(e){var n=a.props,t=n.disabled,r=n.onChange;t||("checked"in a.props||a.setState({checked:e.target.checked}),r&&r({target:(0,l.Z)((0,l.Z)({},a.props),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},a.saveInput=function(e){a.input=e};var r="checked"in e?e.checked:e.defaultChecked;return a.state={checked:r},a}return(0,c.Z)(t,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var e,n=this.props,t=n.prefixCls,l=n.className,o=n.style,c=n.name,s=n.id,u=n.type,f=n.disabled,v=n.readOnly,m=n.tabIndex,h=n.onClick,b=n.onFocus,x=n.onBlur,g=n.onKeyDown,Z=n.onKeyPress,y=n.onKeyUp,C=n.autoFocus,j=n.value,k=n.required,w=(0,i.Z)(n,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),E=Object.keys(w).reduce((function(e,n){return"aria-"!==n.substr(0,5)&&"data-"!==n.substr(0,5)&&"role"!==n||(e[n]=w[n]),e}),{}),O=this.state.checked,_=p()(t,l,(e={},(0,r.Z)(e,"".concat(t,"-checked"),O),(0,r.Z)(e,"".concat(t,"-disabled"),f),e));return d.createElement("span",{className:_,style:o},d.createElement("input",(0,a.Z)({name:c,id:s,type:u,required:k,readOnly:v,disabled:f,tabIndex:m,className:"".concat(t,"-input"),checked:!!O,onClick:h,onFocus:b,onBlur:x,onKeyUp:y,onKeyDown:g,onKeyPress:Z,onChange:this.handleChange,autoFocus:C,ref:this.saveInput,value:j},E)),d.createElement("span",{className:"".concat(t,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(e,n){return"checked"in e?(0,l.Z)((0,l.Z)({},n),{},{checked:e.checked}):null}}]),t}(d.Component);v.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}},n.Z=v}}]);