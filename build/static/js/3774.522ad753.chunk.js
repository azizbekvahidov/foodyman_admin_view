"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[3774],{55940:function(e,n,t){t.d(n,{Z:function(){return v}});var i=t(1413),l=t(45987),r=(t(47313),t(59491)),a=t(47515),o=t(34491),u=t(24511),s=t(79492),d=t(46417),c=["size","onClick","type"];function v(e){var n=e.size,t=void 0===n?"":n,v=e.onClick,f=e.type,g=void 0===f?"default":f,m=(0,l.Z)(e,c),h=(0,u.$)().t,Z=(0,s.Z)().isDemo;return(0,d.jsx)(r.Z,(0,i.Z)({size:t,icon:(0,d.jsx)(a.Z,{}),onClick:function(e){Z?o.Am.warning(h("cannot.work.demo")):v(e)},type:g},m))}},53233:function(e,n,t){var i=t(1413),l=t(29439),r=t(47313),a=t(56140),o=t(67251),u=t(45705),s=t(86345),d=t(78267),c=t(37388),v=t(59491),f=t(99587),g=t(24511),m=t(46417),h=a.Z.Text;n.Z=function(e){var n=e.columns,t=void 0===n?[]:n,a=e.setColumns,Z=e.style,p=e.size,x=void 0===p?"":p,y=e.iconOnly,j=(0,g.$)().t,b=(0,r.useState)(!1),_=(0,l.Z)(b,2),k=_[0],w=_[1],C=(0,m.jsx)(o.Z,{children:null===t||void 0===t?void 0:t.map((function(e,n){return(0,m.jsx)(o.Z.Item,{children:(0,m.jsxs)(u.Z,{className:"d-flex justify-content-between",children:[(0,m.jsx)(h,{children:e.title}),(0,m.jsx)(s.Z,{defaultChecked:!0,onClick:function(){return function(e){var n=null===t||void 0===t?void 0:t.map((function(n){return n.dataIndex===e.dataIndex&&(n.is_show=!(null!==n&&void 0!==n&&n.is_show)),n}));a(n)}(e)}})]})},e+n)}))});return(0,m.jsx)(d.Z,{overlay:C,trigger:["click"],onVisibleChange:function(e){w(e)},visible:k,children:(0,m.jsx)(c.Z,{title:j("change.columns"),children:(0,m.jsx)(v.Z,{style:(0,i.Z)({},Z),size:x,icon:(0,m.jsx)(f.Z,{}),children:y?null:j("Columns")})})})}},97388:function(e,n,t){t.d(n,{Z:function(){return h}});var i=t(74165),l=t(15861),r=t(29439),a=t(47313),o=t(16609),u=t(97421),s=t.p+"static/media/pin.0e41858db80c699cd8a2.png",d=t(31881),c=t.n(d);function v(e){return f.apply(this,arguments)}function f(){return f=(0,l.Z)((0,i.Z)().mark((function e(n){var t,l,r=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>1&&void 0!==r[1]?r[1]:u.kr,l={latlng:"".concat(null===n||void 0===n?void 0:n.lat,",").concat(null===n||void 0===n?void 0:n.lng),key:t},e.abrupt("return",c().get("https://maps.googleapis.com/maps/api/geocode/json",{params:l}).then((function(e){var n;return null===(n=e.data.results[0])||void 0===n?void 0:n.formatted_address})).catch((function(e){return"not found"})));case 3:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}var g=t(5958),m=t(46417);var h=(0,o.GoogleApiWrapper)({apiKey:u.kr})((function(e){var n=(0,a.useState)(),t=(0,r.Z)(n,2),d=t[0],c=t[1],f=function(){var n=(0,l.Z)((0,i.Z)().mark((function n(t,l,r){var a,o,s;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=r.latLng,o={lat:a.lat(),lng:a.lng()},e.setLocation(o),n.next=5,v(o,u.kr);case 5:s=n.sent,e.setAddress(s);case 7:case"end":return n.stop()}}),n)})));return function(e,t,i){return n.apply(this,arguments)}}(),h=function(){var n=(0,l.Z)((0,i.Z)().mark((function n(t){var l,r;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return l={lat:null===t||void 0===t?void 0:t.lat,lng:null===t||void 0===t?void 0:t.lng},e.setLocation(l),n.next=4,v(l,u.kr);case 4:r=n.sent,e.setAddress(r);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),Z=function(){var e=(0,l.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.geolocation.getCurrentPosition((function(e){var n={lat:e.coords.latitude,lng:e.coords.longitude};c(n)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){Z()}),[]);for(var p=[{lat:Number(e.location.lat)||0,lng:Number(e.location.lng)||0}],x=new e.google.maps.LatLngBounds,y=0;y<p.length;y++)x.extend(p[y]);return(0,m.jsxs)("div",{className:"map-container",style:{height:400,width:"100%"},children:[(0,m.jsx)("button",{className:"map-button",type:"button",onClick:function(){Z(),h(d)},children:(0,m.jsx)(g.nDs,{})}),(0,m.jsx)(o.Map,{cursor:"pointer",onClick:f,google:e.google,defaultZoom:12,zoom:10,className:"clickable",initialCenter:e.location,center:e.location,children:(0,m.jsx)(o.Marker,{position:e.location,icon:{url:s,scaledSize:new e.google.maps.Size(32,32)},className:"marker"})})]})}))},41481:function(e,n,t){t.d(n,{Z:function(){return v}});var i=t(1413),l=t(29439),r=t(45987),a=t(47313),o=t(66672),u=t(16031),s=t(40765),d=t(46417),c=["handleChange","defaultValue","resetSearch"];function v(e){var n=e.handleChange,t=e.defaultValue,v=e.resetSearch,f=(0,r.Z)(e,c),g=(0,a.useState)(t),m=(0,l.Z)(g,2),h=m[0],Z=m[1],p=(0,a.useMemo)((function(){return(0,u.debounce)((function(e){n(e)}),800)}),[]);return(0,a.useEffect)((function(){Z(t)}),[v]),(0,d.jsx)(o.Z,(0,i.Z)({value:h,onChange:function(e){Z(e.target.value),p(e.target.value)},prefix:(0,d.jsx)(s.Z,{})},f))}},13945:function(e,n,t){function i(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}t.d(n,{Z:function(){return i}})},17649:function(e,n,t){t.d(n,{Z:function(){return i}});t(97421);function i(e){if(null===e||void 0===e||!e.location)return{lat:47.4143302506288,lng:8.532059477976883};var n=e.location.split(", ");return{lat:Number(null===n||void 0===n?void 0:n[0]),lng:Number(null===n||void 0===n?void 0:n[1])}}},84017:function(e,n,t){function i(e){return e?(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$")+" "+Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"):"0"}t.d(n,{Z:function(){return i}})},80314:function(e,n,t){var i=t(47313);n.Z=function(e,n){var t=(0,i.useRef)(!1);(0,i.useEffect)((function(){if(t.current)return e&&e();t.current=!0}),n)}},50756:function(e,n,t){t.r(n),t.d(n,{default:function(){return Q}});var i=t(4942),l=t(93433),r=t(1413),a=t(29439),o=t(55768),u=t(12019),s=t(66461),d=t(47515),c=t(55613),v=t(59491),f=t(45705),g=t(77181),m=t(74294),h=t(78508),Z=t(47313),p=t(24511),x=t(2717),y=t(58467),j=t(34491),b=t(55940),_=t(53233),k=t(74580),w=t(81566),C=t(90954),I=t(45321),S=t(69658),z=t(84017),q=t(5958),N=t(84697),L=t(84695),M=t(97421),F=t(18478),B=(t(84618),t(17649)),W=t(46417),A=function(){return(0,W.jsx)("img",{src:F,width:"50",alt:"Pin"})},U=function(e){var n,t,i,l,r=e.id,a=e.handleCancel,o=(0,p.$)().t,u=(0,x.v9)((function(e){return e.globalSettings}),x.wU).settings,s=(0,B.Z)(u),d={lat:null===r||void 0===r||null===(n=r.delivery_man_setting)||void 0===n||null===(t=n.location)||void 0===t?void 0:t.latitude,lng:null===r||void 0===r||null===(i=r.delivery_man_setting)||void 0===i||null===(l=i.location)||void 0===l?void 0:l.longitude},c=(0,x.v9)((function(e){return e.globalSettings.settings}),x.wU).google_map_key;return(0,W.jsx)(W.Fragment,{children:(0,W.jsx)(L.Z,{visible:!!r,title:o("show.locations"),closable:!1,style:{minWidth:"80vw"},footer:[(0,W.jsx)(v.Z,{type:"default",onClick:a,children:o("cancel")},"cancelBtn")],children:(0,W.jsx)("div",{className:"map-container",style:{height:400,width:"100%"},children:(0,W.jsx)(N.ZP,{bootstrapURLKeys:{key:void 0===c?M.kr:c},defaultZoom:10,center:s,options:{fullscreenControl:!1},children:null!==(null===r||void 0===r?void 0:r.delivery_man_setting)?(0,W.jsx)(A,{lat:null===d||void 0===d?void 0:d.lat,lng:null===d||void 0===d?void 0:d.lng}):null})})})})},$=t(18197),E=t(68197),V=t(59624),D=t(66672),K=t(51282),P=t(5764),G=t(97388),O=[{label:"Benzine",value:"benzine"},{label:"Diesel",value:"diesel"},{label:"Gas",value:"gas"},{label:"Motorbike",value:"motorbike"},{label:"Bike",value:"bike"},{label:"Foot",value:"foot"},{label:"Electric",value:"electric"}],R=function(e){var n=e.data,t=e.handleCancel,i=(0,p.$)().t,l=$.Z.useForm(),o=(0,a.Z)(l,1)[0],u=(0,x.I0)(),s=(0,Z.useState)(!1),d=(0,a.Z)(s,2),c=d[0],g=d[1],h=(0,Z.useState)(!1),y=(0,a.Z)(h,2),j=y[0],b=y[1],_=(0,Z.useState)([]),k=(0,a.Z)(_,2),C=k[0],S=k[1],z=(0,x.v9)((function(e){return e.globalSettings}),x.wU).settings,q=(0,Z.useState)((0,B.Z)(z)),N=(0,a.Z)(q,2),M=N[0],F=N[1],A=function(e){return e.map((function(e){return{uid:e.id,name:e.path,url:e.path}}))};return(0,Z.useEffect)((function(){var e;n.settingsId&&(e=n.settingsId,b(!0),I.Z.getById(e).then((function(e){var n,t,i,l,a,u,s,d,c=(0,r.Z)((0,r.Z)({},e.data),{},{user_id:{label:e.data.deliveryMan.firstname+" "+e.data.deliveryMan.firstname,value:e.data.deliveryMan.id,images:A(e.data.galleries),location:{lat:null===(n=e.data)||void 0===n||null===(t=n.location)||void 0===t?void 0:t.latitude,lng:null===(i=e.data)||void 0===i||null===(l=i.location)||void 0===l?void 0:l.longitude}}});F({lat:null===(a=e.data)||void 0===a||null===(u=a.location)||void 0===u?void 0:u.latitude,lng:null===(s=e.data)||void 0===s||null===(d=s.location)||void 0===d?void 0:d.longitude}),S(A(e.data.galleries)),o.setFieldsValue(c)})).finally((function(){return b(!1)})))}),[]),(0,W.jsx)(W.Fragment,{children:(0,W.jsx)(L.Z,{visible:!!n,title:n.id?i("edit.delivery.setting"):i("add.delivery.setting"),closable:!1,style:{minWidth:"80vw"},footer:[(0,W.jsxs)(f.Z,{children:[(0,W.jsx)(v.Z,{type:"primary",htmlType:"submit",onClick:function(){return o.submit()},loading:c,children:i("submit")},"submit"),(0,W.jsx)(v.Z,{type:"default",onClick:t,children:i("cancel")},"cancelBtn")]})],children:(0,W.jsx)($.Z,{name:"basic",layout:"vertical",onFinish:function(e){g(!0);var i=(0,r.Z)((0,r.Z)({},e),{},{user_id:n.id,images:C.map((function(e){return e.name})),location:{latitude:M.lat,longitude:M.lng}});n.settingsId?I.Z.update(n.settingsId,i).then((function(){t(),u((0,w.W)())})).finally((function(){return g(!0)})):I.Z.create(i).then((function(){t(),u((0,w.W)())})).finally((function(){return g(!0)}))},form:o,children:j?(0,W.jsx)(K.Z,{}):(0,W.jsxs)(E.Z,{gutter:12,children:[(0,W.jsx)(V.Z,{span:12,children:(0,W.jsx)($.Z.Item,{label:i("brand"),name:"brand",rules:[{required:!0,message:i("required")}],children:(0,W.jsx)(D.Z,{})})}),(0,W.jsx)(V.Z,{span:12,children:(0,W.jsx)($.Z.Item,{label:i("model"),name:"model",rules:[{required:!0,message:i("required")}],children:(0,W.jsx)(D.Z,{})})}),(0,W.jsx)(V.Z,{span:12,children:(0,W.jsx)($.Z.Item,{label:i("type.of.technique"),name:"type_of_technique",rules:[{required:!0,message:i("required")}],children:(0,W.jsx)(m.Z,{options:O})})}),(0,W.jsx)(V.Z,{span:12,children:(0,W.jsx)($.Z.Item,{label:i("car.number"),name:"number",rules:[{required:!0,message:i("required")}],children:(0,W.jsx)(D.Z,{})})}),(0,W.jsx)(V.Z,{span:12,children:(0,W.jsx)($.Z.Item,{label:i("car.color"),name:"color",rules:[{required:!0,message:i("required")}],children:(0,W.jsx)(D.Z,{})})}),(0,W.jsx)(V.Z,{span:12,children:(0,W.jsx)($.Z.Item,{label:i("image"),name:"images",children:(0,W.jsx)(P.Z,{type:"deliveryman/settings",imageList:C,setImageList:S,form:o,length:"1",multiple:!0})})}),(0,W.jsx)(V.Z,{span:24,children:(0,W.jsx)($.Z.Item,{label:i("map"),name:"location",children:(0,W.jsx)(G.Z,{location:M,setLocation:F})})})]})})})})},T=t(41481),H=t(80314),Y=t(13945),J=[{label:"Benzine",value:"benzine"},{label:"Diesel",value:"diesel"},{label:"Gas",value:"gas"},{label:"Motorbike",value:"motorbike"},{label:"Bike",value:"bike"},{label:"Foot",value:"foot"}],Q=function(){var e,n,t,N=(0,p.$)().t,L=(0,x.I0)(),M=(0,y.s0)(),F=(0,Z.useContext)(k._).setIsModalVisible,B=(0,Z.useState)(null),A=(0,a.Z)(B,2),$=A[0],E=A[1],V=(0,Z.useState)(!1),D=(0,a.Z)(V,2),K=D[0],P=D[1],G=(0,Z.useState)(null),O=(0,a.Z)(G,2),Q=O[0],X=O[1],ee=(0,Z.useState)(null),ne=(0,a.Z)(ee,2),te=ne[0],ie=ne[1],le=(0,Z.useState)(null),re=(0,a.Z)(le,2),ae=re[0],oe=re[1],ue=(0,x.v9)((function(e){return e.menu}),x.wU).activeMenu,se=null===ue||void 0===ue?void 0:ue.data,de={search:null!==se&&void 0!==se&&se.search?se.search:void 0,type_of_technique:null===se||void 0===se?void 0:se.type,sort:null===se||void 0===se?void 0:se.sort,column:null===se||void 0===se?void 0:se.column,pageSize:null===se||void 0===se?void 0:se.per_page,page:(null===se||void 0===se?void 0:se.page)||1},ce=(0,x.v9)((function(e){return e.deliveries}),x.wU),ve=ce.delivery,fe=ce.loading,ge=ce.meta,me=(0,x.v9)((function(e){return e.currency}),x.wU).defaultCurrency,he=function(){ie(null),oe(null)},Ze=(0,Z.useState)([{title:N("id"),dataIndex:"id",key:"id",is_show:!0},{title:N("name"),dataIndex:"name",key:"name",is_show:!0,render:function(e,n){return(null===n||void 0===n?void 0:n.firstname)+" "+(null===n||void 0===n?void 0:n.lastname)}},{title:N("orders"),dataIndex:"count",key:"count",is_show:!0,sorter:!0,render:function(e,n){return null===n||void 0===n?void 0:n.deliveryman_orders.length}},{title:N("rate"),dataIndex:"rating",key:"rating",is_show:!0,sorter:!0,render:function(e,n){return(0,W.jsx)(c.Z,{className:"mt-3 ml-3",disabled:!0,allowHalf:!0,value:void 0!==(null===n||void 0===n?void 0:n.assign_reviews_avg_rating)?null===n||void 0===n?void 0:n.assign_reviews_avg_rating:0})}},{title:N("wallet"),dataIndex:"wallet_sum",key:"wallet_sum",is_show:!0,sorter:!0,render:function(e,n){var t;return(0,z.Z)(null===n||void 0===n||null===(t=n.wallet)||void 0===t?void 0:t.price,me.symbol)}},{title:N("delivery.man.setting"),dataIndex:"setting",key:"setting",is_show:!0,render:function(e,n){return null===(null===n||void 0===n?void 0:n.delivery_man_setting)?(0,W.jsx)(v.Z,{icon:(0,W.jsx)(o.Z,{}),onClick:function(){return oe({id:null===n||void 0===n?void 0:n.id})},children:N("add.settings")}):(0,W.jsxs)(f.Z,{children:[(0,W.jsxs)("span",{children:[N("brand"),": ",null===n||void 0===n?void 0:n.delivery_man_setting.brand,(0,W.jsx)("br",{}),N("model"),": ",null===n||void 0===n?void 0:n.delivery_man_setting.model,(0,W.jsx)("br",{}),N("number"),": ",null===n||void 0===n?void 0:n.delivery_man_setting.number,(0,W.jsx)("br",{}),N("color"),": ",null===n||void 0===n?void 0:n.delivery_man_setting.color]}),null!==(null===n||void 0===n?void 0:n.delivery_man_setting)?(0,W.jsx)(u.Z,{onClick:function(){var e;return oe({settingsId:null===n||void 0===n||null===(e=n.delivery_man_setting)||void 0===e?void 0:e.id,id:null===n||void 0===n?void 0:n.id})}}):""]})}},{title:N("options"),key:"options",dataIndex:"options",is_show:!0,render:function(e,n){return(0,W.jsxs)(f.Z,{children:[(0,W.jsx)(v.Z,{icon:(0,W.jsx)(q.Y4r,{}),onClick:function(){return ie(n)}}),(0,W.jsx)(v.Z,{icon:(0,W.jsx)(s.Z,{}),onClick:function(){return function(e){L((0,C.bL)({name:"delivery.orders",id:"delivery_orders",url:"delivery/orders/".concat(e.id)})),M("/delivery/orders/".concat(e.id))}(n)}}),(0,W.jsx)(v.Z,{type:"primary",icon:(0,W.jsx)(u.Z,{}),onClick:function(){return function(e){L((0,C.bL)({url:"user/delivery/".concat(e.uuid),id:"delivery_edit",name:N("delivery.edit")})),M("/user/delivery/".concat(e.uuid))}(n)}}),(0,W.jsx)(b.Z,{icon:(0,W.jsx)(d.Z,{}),onClick:function(){E([n.id]),F(!0),X(!0)}})]})}}]),pe=(0,a.Z)(Ze,2),xe=pe[0],ye=pe[1];(0,Z.useEffect)((function(){ue.refetch&&(L((0,w.W)(de)),L((0,C.A_)(ue)))}),[ue.refetch]),(0,H.Z)((function(){L((0,w.W)(de))}),[ue.data]);var je={selectedRowKeys:$,onChange:function(e){E(e)}},be=function(e,n){L((0,C.nc)({activeMenu:ue,data:(0,r.Z)((0,r.Z)({},ue.data),{},(0,i.Z)({},n,e))}))};return(0,W.jsx)(W.Fragment,{children:(0,W.jsxs)(g.Z,{title:N("delivery"),extra:(0,W.jsxs)(f.Z,{children:[(0,W.jsx)(m.Z,{placeholder:N("type.of.technique"),style:{width:"150px"},options:J,onChange:function(e){return be(e,"type")},allowClear:!0}),(0,W.jsx)(b.Z,{size:"",onClick:function(){null===$||0===$.length?j.Am.warning(N("select.the.product")):(F(!0),X(!1))},children:N("delete.selected")}),(0,W.jsx)(v.Z,{type:"primary",icon:(0,W.jsx)(o.Z,{}),onClick:function(){L((0,C.bL)({id:"user-add-role",url:"add/user/delivery/".concat("deliveryman"),name:N("add.".concat("deliveryman"))})),M("/add/user/delivery/".concat("deliveryman"))},children:N("add.delivery")}),(0,W.jsx)(_.Z,{columns:xe,setColumns:ye})]}),children:[(0,W.jsx)(T.Z,{placeholder:N("search"),className:"w-25",handleChange:function(e){return be(e,"search")},resetSearch:!(null!==(e=ue.data)&&void 0!==e&&e.search),defaultValue:null===(n=ue.data)||void 0===n?void 0:n.search}),(0,W.jsx)(h.Z,{scroll:{x:!0},rowSelection:je,columns:null===xe||void 0===xe?void 0:xe.filter((function(e){return e.is_show})),dataSource:ve,pagination:{pageSize:ge.per_page,page:(null===se||void 0===se?void 0:se.page)||1,total:ge.total,defaultCurrent:null===se||void 0===se?void 0:se.page,current:null===(t=ue.data)||void 0===t?void 0:t.page},rowKey:function(e){return e.id},onChange:function(e,n,t){var i=e.pageSize,l=e.current,a=t.field,o=t.order,u=(0,Y.Z)(o);L((0,C.nc)({activeMenu:ue,data:(0,r.Z)((0,r.Z)({},se),{},{perPage:i,page:l,column:a,sort:u})}))},loading:fe}),(0,W.jsx)(S.Z,{click:function(){P(!0);var e=(0,r.Z)({},Object.assign.apply(Object,[{}].concat((0,l.Z)($.map((function(e,n){return(0,i.Z)({},"ids[".concat(n,"]"),e)}))))));I.Z.delete(e).then((function(){j.Am.success(N("successfully.deleted")),L((0,w.W)(de)),F(!1),X(null)})).finally((function(){return P(!1)}))},text:N(Q?"delete":"all.delete"),setText:E,loading:K}),te&&(0,W.jsx)(U,{id:te,handleCancel:he}),ae&&(0,W.jsx)(R,{data:ae,handleCancel:he})]})})}},84618:function(e,n,t){e.exports=t.p+"static/media/shop.46d7a94ca800c711764a.png"},18478:function(e,n,t){e.exports=t.p+"static/media/user.fbe7078c52acde79652d.jpg"}}]);