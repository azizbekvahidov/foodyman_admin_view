"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[1215],{53233:function(e,n,t){var a=t(1413),l=t(29439),i=t(47313),r=t(56140),o=t(67251),s=t(45705),c=t(86345),d=t(78267),u=t(37388),h=t(59491),f=t(99587),m=t(24511),v=t(46417),p=r.Z.Text;n.Z=function(e){var n=e.columns,t=void 0===n?[]:n,r=e.setColumns,Z=e.style,x=e.size,g=void 0===x?"":x,b=e.iconOnly,j=(0,m.$)().t,C=(0,i.useState)(!1),w=(0,l.Z)(C,2),y=w[0],I=w[1],k=(0,v.jsx)(o.Z,{children:null===t||void 0===t?void 0:t.map((function(e,n){return(0,v.jsx)(o.Z.Item,{children:(0,v.jsxs)(s.Z,{className:"d-flex justify-content-between",children:[(0,v.jsx)(p,{children:e.title}),(0,v.jsx)(c.Z,{defaultChecked:!0,onClick:function(){return function(e){var n=null===t||void 0===t?void 0:t.map((function(n){return n.dataIndex===e.dataIndex&&(n.is_show=!(null!==n&&void 0!==n&&n.is_show)),n}));r(n)}(e)}})]})},e+n)}))});return(0,v.jsx)(d.Z,{overlay:k,trigger:["click"],onVisibleChange:function(e){I(e)},visible:y,children:(0,v.jsx)(u.Z,{title:j("change.columns"),children:(0,v.jsx)(h.Z,{style:(0,a.Z)({},Z),size:g,icon:(0,v.jsx)(f.Z,{}),children:b?null:j("Columns")})})})}},13945:function(e,n,t){function a(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}t.d(n,{Z:function(){return a}})},84017:function(e,n,t){function a(e){return e?(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$")+" "+Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"):"0"}t.d(n,{Z:function(){return a}})},80314:function(e,n,t){var a=t(47313);n.Z=function(e,n){var t=(0,a.useRef)(!1);(0,a.useEffect)((function(){if(t.current)return e&&e();t.current=!0}),n)}},41215:function(e,n,t){t.r(n),t.d(n,{default:function(){return H}});var a=t(1413),l=t(29439),i=t(47313),r=t(31741),o=t(73591),s=t(45705),c=t(59491),d=t(77181),u=t(78508),h=t(2717),f=t(84304),m=t(13945),v=t(90954),p=t(80314),Z=t(84695),x=t(68197),g=t(59624),b=t(83371),j=t(78891),C=t(58328),w=t(24511),y=t(51282),I=t(84017),k=t(85711),_=t(46417);function N(e){var n,t,a,r=e.uuid,o=e.handleCancel,s=(0,i.useState)({}),d=(0,l.Z)(s,2),u=d[0],f=d[1],m=(0,i.useState)(!1),v=(0,l.Z)(m,2),p=v[0],N=v[1],z=(0,w.$)().t,E=(0,h.v9)((function(e){return e.currency}),h.wU).defaultCurrency;return(0,i.useEffect)((function(){!function(e){N(!0),C.Z.getById(e).then((function(e){return f(e.data)})).finally((function(){return N(!1)}))}(r)}),[r]),(0,_.jsx)(Z.Z,{visible:!!r,title:z("user"),onCancel:o,footer:[(0,_.jsx)(c.Z,{type:"default",onClick:o,children:z("cancel")})],className:u.shop?"large-modal":"",children:p?(0,_.jsx)(y.Z,{}):(0,_.jsxs)(x.Z,{gutter:24,children:[(0,_.jsx)(g.Z,{span:u.shop?12:24,children:(0,_.jsxs)(b.Z,{bordered:!0,children:[(0,_.jsx)(b.Z.Item,{span:3,label:z("avatar"),children:(0,_.jsx)(j.Z,{src:(0,k.Z)(u.img),alt:u.firstname,width:80,className:"rounded"})}),(0,_.jsx)(b.Z.Item,{span:3,label:z("user.id"),children:u.id}),(0,_.jsxs)(b.Z.Item,{span:3,label:z("name"),children:[u.firstname," ",u.lastname||""]}),(0,_.jsx)(b.Z.Item,{span:3,label:z("gender"),children:u.gender}),(0,_.jsx)(b.Z.Item,{span:3,label:z("birthday"),children:u.birthday}),(0,_.jsx)(b.Z.Item,{span:3,label:z("email"),children:u.email}),(0,_.jsx)(b.Z.Item,{span:3,label:z("phone"),children:u.phone}),(0,_.jsx)(b.Z.Item,{span:3,label:z("role"),children:u.role}),(0,_.jsx)(b.Z.Item,{span:3,label:z("wallet"),children:(0,I.Z)(null===(n=u.wallet)||void 0===n?void 0:n.price,null===E||void 0===E?void 0:E.symbol)})]})}),u.shop?(0,_.jsx)(g.Z,{span:12,children:(0,_.jsxs)(b.Z,{bordered:!0,children:[(0,_.jsx)(b.Z.Item,{span:3,label:z("shop.id"),children:u.shop.id}),(0,_.jsx)(b.Z.Item,{span:3,label:z("shop.name"),children:null===(t=u.shop.translation)||void 0===t?void 0:t.title}),(0,_.jsx)(b.Z.Item,{span:3,label:z("shop.logo"),children:(0,_.jsx)("img",{src:(0,k.Z)(u.shop.logo_img),alt:null===(a=u.shop.translation)||void 0===a?void 0:a.title,width:100,className:"rounded"})}),(0,_.jsx)(b.Z.Item,{span:3,label:z("shop.phone"),children:u.shop.phone}),(0,_.jsxs)(b.Z.Item,{span:3,label:z("shop.open_close.time"),children:[u.shop.open_time," - ",u.shop.close_time]}),(0,_.jsx)(b.Z.Item,{span:3,label:z("delivery.range"),children:u.shop.delivery_range})]})}):""]})})}var z=t(53233),E=o.Z.TabPane,S=["moderator","deliveryman"];function H(){var e,n=(0,w.$)().t,t=(0,h.I0)(),Z=(0,h.v9)((function(e){return e.menu}),h.wU).activeMenu,x=(0,h.v9)((function(e){return e.user}),h.wU),g=x.users,b=x.loading,j=x.meta,C=x.params,y=(0,i.useState)(null),I=(0,l.Z)(y,2),k=I[0],H=I[1],O=(0,i.useState)([{title:n("id"),dataIndex:"id",sorter:!0,is_show:!0},{title:n("firstname"),dataIndex:"firstname",is_show:!0},{title:n("lastname"),dataIndex:"lastname",is_show:!0},{title:n("email"),dataIndex:"email",is_show:!0},{title:n("role"),dataIndex:"role",is_show:!0},{title:n("options"),dataIndex:"options",is_show:!0,render:function(e,n){return(0,_.jsx)(s.Z,{children:(0,_.jsx)(c.Z,{icon:(0,_.jsx)(r.Z,{}),onClick:function(){return H(n.uuid)}})})}}]),V=(0,l.Z)(O,2),P=V[0],T=V[1];(0,i.useEffect)((function(){if(Z.refetch){var e=Z.data,n={sort:null===e||void 0===e?void 0:e.sort,column:null===e||void 0===e?void 0:e.column,role:(null===e||void 0===e?void 0:e.role)||"moderator"};t((0,f.pc)(n)),t((0,v.A_)(Z))}}),[Z.refetch]),(0,p.Z)((function(){var e=Z.data,n={sort:null===e||void 0===e?void 0:e.sort,column:null===e||void 0===e?void 0:e.column,role:null===e||void 0===e?void 0:e.role,perPage:null===e||void 0===e?void 0:e.perPage,page:null===e||void 0===e?void 0:e.page};t((0,f.pc)(n))}),[Z.data]);return(0,_.jsxs)(d.Z,{title:n("shop.users"),extra:(0,_.jsx)(z.Z,{columns:P,setColumns:T}),children:[(0,_.jsx)(o.Z,{activeKey:(null===(e=Z.data)||void 0===e?void 0:e.role)||"moderator",onChange:function(e){t((0,v.nc)({activeMenu:Z,data:(0,a.Z)((0,a.Z)({},Z.data),{},{role:e})}))},type:"card",children:S.map((function(e){return(0,_.jsx)(E,{tab:n(e)},e)}))}),(0,_.jsx)(u.Z,{scroll:{x:!0},columns:null===P||void 0===P?void 0:P.filter((function(e){return e.is_show})),dataSource:g,loading:b,pagination:{pageSize:C.perPage,page:C.page,total:j.total,defaultCurrent:C.page},rowKey:function(e){return e.id},onChange:function(e,n,l){var i=e.pageSize,r=e.current,o=l.field,s=l.order,c=(0,m.Z)(s);t((0,v.nc)({activeMenu:Z,data:(0,a.Z)((0,a.Z)({},Z.data),{},{perPage:i,page:r,column:o,sort:c})}))}}),k&&(0,_.jsx)(N,{uuid:k,handleCancel:function(){return H(null)}})]})}},99587:function(e,n,t){t.d(n,{Z:function(){return s}});var a=t(1413),l=t(47313),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"},r=t(17469),o=function(e,n){return l.createElement(r.Z,(0,a.Z)((0,a.Z)({},e),{},{ref:n,icon:i}))};o.displayName="TableOutlined";var s=l.forwardRef(o)},86345:function(e,n,t){t.d(n,{Z:function(){return b}});var a=t(87462),l=t(4942),i=t(47313),r=t(29439),o=t(45987),s=t(46123),c=t.n(s),d=t(10288),u=t(49242),h=i.forwardRef((function(e,n){var t,a=e.prefixCls,s=void 0===a?"rc-switch":a,h=e.className,f=e.checked,m=e.defaultChecked,v=e.disabled,p=e.loadingIcon,Z=e.checkedChildren,x=e.unCheckedChildren,g=e.onClick,b=e.onChange,j=e.onKeyDown,C=(0,o.Z)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),w=(0,d.Z)(!1,{value:f,defaultValue:m}),y=(0,r.Z)(w,2),I=y[0],k=y[1];function _(e,n){var t=I;return v||(k(t=e),null===b||void 0===b||b(t,n)),t}var N=c()(s,h,(t={},(0,l.Z)(t,"".concat(s,"-checked"),I),(0,l.Z)(t,"".concat(s,"-disabled"),v),t));return i.createElement("button",Object.assign({},C,{type:"button",role:"switch","aria-checked":I,disabled:v,className:N,ref:n,onKeyDown:function(e){e.which===u.Z.LEFT?_(!1,e):e.which===u.Z.RIGHT&&_(!0,e),null===j||void 0===j||j(e)},onClick:function(e){var n=_(!I,e);null===g||void 0===g||g(n,e)}}),p,i.createElement("span",{className:"".concat(s,"-inner")},I?Z:x))}));h.displayName="Switch";var f=h,m=t(82508),v=t(46479),p=t(91964),Z=t(21631),x=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(a=Object.getOwnPropertySymbols(e);l<a.length;l++)n.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(t[a[l]]=e[a[l]])}return t},g=i.forwardRef((function(e,n){var t,r=e.prefixCls,o=e.size,s=e.loading,d=e.className,u=void 0===d?"":d,h=e.disabled,g=x(e,["prefixCls","size","loading","className","disabled"]),b=i.useContext(p.E_),j=b.getPrefixCls,C=b.direction,w=i.useContext(Z.Z),y=j("switch",r),I=i.createElement("div",{className:"".concat(y,"-handle")},s&&i.createElement(m.Z,{className:"".concat(y,"-loading-icon")})),k=c()((t={},(0,l.Z)(t,"".concat(y,"-small"),"small"===(o||w)),(0,l.Z)(t,"".concat(y,"-loading"),s),(0,l.Z)(t,"".concat(y,"-rtl"),"rtl"===C),t),u);return i.createElement(v.Z,{insertExtraNode:!0},i.createElement(f,(0,a.Z)({},g,{prefixCls:y,className:k,disabled:h||s,ref:n,loadingIcon:I})))}));g.__ANT_SWITCH=!0,g.displayName="Switch";var b=g}}]);