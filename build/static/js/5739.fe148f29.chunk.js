"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[5739],{4014:function(e,n,i){function l(e){var n,i,l=null===e||void 0===e?void 0:e.slice(0,1),s=null===e||void 0===e?void 0:e.lastIndexOf("@"),d=null===e||void 0===e?void 0:e.slice(1,s-1);d=null===(n=d)||void 0===n?void 0:n.replace(/./g,"*");var t=null===e||void 0===e?void 0:e.slice(s-1,e.length);return null===l||void 0===l||null===(i=l.concat(d))||void 0===i?void 0:i.concat(t)}i.d(n,{Z:function(){return l}})},89281:function(e,n,i){i.d(n,{h:function(){return x}});var l=i(1413),s=i(29439),d=i(45987),t=i(47313),o=i(12279),r=i.n(o),a=i(74294),c=i(72652),u=i(46417),v=["fetchOptions","debounceTimeout"],x=function(e){var n=e.fetchOptions,i=e.debounceTimeout,o=void 0===i?400:i,x=(0,d.Z)(e,v),m=(0,t.useState)(!1),h=(0,s.Z)(m,2),j=h[0],p=h[1],f=(0,t.useState)([]),Z=(0,s.Z)(f,2),y=Z[0],g=Z[1],b=(0,t.useMemo)((function(){return r()((function(e){g([]),p(!0),n(e).then((function(e){g(e),p(!1)}))}),o)}),[n,o]);return(0,u.jsx)(a.Z,(0,l.Z)((0,l.Z)({showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:b,notFoundContent:j?(0,u.jsx)(c.Z,{size:"small"}):"no results"},x),{},{options:y,onFocus:function(){y.length||b("")}}))}},17649:function(e,n,i){i.d(n,{Z:function(){return l}});i(97421);function l(e){if(null===e||void 0===e||!e.location)return{lat:47.4143302506288,lng:8.532059477976883};var n=e.location.split(", ");return{lat:Number(null===n||void 0===n?void 0:n[0]),lng:Number(null===n||void 0===n?void 0:n[1])}}},84017:function(e,n,i){function l(e){return e?(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$")+" "+Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"):"0"}i.d(n,{Z:function(){return l}})},65739:function(e,n,i){i.r(n),i.d(n,{default:function(){return P}});var l=i(29439),s=i(47313),d=i(45705),t=i(66204),o=i(78891),r=i(77181),a=i(59491),c=i(68197),u=i(59624),v=i(56140),x=i(14133),m=i(83999),h=i(72652),j=i(78508),p=i(45334),f=i(41068),Z=i(12019),y=i(89720),g=i(58467),b=i(2135),N=i(7370),w=i(45464),_=i(2717),k=i(90954),C=i(7920),I=i(24077),S=i(24511),z=i(84017),q=i(73270),B=i(22539),D=i(80355),T=i(32916),M=i(97421),U=i(58821),Y=i(5958),F=i(70816),A=i.n(F),V=i(3394),L=i(40197),O=i(79492),$=i(4014),G=i(46417);function P(){var e,n,i,F,P,E,Q,R,J,K,W,H,X,ee,ne,ie,le,se,de,te,oe,re,ae,ce,ue,ve,xe,me,he,je,pe,fe,Ze,ye,ge,be,Ne=(0,_.v9)((function(e){return e.menu}),_.wU).activeMenu,we=(0,_.v9)((function(e){return e.currency}),_.wU).defaultCurrency,_e=Ne.data,ke=(0,S.$)().t,Ce=(0,g.UO)().id,Ie=(0,_.I0)(),Se=(0,g.s0)(),ze=(0,s.useRef)(),qe=(0,s.useRef)(),Be=(0,O.Z)().isDemo,De=(0,s.useState)(null),Te=(0,l.Z)(De,2),Me=Te[0],Ue=Te[1],Ye=(0,s.useState)(!1),Fe=(0,l.Z)(Ye,2),Ae=Fe[0],Ve=Fe[1],Le=(0,s.useState)(null),Oe=(0,l.Z)(Le,2),$e=Oe[0],Ge=Oe[1],Pe=(0,s.useState)(null),Ee=(0,l.Z)(Pe,2),Qe=Ee[0],Re=Ee[1],Je=(0,s.useState)(null),Ke=(0,l.Z)(Je,2),We=Ke[0],He=Ke[1],Xe=(0,_.v9)((function(e){return e.orderStatus}),_.wU).statusList,en=[{title:ke("id"),dataIndex:"id",key:"id",render:function(e,n){var i;return null===(i=n.stock)||void 0===i?void 0:i.id}},{title:ke("product.name"),dataIndex:"product",key:"product",render:function(e,n){var i,l,s,o;return(0,G.jsxs)(d.Z,{direction:"vertical",children:[null===(i=n.stock)||void 0===i||null===(l=i.product)||void 0===l||null===(s=l.translation)||void 0===s?void 0:s.title," ",null===(o=n.addons)||void 0===o?void 0:o.map((function(e){var n,i,l;return(0,G.jsxs)(t.Z,{children:[null===(n=e.stock)||void 0===n||null===(i=n.product)||void 0===i||null===(l=i.translation)||void 0===l?void 0:l.title," x ",e.quantity]},e.id)}))]})}},{title:ke("image"),dataIndex:"img",key:"img",render:function(e,n){var i,l;return(0,G.jsx)(o.Z,{src:(0,w.Z)(null===(i=n.stock)||void 0===i||null===(l=i.product)||void 0===l?void 0:l.img),alt:"product",width:100,height:"auto",className:"rounded",preview:!0,placeholder:!0})}},{title:ke("price"),dataIndex:"origin_price",key:"origin_price",render:function(e){return(0,z.Z)(e,null===we||void 0===we?void 0:we.symbol)}},{title:ke("quantity"),dataIndex:"quantity",key:"quantity"},{title:ke("discount"),dataIndex:"discount",key:"discount",render:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;return(0,z.Z)(e/n.quantity,null===we||void 0===we?void 0:we.symbol)}},{title:ke("tax"),dataIndex:"tax",key:"tax",render:function(e,n){return(0,z.Z)(e/n.quantity,null===we||void 0===we?void 0:we.symbol)}},{title:ke("total.price"),dataIndex:"total_price",key:"total_price",render:function(e,n){var i,l=e+(null===n||void 0===n||null===(i=n.addons)||void 0===i?void 0:i.reduce((function(e,n){return e+n.total_price}),0));return Re(l),(0,z.Z)(l,null===we||void 0===we?void 0:we.symbol)}}],nn=[{title:ke("date"),dataIndex:"date",key:"date"},{title:ke("document"),dataIndex:"document",key:"document"},{title:ke("number"),dataIndex:"number",key:"number"},{title:ke("total.price"),dataIndex:"price",key:"price"}],ln=[{price:(0,z.Z)(null===_e||void 0===_e?void 0:_e.total_price,we.symbol),number:(0,G.jsxs)(b.rU,{to:"/orders/generate-invoice/".concat(null===_e||void 0===_e?void 0:_e.id),children:["#",null===_e||void 0===_e?void 0:_e.id]}),document:ke("invoice"),date:null===_e||void 0===_e?void 0:_e.delivery_date},{price:"-",number:(0,G.jsxs)(b.rU,{to:"/orders/generate-invoice/".concat(null===_e||void 0===_e?void 0:_e.id),children:["#",null===_e||void 0===_e?void 0:_e.id]}),document:ke("delivery.reciept"),date:null===_e||void 0===_e?void 0:_e.delivery_date}],sn=function(){Ge(null),He(null),Ue(null)};(0,s.useEffect)((function(){Ne.refetch&&(Ve(!0),N.Z.getById(Ce).then((function(e){var n=e.data;Ie((0,k.nc)({activeMenu:Ne,data:n}))})).finally((function(){Ve(!1),Ie((0,k.A_)(Ne))})),0===Xe.length&&Ie((0,L.dX)()))}),[Ne.refetch]);return(0,G.jsxs)("div",{className:"order_details",children:[(0,G.jsx)(r.Z,{className:"order-details-info",title:(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(T.Qyq,{className:"mr-2 icon"}),"".concat(ke("order")," ").concat(null!==_e&&void 0!==_e&&_e.id?"#".concat(null===_e||void 0===_e?void 0:_e.id," "):"")," ",ke("from.order")," ",null===_e||void 0===_e||null===(e=_e.user)||void 0===e?void 0:e.firstname," ",(null===_e||void 0===_e||null===(n=_e.user)||void 0===n?void 0:n.lastname)||""]}),extra:"delivered"!==(null===_e||void 0===_e?void 0:_e.status)&&"canceled"!==(null===_e||void 0===_e?void 0:_e.status)?(0,G.jsxs)(d.Z,{children:["delivered"!==(null===_e||void 0===_e?void 0:_e.status)&&"canceled"!==(null===_e||void 0===_e?void 0:_e.status)?(0,G.jsx)(a.Z,{type:"primary",onClick:function(){return Ge(_e)},children:ke("change.status")}):null,(0,G.jsx)(a.Z,{type:"primary",icon:(0,G.jsx)(Z.Z,{}),onClick:function(){Ie((0,q.bn)()),Ie((0,k.bL)({url:"order/".concat(Ce),id:"order_edit",name:ke("edit.order")})),Se("/order/".concat(Ce))},children:ke("edit")})]}):""}),(0,G.jsxs)(c.Z,{gutter:24,children:[(0,G.jsx)(u.Z,{span:24,children:(0,G.jsx)(r.Z,{children:(0,G.jsxs)(d.Z,{className:"justify-content-between w-100",children:[(0,G.jsxs)(d.Z,{className:"align-items-start",children:[(0,G.jsx)(y.Z,{className:"order-card-icon"}),(0,G.jsxs)("div",{className:"d-flex flex-column",children:[(0,G.jsx)(v.Z.Text,{children:ke("delivery.date")}),Ae?(0,G.jsx)(x.Z.Button,{size:16}):(0,G.jsxs)(v.Z.Text,{className:"order-card-title",children:[null===_e||void 0===_e?void 0:_e.delivery_date," ",null===_e||void 0===_e?void 0:_e.delivery_time]})]})]}),(0,G.jsxs)(d.Z,{className:"align-items-start",onClick:function(){return qe.current.scrollIntoView({behavior:"smooth"})},children:[(0,G.jsx)(Y.iFN,{className:"order-card-icon"}),(0,G.jsxs)("div",{className:"d-flex flex-column",children:[(0,G.jsx)(v.Z.Text,{children:ke("total.price")}),Ae?(0,G.jsx)(x.Z.Button,{size:16,loading:Ae}):(0,G.jsx)(v.Z.Text,{className:"order-card-title",children:(0,z.Z)(null===_e||void 0===_e?void 0:_e.total_price,null===we||void 0===we?void 0:we.symbol)})]})]}),(0,G.jsxs)(d.Z,{className:"align-items-start",children:[(0,G.jsx)(Y.Dij,{className:"order-card-icon"}),(0,G.jsxs)("div",{className:"d-flex flex-column",children:[(0,G.jsx)(v.Z.Text,{children:ke("messages")}),Ae?(0,G.jsx)(x.Z.Button,{size:16}):(0,G.jsx)(v.Z.Text,{className:"order-card-title",children:null!==_e&&void 0!==_e&&_e.review?1:0})]})]}),(0,G.jsxs)(d.Z,{className:"align-items-start",onClick:function(){return ze.current.scrollIntoView({behavior:"smooth"})},children:[(0,G.jsx)(T.Qyq,{className:"order-card-icon"}),(0,G.jsxs)("div",{className:"d-flex flex-column",children:[(0,G.jsx)(v.Z.Text,{children:ke("products")}),Ae?(0,G.jsx)(x.Z.Button,{size:16}):(0,G.jsx)(v.Z.Text,{className:"order-card-title",children:null===_e||void 0===_e||null===(i=_e.details)||void 0===i?void 0:i.reduce((function(e,n){return e+n.quantity}),0)})]})]})]})})}),"canceled"!==(null===_e||void 0===_e?void 0:_e.status)&&(0,G.jsx)(u.Z,{span:24,children:(0,G.jsx)(r.Z,{children:(0,G.jsx)(m.Z,{current:null===Xe||void 0===Xe?void 0:Xe.findIndex((function(e){return e.name===(null===_e||void 0===_e?void 0:_e.status)})),children:null===Xe||void 0===Xe?void 0:Xe.slice(0,-1).map((function(e){return(0,G.jsx)(m.Z.Step,{title:ke(e.name)},e.id)}))})})}),(0,G.jsxs)(u.Z,{span:16,children:[(0,G.jsx)(h.Z,{spinning:Ae,children:(0,G.jsx)(r.Z,{style:{minHeight:"200px"},children:(0,G.jsxs)(c.Z,{hidden:Ae,className:"mb-3 order_detail",children:[(0,G.jsxs)(u.Z,{span:12,children:[(0,G.jsxs)("div",{children:[ke("created.date.&.time"),":",(0,G.jsxs)("span",{className:"ml-2",children:[(0,G.jsx)(U.yoA,{className:"mr-1"})," ",A()(null===_e||void 0===_e?void 0:_e.created_at).format("YYYY-MM-DD hh:mm")," "]})]}),(0,G.jsx)("br",{}),(0,G.jsxs)("div",{children:[ke("delivery.date.&.time"),":",(0,G.jsxs)("span",{className:"ml-2",children:[(0,G.jsx)(U.yoA,{className:"mr-1"})," ",null===_e||void 0===_e?void 0:_e.delivery_date," ",null===_e||void 0===_e?void 0:_e.delivery_time]})]}),(0,G.jsx)("br",{}),(0,G.jsxs)("div",{children:[ke("payment.status"),":",(0,G.jsx)("span",{className:"ml-2",children:ke(null===_e||void 0===_e||null===(F=_e.transaction)||void 0===F?void 0:F.status)})]}),(0,G.jsx)("br",{}),(0,G.jsxs)("div",{children:[ke("house"),":",(0,G.jsx)("span",{className:"ml-2",children:ke(null===_e||void 0===_e||null===(P=_e.address)||void 0===P?void 0:P.house)})]}),(0,G.jsx)("br",{}),(0,G.jsxs)("div",{children:[ke("floor"),":",(0,G.jsx)("span",{className:"ml-2",children:ke(null===_e||void 0===_e||null===(E=_e.address)||void 0===E?void 0:E.floor)})]}),(0,G.jsxs)(t.Z,{className:"map_show mt-3",onClick:function(){return Ue(Ce)},children:[(0,G.jsx)(B.$0r,{})," ",ke("show.locations")]})]}),(0,G.jsxs)(u.Z,{span:12,children:[(0,G.jsxs)("div",{children:[ke("status"),":",(0,G.jsx)("span",{className:"ml-2",children:"new"===(null===_e||void 0===_e?void 0:_e.status)?(0,G.jsx)(t.Z,{color:"blue",children:ke(null===_e||void 0===_e?void 0:_e.status)}):"canceled"===(null===_e||void 0===_e?void 0:_e.status)?(0,G.jsx)(t.Z,{color:"error",children:ke(null===_e||void 0===_e?void 0:_e.status)}):(0,G.jsx)(t.Z,{color:"cyan",children:ke(null===_e||void 0===_e?void 0:_e.status)})})]}),(0,G.jsx)("br",{}),(0,G.jsxs)("div",{children:[ke("delivery.type"),":",(0,G.jsx)("span",{className:"ml-2",children:null===_e||void 0===_e?void 0:_e.delivery_type})]}),(0,G.jsx)("br",{}),(0,G.jsxs)("div",{children:[ke("payment.type"),":",(0,G.jsx)("span",{className:"ml-2",children:ke(null===_e||void 0===_e||null===(Q=_e.transaction)||void 0===Q||null===(R=Q.payment_system)||void 0===R?void 0:R.tag)})]}),(0,G.jsx)("br",{}),(0,G.jsxs)("div",{children:[ke("address"),":",(0,G.jsx)("span",{className:"ml-2",children:null===_e||void 0===_e||null===(J=_e.address)||void 0===J?void 0:J.address})]}),(0,G.jsx)("br",{}),(0,G.jsxs)("div",{children:[ke("office"),":",(0,G.jsx)("span",{className:"ml-2",children:null===_e||void 0===_e||null===(K=_e.address)||void 0===K?void 0:K.office})]}),(0,G.jsx)("br",{})]})]})})}),(0,G.jsx)(r.Z,{title:ke("documents"),children:(0,G.jsx)(j.Z,{columns:nn,dataSource:ln,pagination:!1,loading:Ae})}),(0,G.jsxs)(r.Z,{className:"w-100 order-table",children:[(0,G.jsx)(j.Z,{ref:ze,scroll:{x:!0},columns:en,dataSource:(null===(W=Ne.data)||void 0===W?void 0:W.details)||[],loading:Ae,rowKey:function(e){return e.id},pagination:!1}),(0,G.jsxs)(d.Z,{size:100,className:"d-flex justify-content-end w-100 order-table__summary",children:[(0,G.jsxs)("div",{children:[(0,G.jsxs)("span",{children:[ke("delivery.fee"),":"]}),(0,G.jsx)("br",{}),(0,G.jsxs)("span",{children:[ke("order.tax"),":"]}),(0,G.jsx)("br",{}),(0,G.jsxs)("span",{children:[ke("product"),":"]}),(0,G.jsx)("br",{}),(0,G.jsxs)("span",{children:[ke("discount"),":"]}),(0,G.jsx)("br",{}),(0,G.jsxs)("h3",{children:[ke("total.price"),":"]})]}),(0,G.jsxs)("div",{children:[(0,G.jsx)("span",{children:(0,z.Z)(null===_e||void 0===_e?void 0:_e.delivery_fee,null===we||void 0===we?void 0:we.symbol)}),(0,G.jsx)("br",{}),(0,G.jsx)("span",{children:(0,z.Z)(null===_e||void 0===_e?void 0:_e.tax,null===we||void 0===we?void 0:we.symbol)}),(0,G.jsx)("br",{}),(0,G.jsx)("span",{children:(0,z.Z)(Qe,null===we||void 0===we?void 0:we.symbol)}),(0,G.jsx)("br",{}),(0,G.jsx)("span",{children:(0,z.Z)(null===_e||void 0===_e?void 0:_e.total_discount,null===we||void 0===we?void 0:we.symbol)}),(0,G.jsx)("br",{}),(0,G.jsx)("h3",{ref:qe,children:(0,z.Z)(null===_e||void 0===_e?void 0:_e.total_price,null===we||void 0===we?void 0:we.symbol)})]})]})]})]}),(0,G.jsxs)(u.Z,{span:8,className:"order_info",children:[(0,G.jsxs)(r.Z,{title:ke("deliveryman"),extra:"ready"===(null===_e||void 0===_e?void 0:_e.status)&&"pickup"!==(null===_e||void 0===_e?void 0:_e.delivery_type)&&(0,G.jsxs)(a.Z,{onClick:function(){return He(_e)},children:[ke("change"),(0,G.jsx)(Z.Z,{})]}),children:["new"===(null===_e||void 0===_e?void 0:_e.status)||"accepted"===(null===_e||void 0===_e?void 0:_e.status)?(0,G.jsx)("p",{children:ke("order_status_ready")}):"","new"===(null===_e||void 0===_e?void 0:_e.status)||"accepted"===(null===_e||void 0===_e?void 0:_e.status)||null!==_e&&void 0!==_e&&_e.deliveryman?"":(0,G.jsx)("p",{children:ke("The supplier is not assigned or delivery type pickup")}),(null===_e||void 0===_e?void 0:_e.deliveryman)&&(0,G.jsxs)(d.Z,{children:[(0,G.jsx)(p.C,{shape:"square",size:64,src:M.bV+(null===_e||void 0===_e||null===(H=_e.deliveryman)||void 0===H?void 0:H.img)}),(0,G.jsxs)("div",{children:[(0,G.jsxs)("h5",{children:[null===_e||void 0===_e||null===(X=_e.deliveryman)||void 0===X?void 0:X.firstname," ",(null===_e||void 0===_e||null===(ee=_e.deliveryman)||void 0===ee?void 0:ee.lastname)||""]}),(0,G.jsxs)("span",{className:"delivery-info",children:[(0,G.jsx)(U.lfG,{}),null===_e||void 0===_e||null===(ne=_e.deliveryman)||void 0===ne?void 0:ne.phone]}),(0,G.jsxs)("div",{className:"delivery-info",children:[(0,G.jsx)("b",{children:(0,G.jsx)(B.ixJ,{size:16})}),(0,G.jsx)("span",{children:Be?(0,$.Z)(null===_e||void 0===_e||null===(ie=_e.deliveryman)||void 0===ie?void 0:ie.email):null===_e||void 0===_e||null===(le=_e.deliveryman)||void 0===le?void 0:le.email})]})]})]})]}),(0,G.jsx)(r.Z,{title:(0,G.jsxs)(d.Z,{children:[ke("customer.info"),(0,G.jsx)(Z.Z,{onClick:function(){return Ie((0,k.bL)({url:"users/user/".concat(null===_e||void 0===_e?void 0:_e.user.uuid),id:"user_info",name:ke("user.info")})),void Se("/users/user/".concat(null===_e||void 0===_e?void 0:_e.user.uuid),{state:{user_id:null===_e||void 0===_e?void 0:_e.user.id}})}})]}),children:(0,G.jsxs)("div",{className:"d-flex w-100 customer-info-container",children:[Ae?(0,G.jsx)(x.Z.Avatar,{size:64,shape:"square"}):(0,G.jsx)(p.C,{shape:"square",size:64,src:null===_e||void 0===_e||null===(se=_e.user)||void 0===se?void 0:se.img}),(0,G.jsx)("h5",{className:"customer-name",children:Ae?(0,G.jsx)(x.Z.Button,{size:20,style:{width:70}}):(null===_e||void 0===_e||null===(de=_e.user)||void 0===de?void 0:de.firstname)+" "+((null===_e||void 0===_e||null===(te=_e.user)||void 0===te?void 0:te.lastname)||"")}),(0,G.jsxs)("div",{className:"customer-info-detail",children:[(0,G.jsxs)("div",{className:"customer-info",children:[(0,G.jsx)("span",{className:"title",children:ke("phone")}),(0,G.jsxs)("span",{className:"description",children:[(0,G.jsx)(U.lfG,{}),Ae?(0,G.jsx)(x.Z.Button,{size:16}):(null===_e||void 0===_e||null===(oe=_e.user)||void 0===oe?void 0:oe.phone)||"none"]})]}),(0,G.jsxs)("div",{className:"customer-info",children:[(0,G.jsx)("span",{className:"title",children:ke("email")}),(0,G.jsxs)("span",{className:"description",children:[(0,G.jsx)(B.ixJ,{}),Ae?(0,G.jsx)(x.Z.Button,{size:16}):Be?(0,$.Z)(null===_e||void 0===_e||null===(re=_e.user)||void 0===re?void 0:re.email):null===_e||void 0===_e||null===(ae=_e.user)||void 0===ae?void 0:ae.email]})]}),(0,G.jsxs)("div",{className:"customer-info",children:[(0,G.jsx)("span",{className:"title",children:ke("registration.date")}),(0,G.jsxs)("span",{className:"description",children:[(0,G.jsx)(U.yoA,{}),Ae?(0,G.jsx)(x.Z.Button,{size:16}):A()(null===_e||void 0===_e||null===(ce=_e.user)||void 0===ce?void 0:ce.created_at).format("DD-MM-YYYY, hh:mm")]})]}),(0,G.jsxs)("div",{className:"customer-info",children:[(0,G.jsx)("span",{className:"title",children:ke("orders.count")}),(0,G.jsx)("span",{className:"description",children:Ae?(0,G.jsx)(x.Z.Button,{size:16}):(0,G.jsx)(f.Z,{showZero:!0,style:{backgroundColor:"#3d7de3"},count:(null===_e||void 0===_e||null===(ue=_e.user)||void 0===ue?void 0:ue.orders_count)||0})})]}),(0,G.jsxs)("div",{className:"customer-info",children:[(0,G.jsx)("span",{className:"title",children:ke("spent.since.registration")}),(0,G.jsx)("span",{className:"description",children:Ae?(0,G.jsx)(x.Z.Button,{size:16}):(0,G.jsx)(f.Z,{showZero:!0,style:{backgroundColor:"#48e33d"},count:(0,z.Z)(null===_e||void 0===_e||null===(ve=_e.user)||void 0===ve?void 0:ve.orders_sum_price,null===we||void 0===we?void 0:we.symbol)})})]})]})]})}),(null===_e||void 0===_e?void 0:_e.review)&&!Ae&&(0,G.jsx)(r.Z,{title:ke("messages"),children:(0,G.jsxs)("div",{className:"order-message",children:[(0,G.jsx)("span",{className:"message",children:null===_e||void 0===_e||null===(xe=_e.review)||void 0===xe?void 0:xe.comment}),(0,G.jsx)(d.Z,{className:"w-100 justify-content-end",children:(0,G.jsx)("span",{className:"date",children:A()(null===_e||void 0===_e||null===(me=_e.review)||void 0===me?void 0:me.created_at).format("YYYY-MM-DD hh:mm")})})]})}),(0,G.jsx)(r.Z,{title:ke("store.information"),children:Ae?(0,G.jsx)(x.Z,{avatar:!0,shape:"square",paragraph:{rows:2}}):(0,G.jsxs)(d.Z,{className:"w-100",children:[(0,G.jsx)(p.C,{shape:"square",size:64,src:M.bV+(null===_e||void 0===_e||null===(he=_e.shop)||void 0===he?void 0:he.logo_img)}),(0,G.jsxs)("div",{children:[(0,G.jsx)("h5",{children:null===_e||void 0===_e||null===(je=_e.shop)||void 0===je||null===(pe=je.translation)||void 0===pe?void 0:pe.title}),(null===_e||void 0===_e||null===(fe=_e.shop)||void 0===fe?void 0:fe.phone)&&(0,G.jsxs)("div",{className:"delivery-info",children:[(0,G.jsx)("b",{children:(0,G.jsx)(U.lfG,{})}),(0,G.jsx)("span",{children:null===_e||void 0===_e||null===(Ze=_e.shop)||void 0===Ze?void 0:Ze.phone})]}),(0,G.jsxs)("div",{className:"delivery-info",children:[(0,G.jsx)("b",{children:(0,G.jsx)(Y.pu9,{size:16})}),(0,G.jsx)("span",{children:null===_e||void 0===_e||null===(ye=_e.shop)||void 0===ye?void 0:ye.price})]}),(0,G.jsxs)("div",{className:"delivery-info",children:[(0,G.jsx)("b",{children:(0,G.jsx)(V.CDT,{size:16})}),(0,G.jsx)("span",{children:null===_e||void 0===_e||null===(ge=_e.shop)||void 0===ge||null===(be=ge.translation)||void 0===be?void 0:be.address})]})]})]})})]})]}),$e&&(0,G.jsx)(C.Z,{orderDetails:$e,handleCancel:sn,status:Xe}),We&&(0,G.jsx)(I.Z,{orderDetails:We,handleCancel:sn}),Me&&(0,G.jsx)(D.Z,{id:Me,handleCancel:sn})]})}},24077:function(e,n,i){i.d(n,{Z:function(){return Z}});var l=i(74165),s=i(15861),d=i(29439),t=i(47313),o=i(18197),r=i(84695),a=i(59491),c=i(68197),u=i(59624),v=i(2717),x=i(7370),m=i(90954),h=i(24511),j=i(49986),p=i(89281),f=i(46417);function Z(e){var n,i,Z,y=e.orderDetails,g=e.handleCancel,b=(0,h.$)().t,N=(0,v.v9)((function(e){return e.menu}),v.wU).activeMenu,w=o.Z.useForm(),_=(0,d.Z)(w,1)[0],k=(0,v.I0)(),C=(0,t.useState)(!1),I=(0,d.Z)(C,2),S=I[0],z=I[1];function q(){return(q=(0,s.Z)((0,l.Z)().mark((function e(n){var i;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={search:n.length?n:void 0,page:1,perPage:10,role:"deliveryman",shop_id:y.shop.id,exist_token:1},e.abrupt("return",j.Z.getAll(i).then((function(e){return e.data.map((function(e){return{label:e.firstname+" "+e.lastname||"no name",value:e.id}}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,f.jsx)(r.Z,{visible:!!y,onCancel:g,footer:[(0,f.jsx)(a.Z,{type:"primary",onClick:function(){return _.submit()},loading:S,children:b("save")},"saveBtn"),(0,f.jsx)(a.Z,{type:"default",onClick:g,children:b("cancel")},"cancelBtn")],children:(0,f.jsx)(o.Z,{form:_,layout:"vertical",onFinish:function(e){var n={deliveryman:e.deliveryman.value};z(!0),x.Z.updateDelivery(y.id,n).then((function(){g(),k((0,m.xo)(N))})).finally((function(){return z(!1)}))},initialValues:{deliveryman:{label:y.deliveryman?(null===y||void 0===y||null===(n=y.deliveryman)||void 0===n?void 0:n.firstname)+" "+(null===y||void 0===y||null===(i=y.deliveryman)||void 0===i?void 0:i.lastname):null,value:y.deliveryman?null===y||void 0===y||null===(Z=y.deliveryman)||void 0===Z?void 0:Z.id:null}},children:(0,f.jsx)(c.Z,{gutter:12,children:(0,f.jsx)(u.Z,{span:24,children:(0,f.jsx)(o.Z.Item,{label:b("deliveryman"),name:"deliveryman",rules:[{required:!0,message:b("required")}],children:(0,f.jsx)(p.h,{className:"w-100",debounceTimeout:500,placeholder:b("select.shop"),fetchOptions:function(e){return q.apply(this,arguments)},allowClear:!0})})})})})})}},7920:function(e,n,i){i.d(n,{Z:function(){return p}});var l=i(1413),s=i(29439),d=i(47313),t=i(18197),o=i(84695),r=i(59491),a=i(68197),c=i(59624),u=i(74294),v=i(2717),x=i(24511),m=i(7370),h=i(90954),j=i(46417);function p(e){var n=e.orderDetails,i=e.handleCancel,p=e.status,f=(0,v.v9)((function(e){return e.menu}),v.wU).activeMenu,Z=t.Z.useForm(),y=(0,s.Z)(Z,1)[0],g=(0,v.I0)(),b=(0,x.$)().t,N=(0,d.useState)(!1),w=(0,s.Z)(N,2),_=w[0],k=w[1],C=(0,d.useState)(p),I=(0,s.Z)(C,2),S=I[0],z=I[1];console.log("status",p),(0,d.useEffect)((function(){var e=p.findIndex((function(e){return e.name===n.status})),i=[p[e],p[e+1],{name:"canceled",id:8,active:!0}];e<0&&(i=[p[e+1],"canceled"]),z(i)}),[n]);return(0,j.jsx)(o.Z,{visible:!!n,title:n.title,onCancel:i,footer:[(0,j.jsx)(r.Z,{type:"primary",onClick:function(){return y.submit()},loading:_,children:b("save")},"save-form"),(0,j.jsx)(r.Z,{type:"default",onClick:i,children:b("cancel")},"cansel-modal")],children:(0,j.jsx)(t.Z,{form:y,layout:"vertical",onFinish:function(e){k(!0);var s=(0,l.Z)({},e);m.Z.updateStatus(n.id,s).then((function(){i(),g((0,h.xo)(f))})).finally((function(){return k(!1)}))},initialValues:{status:n.status},children:(0,j.jsx)(a.Z,{gutter:12,children:(0,j.jsx)(c.Z,{span:24,children:(0,j.jsx)(t.Z.Item,{label:b("status"),name:"status",rules:[{required:!0,message:b("required")}],children:(0,j.jsx)(u.Z,{children:null===S||void 0===S?void 0:S.map((function(e){return(0,j.jsx)(u.Z.Option,{value:null===e||void 0===e?void 0:e.name,children:b(null===e||void 0===e?void 0:e.name)},null===e||void 0===e?void 0:e.name)}))})})})})})})}},80355:function(e,n,i){var l=i(29439),s=i(84697),d=i(83999),t=i(84695),o=i(59491),r=i(77181),a=i(68197),c=i(59624),u=i(66204),v=i(47313),x=i(24511),m=i(7370),h=i(51282),j=i(58821),p=i(2717),f=i(97421),Z=i(18478),y=i(84618),g=i(17649),b=i(66461),N=i(22539),w=i(3394),_=i(57864),k=i(46417),C=d.Z.Step,I=function(){return(0,k.jsx)("img",{src:Z,width:"50",alt:"Pin"})},S=function(){return(0,k.jsx)("img",{src:y,width:"50",alt:"Pin"})},z=["blue","red","gold","volcano","cyan","lime"];n.Z=function(e){var n,i,Z,y,q,B,D=e.id,T=e.handleCancel,M=(0,x.$)().t,U=(0,v.useState)(null),Y=(0,l.Z)(U,2),F=Y[0],A=Y[1],V=(0,v.useState)(null),L=(0,l.Z)(V,2),O=L[0],$=L[1],G=(0,v.useState)(null),P=(0,l.Z)(G,2),E=P[0],Q=P[1],R=(0,p.v9)((function(e){return e.globalSettings}),p.wU).settings,J=(0,g.Z)(R),K=(0,v.useState)(0),W=(0,l.Z)(K,2),H=W[0],X=W[1],ee=(0,v.useState)((0,g.Z)(R)),ne=(0,l.Z)(ee,2),ie=ne[0],le=ne[1],se=(0,v.useState)((0,g.Z)(R)),de=(0,l.Z)(se,2),te=de[0],oe=de[1],re=(0,v.useState)([{id:0,name:"new",icon:(0,k.jsx)(b.Z,{})},{id:1,name:"accepted",icon:(0,k.jsx)(j.IQF,{})},{id:2,name:"ready",icon:(0,k.jsx)(N.TkG,{})},{id:3,name:"on_a_way",icon:(0,k.jsx)(w.Akc,{})},{id:4,name:"delivered",icon:(0,k.jsx)(w.kme,{})}]),ae=(0,l.Z)(re,2),ce=ae[0],ue=ae[1];var ve=(0,p.v9)((function(e){return e.globalSettings.settings}),p.wU).google_map_key;(0,v.useEffect)((function(){A(!0),m.Z.getById(D).then((function(e){var n,i=e.data;ue("canceled"===i.status?[{id:1,name:"new",icon:(0,k.jsx)(b.Z,{})},{id:5,name:"canceled",icon:(0,k.jsx)(_.SV5,{})}]:ce),X("canceled"===i.status?1:null===(n=ce.find((function(e){return e.name===i.status})))||void 0===n?void 0:n.id),Q("canceled"===i.status?"error":"success"),$(i),oe({lat:i.location.latitude,lng:i.location.longitude}),le({lat:i.shop.location.latitude,lng:i.shop.location.longitude})})).finally((function(){A(!1)}))}),[]);return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(t.Z,{visible:!!D,title:M("show.locations"),onCancel:function(){return T()},style:{minWidth:"80vw"},footer:[(0,k.jsx)(o.Z,{type:"default",onClick:T,children:M("cancel")},"cancelBtn")],children:F?(0,k.jsx)(h.Z,{}):(0,k.jsxs)(r.Z,{children:[(0,k.jsx)(d.Z,{current:H,status:E,className:"mb-5",children:null===ce||void 0===ce?void 0:ce.map((function(e,n){return(0,k.jsx)(C,{title:M(e.name),icon:null===e||void 0===e?void 0:e.icon},e.id+n)}))}),(0,k.jsxs)(a.Z,{gutter:12,children:[(0,k.jsxs)(c.Z,{span:12,children:[(0,k.jsxs)("h3",{children:[M("order.id")," #",null===O||void 0===O?void 0:O.id]}),(0,k.jsxs)("p",{children:[(0,k.jsx)(j.D73,{})," ",null===O||void 0===O?void 0:O.created_at]}),(0,k.jsxs)("p",{children:[M("schedulet.at")," ",null===O||void 0===O?void 0:O.delivery_date]}),(0,k.jsxs)("span",{children:[(0,k.jsx)("strong",{children:null===O||void 0===O||null===(n=O.shop)||void 0===n||null===(i=n.translation)||void 0===i?void 0:i.title})," ",null===O||void 0===O||null===(Z=O.details)||void 0===Z?void 0:Z.map((function(e,n){var i;return(0,k.jsx)(u.Z,{color:z[n],children:null===e||void 0===e||null===(i=e.stock)||void 0===i?void 0:i.product.translation.title})}))]})]}),(0,k.jsxs)(c.Z,{span:12,children:[(0,k.jsxs)("p",{children:[M("status")," ","new"===(null===O||void 0===O?void 0:O.status)?(0,k.jsx)(u.Z,{color:"blue",children:M(null===O||void 0===O?void 0:O.status)}):"canceled"===(null===O||void 0===O?void 0:O.status)?(0,k.jsx)(u.Z,{color:"error",children:M(null===O||void 0===O?void 0:O.status)}):(0,k.jsx)(u.Z,{color:"cyan",children:M(null===O||void 0===O?void 0:O.status)})]}),(0,k.jsxs)("p",{children:[M("payment.method")," ",(0,k.jsx)("strong",{children:null===O||void 0===O||null===(y=O.transaction)||void 0===y||null===(q=y.payment_system)||void 0===q?void 0:q.tag})]}),(0,k.jsxs)("p",{children:[M("order.type")," ",(0,k.jsx)("strong",{children:null===O||void 0===O?void 0:O.delivery_type})]}),(0,k.jsxs)("p",{children:[M("payment.type")," ",(0,k.jsx)("strong",{children:null===O||void 0===O||null===(B=O.transaction)||void 0===B?void 0:B.status})]})]}),(0,k.jsxs)(c.Z,{span:24,className:"mt-5",children:[(0,k.jsx)("h4",{children:M("map")}),(0,k.jsx)("div",{className:"map-container",style:{height:400,width:"100%"},children:(0,k.jsxs)(s.ZP,{bootstrapURLKeys:{key:f.kr||ve},defaultZoom:15,center:J,yesIWantToUseGoogleMapApiInternals:!0,options:{fullscreenControl:!1},onGoogleApiLoaded:function(e){for(var n=e.map,i=e.maps,l=[ie,te].map((function(e){return{lat:Number(e.lat||"0"),lng:Number(e.lng||"0")}})),s=new i.LatLngBounds,d=0;d<l.length;d++)s.extend(l[d]);n.fitBounds(s)},children:[(0,k.jsx)(S,{lat:null===ie||void 0===ie?void 0:ie.lat,lng:null===ie||void 0===ie?void 0:ie.lng}),(0,k.jsx)(I,{lat:null===te||void 0===te?void 0:te.lat,lng:null===te||void 0===te?void 0:te.lng})]})})]})]})]})})})}},84618:function(e,n,i){e.exports=i.p+"static/media/shop.46d7a94ca800c711764a.png"},18478:function(e,n,i){e.exports=i.p+"static/media/user.fbe7078c52acde79652d.jpg"}}]);