"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[9102],{25513:function(e,n,t){var r=t(93433),s=t(29439),a=t(47313),i=t(68197),d=t(66204),o=t(59624),l=t(45705),c=t(59491),u=t(18197),m=t(6289),f=t(77181),h=t(25050),p=t(86345),x=t(24511),Z=t(70816),y=t.n(Z),g=t(58821),b=t(43681),j=t(11829),k=t(19393),w=t(46417);n.Z=function(e){var n=e.onFinish,t=e.form,Z=e.lines,v=e.loadingBtn,_=e.days,S=e.setDays,D=e.setLines,N=e.weeks,C=(0,x.$)().t,P=[{from:new Date(1900,4,18),to:new Date}],Y=(0,a.useState)(!0),F=(0,s.Z)(Y,2),I=F[0],M=F[1],O=_&&_.length>0?(0,w.jsxs)(i.Z,{children:[(0,w.jsx)(d.Z,{style:{fontSize:14,padding:"4px 10px",width:"100%",marginTop:"10px"},children:C("Your.existing.vacations")}),(0,w.jsxs)(o.Z,{span:24,className:"mt-2",children:[_.slice(0,I?1:_.length).map((function(e,n){return(0,w.jsxs)(l.Z,{className:"d-flex justify-content-between",style:{borderBottom:"1px solid #4D5B75"},children:[(0,w.jsx)(o.Z,{span:24,style:{fontSize:14,marginTop:"8px"},children:y()(e).format("YYYY-MM-DD")}),(0,w.jsx)(o.Z,{span:24,children:(0,w.jsx)(d.Z,{color:"red",className:"cursor-pointer mt-3 mb-2",style:{fontSize:14},onClick:function(){return n=e,S(_.filter((function(e){return e!==n})));var n},children:C("remove")})})]},n)})),(0,w.jsx)(c.Z,{className:"mt-3 w-100",onClick:function(){M(!I)},children:I?(0,w.jsx)(g.ahe,{}):(0,w.jsx)(g.dMq,{})})]})]}):(0,w.jsx)(d.Z,{style:{fontSize:14,padding:"4px 10px",width:"100%"},children:"Please pick one or more days."}),B=function(e,n){for(var t=[],r=e;r<n;r++)t.push(r);return t},H=function(){return{disabledHours:function(){return B(0,1)},disabledMinutes:function(){return B(0,0)},disabledSeconds:function(){return B(0,60)}}};return(0,w.jsx)(u.Z,{form:t,layout:"vertical",onFinish:n,children:(0,w.jsxs)(i.Z,{gutter:12,children:[(0,w.jsx)(o.Z,{span:12,children:(0,w.jsx)(u.Z.Item,{label:C("max.time"),name:"max_time",rules:[{required:!0,message:C("required")}],children:(0,w.jsx)(m.Z,{max:24,className:"w-100"})})}),(0,w.jsx)(o.Z,{span:12}),(0,w.jsx)(o.Z,{span:12,children:(0,w.jsx)(f.Z,{title:C("booking.working.days"),children:(0,w.jsx)(i.Z,{gutter:8,children:(0,w.jsx)(o.Z,{span:24,children:(0,w.jsx)(u.Z.List,{name:"working_days",children:function(e){return(0,w.jsx)("div",{children:e.map((function(e,n){return(0,w.jsxs)(i.Z,{gutter:12,align:"center",children:[(0,w.jsx)(o.Z,{span:7,children:(0,w.jsx)(u.Z.Item,{name:[n,"day"],children:(0,w.jsx)("span",{children:C(N[n].title)})})}),Z[e.key]?(0,w.jsx)(o.Z,{span:13,className:"mt-2",children:(0,w.jsx)("span",{children:C("shop.closed")})}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(o.Z,{span:7,children:(0,w.jsx)(u.Z.Item,{rules:[{required:!1===Z[e.key]}],name:[n,"from"],children:(0,w.jsx)(h.Z,{disabledTime:H,picker:"time",placeholder:C("start.time")})})}),(0,w.jsx)(o.Z,{span:6,children:(0,w.jsx)(u.Z.Item,{rules:[{required:!1===Z[e.key]}],name:[n,"to"],children:(0,w.jsx)(h.Z,{disabledTime:H,picker:"time",placeholder:C("end.time")})})})]}),(0,w.jsx)(o.Z,{span:4,children:(0,w.jsx)(u.Z.Item,{name:[n,"disabled"],valuePropName:"checked",children:(0,w.jsx)(p.Z,{checkedChildren:(0,w.jsx)(b.Z,{}),unCheckedChildren:(0,w.jsx)(j.Z,{}),checked:Z[e.key],onChange:function(){return function(e){var n=(0,r.Z)(Z);n[e]=!Z[e],D(n)}(e.key)}})})})]},e.key)}))})}})})})})}),(0,w.jsx)(o.Z,{span:12,children:(0,w.jsxs)(f.Z,{title:C("booking.closed.days"),children:[(0,w.jsx)("p",{children:C("booking.closed.days.text")}),(0,w.jsx)(u.Z.Item,{rules:[{required:!1,message:C("required")}],children:(0,w.jsx)(k._W,{className:"datepicker",mode:"multiple",disabled:P,min:1,selected:_,onSelect:S,footer:O,showOutsideDays:!0})})]})}),(0,w.jsx)(o.Z,{span:24,children:(0,w.jsx)(l.Z,{children:(0,w.jsx)(c.Z,{type:"primary",htmlType:"submit",loading:v,children:C("save")})})})]})})}},21429:function(e,n,t){t.d(n,{P:function(){return r}});var r=[{title:"monday",disabled:!1},{title:"tuesday",disabled:!1},{title:"wednesday",disabled:!1},{title:"thursday",disabled:!1},{title:"friday",disabled:!1},{title:"saturday",disabled:!1},{title:"sunday",disabled:!1}]},31872:function(e,n,t){var r=t(34344),s={getById:function(e){return r.Z.get("dashboard/seller/booking/shop-closed-dates/".concat(e))},create:function(e){return r.Z.post("dashboard/seller/booking/shop-closed-dates",e,{})},update:function(e,n){return r.Z.put("dashboard/seller/booking/shop-closed-dates/".concat(e),n,{})},delete:function(e){return r.Z.delete("dashboard/seller/booking/shop-closed-dates/delete",{params:e})}};n.Z=s},61887:function(e,n,t){var r=t(34344),s={getById:function(e){return r.Z.get("dashboard/seller/booking/shop-working-days/".concat(e))},create:function(e){return r.Z.post("dashboard/seller/booking/shop-working-day",e,{})},update:function(e,n){return r.Z.put("dashboard/seller/booking/shop-working-days/".concat(e),n,{})},delete:function(e){return r.Z.delete("dashboard/seller/booking/shop-working-days",{params:e})}};n.Z=s},34830:function(e,n,t){t.r(n);var r=t(1413),s=t(29439),a=t(47313),i=t(51282),d=t(70816),o=t.n(d),l=t(21429),c=t(25513),u=t(18197),m=t(66444),f=t(31872),h=t(2717),p=t(61887),x=t(90954),Z=t(34491),y=t(58467),g=t(24511),b=t(72936),j=t(46417);n.default=function(){var e=(0,g.$)().t,n=u.Z.useForm(),t=(0,s.Z)(n,1)[0],d=(0,a.useState)([]),k=(0,s.Z)(d,2),w=k[0],v=k[1],_=(0,a.useState)(new Array(7).fill(!1)),S=(0,s.Z)(_,2),D=S[0],N=S[1],C=(0,a.useState)(!1),P=(0,s.Z)(C,2),Y=P[0],F=P[1],I=(0,a.useState)(!1),M=(0,s.Z)(I,2),O=M[0],B=M[1],H=(0,h.v9)((function(e){return e.myShop}),h.wU).myShop,E=(0,h.v9)((function(e){return e.menu}),h.wU).activeMenu,q=(0,h.I0)(),T=(0,y.s0)();return(0,a.useEffect)((function(){t.setFieldsValue({working_days:l.P})}),[]),(0,a.useEffect)((function(){E.refetch&&(B(!0),m.Z.getAll().then((function(e){t.setFieldsValue({max_time:e.data.max_time})})).finally((function(){q((0,x.A_)(E)),B(!1)})),f.Z.getById(H.uuid).then((function(e){v(e.data.closed_dates.filter((function(e){return e.day>o()(new Date).format("YYYY-MM-DD")})).map((function(e){return new Date(e.day)})))})).finally((function(){q((0,x.A_)(E)),B(!1)})),p.Z.getById(H.uuid).then((function(e){N(0!==e.data.dates.length?e.data.dates.map((function(e){return e.disabled})):[]),0!==e.data.dates.length&&t.setFieldsValue({working_days:e.data.dates.map((function(e){return{title:e.day,from:o()(e.from,"HH:mm:ss"),to:o()(e.to,"HH:mm:ss"),disabled:Boolean(e.disabled)}}))})})).finally((function(){q((0,x.A_)(E)),B(!1)})))}),[E.refetch]),(0,j.jsx)(j.Fragment,{children:O?(0,j.jsx)(i.Z,{}):(0,j.jsx)(c.Z,{onFinish:function(n){F(!0);var t={dates:w?w.map((function(e){return o()(e).format("YYYY-MM-DD")})):void 0},s={dates:n.working_days.map((function(e){return{day:e.title,from:o()(e.from?e.from:"00").format("HH-mm"),to:o()(e.to?e.to:"00").format("HH-mm"),disabled:e.disabled}}))},a={max_time:n.max_time},i="seller/booking/time";Promise.all([m.Z.create(a),f.Z.update(H.uuid,t),0!==n.working_days.length?p.Z.update(H.uuid,s):void 0]).then((function(){Z.Am.success(e("successfully.updated")),q((0,b.R)()),q((0,x.ph)((0,r.Z)((0,r.Z)({},E),{},{nextUrl:i}))),T("/".concat(i))}))},form:t,lines:D,loadingBtn:Y,days:w,setDays:v,setLines:N,weeks:l.P})})}},25050:function(e,n,t){var r=t(87462),s=t(47313),a=t(99096),i=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)n.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(t[r[s]]=e[r[s]])}return t},d=a.Z.TimePicker,o=a.Z.RangePicker,l=s.forwardRef((function(e,n){return s.createElement(o,(0,r.Z)({},e,{dropdownClassName:e.popupClassName,picker:"time",mode:void 0,ref:n}))})),c=s.forwardRef((function(e,n){var t=e.addon,a=e.renderExtraFooter,o=e.popupClassName,l=i(e,["addon","renderExtraFooter","popupClassName"]),c=s.useMemo((function(){return a||(t||void 0)}),[t,a]);return s.createElement(d,(0,r.Z)({},l,{dropdownClassName:o,mode:void 0,ref:n,renderExtraFooter:c}))}));c.displayName="TimePicker",c.RangePicker=l,n.Z=c}}]);