"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[9839],{41481:function(e,n,t){t.d(n,{Z:function(){return f}});var a=t(1413),r=t(29439),i=t(45987),l=t(47313),c=t(66672),s=t(16031),u=t(40765),o=t(46417),d=["handleChange","defaultValue","resetSearch"];function f(e){var n=e.handleChange,t=e.defaultValue,f=e.resetSearch,h=(0,i.Z)(e,d),Z=(0,l.useState)(t),p=(0,r.Z)(Z,2),x=p[0],v=p[1],m=(0,l.useMemo)((function(){return(0,s.debounce)((function(e){n(e)}),800)}),[]);return(0,l.useEffect)((function(){v(t)}),[f]),(0,o.jsx)(c.Z,(0,a.Z)({value:x,onChange:function(e){v(e.target.value),m(e.target.value)},prefix:(0,o.jsx)(u.Z,{})},h))}},69839:function(e,n,t){t.r(n),t.d(n,{default:function(){return P}});var a=t(93433),r=t(74165),i=t(15861),l=t(4942),c=t(1413),s=t(29439),u=t(45987),o=t(47313),d=t(18197),f=t(66672),h=t(77181),Z=t(45705),p=t(74294),x=t(59491),v=t(78508),m=t(34344),g={getAll:function(e){return m.Z.get("dashboard/admin/translations/paginate",{params:e})},delete:function(e){return m.Z.delete("dashboard/admin/translations/".concat(e))},getById:function(e,n){return m.Z.get("dashboard/admin/translations/".concat(e),{params:n})},create:function(e){return m.Z.post("dashboard/admin/translations",{},{params:e})},update:function(e,n){return m.Z.put("dashboard/admin/translations/".concat(e),{},{params:n})}},j=t(34491),b=t(12019),y=t(55768),S=t(84695),w=t(68197),k=t(59624),C=t(24511),I=t(46417);function O(e){var n=e.visible,t=e.setVisible,a=e.languages,r=e.refetch,i=(0,C.$)().t,l=(0,o.useState)(!1),c=(0,s.Z)(l,2),u=c[0],h=c[1],Z=d.Z.useForm(),v=(0,s.Z)(Z,1)[0],m=function(){t(!1)};return(0,I.jsx)(S.Z,{visible:n,title:i("add.translation"),onCancel:m,footer:[(0,I.jsx)(x.Z,{type:"primary",form:"translation-form",htmlType:"submit",loading:u,children:i("create")},"create-translation"),(0,I.jsx)(x.Z,{type:"default",onClick:m,children:i("cancel")},"create-translation-cancel")],children:(0,I.jsx)(d.Z,{id:"translation-form",name:"translation",layout:"vertical",onFinish:function(e){h(!0),g.create(e).then((function(){j.Am.success(i("successfully.created")),t(!1),r()})).finally((function(){return h(!1)}))},form:v,initialValues:{group:"web"},children:(0,I.jsxs)(w.Z,{gutter:12,children:[(0,I.jsx)(k.Z,{span:24,children:(0,I.jsx)(d.Z.Item,{label:i("name"),name:"key",rules:[{required:!0,message:""}],children:(0,I.jsx)(f.Z,{})})}),(0,I.jsx)(k.Z,{span:24,children:(0,I.jsx)(d.Z.Item,{label:i("group"),name:"group",rules:[{required:!0,message:""}],children:(0,I.jsxs)(p.Z,{children:[(0,I.jsx)(p.Z.Option,{value:"web",children:i("web")}),(0,I.jsx)(p.Z.Option,{value:"mobile",children:i("mobile")}),(0,I.jsx)(p.Z.Option,{value:"errors",children:i("errors")})]})})}),a.map((function(e,n){return(0,I.jsx)(k.Z,{span:24,children:(0,I.jsx)(d.Z.Item,{label:"".concat(i("translation")," (").concat(e.locale,")"),name:"value[".concat(e.locale,"]"),rules:[{required:!0,message:""}],children:(0,I.jsx)(f.Z,{})})},n)}))]})})})}var V=t(2717),q=t(41481),z=["index"],E=["title","editable","children","dataIndex","record","handleSave"],F=o.createContext(null),A=function(e){e.index;var n=(0,u.Z)(e,z),t=d.Z.useForm(),a=(0,s.Z)(t,1)[0];return(0,I.jsx)(d.Z,{form:a,component:!1,children:(0,I.jsx)(F.Provider,{value:a,children:(0,I.jsx)("tr",(0,c.Z)({},n))})})},M=function(e){e.title;var n=e.editable,t=e.children,a=e.dataIndex,h=e.record,Z=e.handleSave,p=(0,u.Z)(e,E),x=(0,C.$)().t,v=(0,o.useState)(!1),m=(0,s.Z)(v,2),g=m[0],j=m[1],y=(0,o.useRef)(null),S=(0,o.useContext)(F);(0,o.useEffect)((function(){g&&y.current.focus()}),[g]);var w=function(){j(!g),S.setFieldsValue((0,l.Z)({},a,h[a]))},k=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.validateFields();case 3:n=e.sent,w(),Z((0,c.Z)((0,c.Z)((0,c.Z)({},h),n),{},{dataIndex:a})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Save failed:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),O=t;return n&&(O=g?(0,I.jsx)(d.Z.Item,{style:{margin:0},name:a,rules:[{required:!0,message:x("required")}],children:(0,I.jsx)(f.Z,{ref:y,onPressEnter:k,onBlur:k})}):(0,I.jsxs)("div",{className:"editable-cell-value-wrap cursor-pointer d-flex justify-content-between align-items-center",style:{paddingRight:24},onClick:w,children:[(0,I.jsx)("div",{className:"w-100",children:t}),(0,I.jsx)(b.Z,{})]})),(0,I.jsx)("td",(0,c.Z)((0,c.Z)({},p),{},{children:O}))};function P(){var e=(0,C.$)().t,n=(0,o.useState)([]),t=(0,s.Z)(n,2),r=t[0],i=t[1],u=(0,o.useState)(10),d=(0,s.Z)(u,2),f=d[0],m=d[1],b=(0,o.useState)(1),S=(0,s.Z)(b,2),w=S[0],k=S[1],z=(0,o.useState)(0),E=(0,s.Z)(z,2),F=E[0],P=E[1],B=(0,o.useState)(!1),N=(0,s.Z)(B,2),R=N[0],$=N[1],H=(0,o.useState)(null),W=(0,s.Z)(H,2),_=W[0],K=W[1],L=(0,o.useState)(null),T=(0,s.Z)(L,2),U=T[0],D=T[1],G=(0,o.useState)(null),J=(0,s.Z)(G,2),Q=J[0],X=J[1],Y=(0,o.useState)(!1),ee=(0,s.Z)(Y,2),ne=ee[0],te=ee[1],ae=(0,o.useState)(0),re=(0,s.Z)(ae,2),ie=re[0],le=re[1],ce=(0,V.v9)((function(e){return e.formLang}),V.wU).languages,se=(0,o.useState)(""),ue=(0,s.Z)(se,2),oe=ue[0],de=ue[1],fe=(0,o.useState)(""),he=(0,s.Z)(fe,2),Ze=he[0],pe=he[1],xe=(0,o.useMemo)((function(){return[{title:e("name"),dataIndex:"key",sorter:function(e,n,t){return ve(t,"key")},width:250,fixed:"left"},{title:e("group"),dataIndex:"group",sorter:function(e,n,t){return ve(t,"group")},width:150,fixed:"left"}].concat((0,a.Z)(ce.filter((function(e){return!oe||e.locale===oe})).map((function(e){return{title:e.title,dataIndex:"value[".concat(e.locale,"]"),editable:!0,width:300}}))))}),[ce,oe]);function ve(e,n){var t;switch(e){case"ascend":t="asc";break;case"descend":t="desc"}D(t),X(n)}function me(){$(!0);var e={perPage:f,skip:ie,group:_,sort:U,column:Q,search:Ze};g.getAll(e).then((function(e){var n=e.data,t=Object.entries(n.translations).map((function(e){return(0,c.Z)({key:e[0],group:e[1][0].group},Object.assign.apply(Object,[{}].concat((0,a.Z)(ce.map((function(n){var t;return(0,l.Z)({},"value[".concat(n.locale,"]"),null===(t=e[1].find((function(e){return e.locale===n.locale})))||void 0===t?void 0:t.value)}))))))}));i(t),P(n.total)})).finally((function(){return $(!1)}))}(0,o.useEffect)((function(){me()}),[f,_,U,Q,ie,Ze]);var ge=function(e){var n=e.dataIndex,t=e.key,l=(0,a.Z)(r),s=l.findIndex((function(n){return e.key===n.key})),u=l[s];u[n]!==e[n]&&(l.splice(s,1,(0,c.Z)((0,c.Z)({},u),e)),i(l),function(e,n){g.update(e,n).then((function(e){return j.Am.success(e.message)}))}(t,(0,c.Z)((0,c.Z)({},e),{},{value:void 0,dataIndex:void 0,key:void 0})))};var je={body:{row:A,cell:M}},be=xe.map((function(e){return e.editable?(0,c.Z)((0,c.Z)({},e),{},{onCell:function(n){return{record:n,editable:e.editable,dataIndex:e.dataIndex,title:e.title,fixed:e.fixed,handleSave:ge}}}):e}));return(0,I.jsxs)(h.Z,{title:e("translations"),extra:(0,I.jsxs)(Z.Z,{wrap:!0,children:[(0,I.jsx)(q.Z,{placeholder:e("search"),handleChange:function(e){return pe(e)}}),(0,I.jsxs)(p.Z,{style:{minWidth:150},value:oe,onChange:function(e){return de(e)},placeholder:e("select.language"),children:[(0,I.jsx)(p.Z.Option,{value:"",children:e("all")}),ce.map((function(e){return(0,I.jsx)(p.Z.Option,{value:e.locale,children:e.title},e.locale)}))]}),(0,I.jsxs)(p.Z,{style:{minWidth:150},value:_,onChange:function(e){return K(e)},placeholder:e("select.group"),children:[(0,I.jsx)(p.Z.Option,{value:"",children:e("all")}),(0,I.jsx)(p.Z.Option,{value:"web",children:e("web")}),(0,I.jsx)(p.Z.Option,{value:"mobile",children:e("mobile")}),(0,I.jsx)(p.Z.Option,{value:"errors",children:e("errors")})]}),(0,I.jsx)(x.Z,{icon:(0,I.jsx)(y.Z,{}),type:"primary",onClick:function(){return te(!0)},children:e("add.translation")})]}),children:[(0,I.jsx)(v.Z,{components:je,columns:be,dataSource:r,pagination:{pageSize:f,page:w,total:F},rowKey:function(e){return e.id},onChange:function(e){var n=e.pageSize,t=e.current,a=(t-1)*n;m(n),k(t),le(a)},loading:R,scroll:{x:1500}}),ne&&(0,I.jsx)(O,{visible:ne,setVisible:te,languages:ce,refetch:me})]})}},55768:function(e,n,t){t.d(n,{Z:function(){return s}});var a=t(1413),r=t(47313),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},l=t(17469),c=function(e,n){return r.createElement(l.Z,(0,a.Z)((0,a.Z)({},e),{},{ref:n,icon:i}))};c.displayName="PlusCircleOutlined";var s=r.forwardRef(c)}}]);